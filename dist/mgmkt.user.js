// ==UserScript==
// @name         MegaMarket product cards & offers filter
// @description  Hide product cards & offers by filter
// @grant        GM_addValueChangeListener
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://megamarket.ru/*
// @namespace    https://github.com/reliable-code/product-list-filters
// @version      0.1.73672377
// @icon         https://www.google.com/s2/favicons?sz=64&domain=megamarket.ru
// @author       reliable-code
// ==/UserScript==

(()=>{(()=>{"use strict";var $={9928:(P,d,e)=>{e.d(d,{S:()=>m,Sw:()=>h,kU:()=>C,o5:()=>c});var a=e(4921),f=e(5539);function C(u,t,s){const i=o(u,"text",t);return i.value=s,i}function c(u,t,s,i,D,R){const v=o(u,"number",t);return v.value=s,v.step=i,v.min=D,v.max=R,v}function m(u,t,s){const i=o(u,"checkbox",t);return i.checked=s,i}function o(u={},t=null,s=null){const i=l("input",u);return t&&(i.type=t),s&&(i.addEventListener("keyup",(0,a.sg)(s,200)),i.addEventListener("change",(0,a.sg)(s,100))),i}function r(u={},t=null){return l("span",u,t)}function n(u={},t=null,s=null){const i=l("a",u,t);return s&&(i.href=s),i}function p(u={},t=null,s=null){const i=l("button",u,t);return s&&(i.onclick=s),i}function h(u={},t=null){return l("div",u,t)}function l(u,t,s=null){if(typeof t!="object"||t===null)throw new TypeError("styles should be an object");const i=document.createElement(u);return(0,f.ZM)(i,t),s&&(i.innerHTML=s),i}},573:(P,d,e)=>{e.d(d,{Fi:()=>C,YA:()=>r,fI:()=>c});var a=e(4214);function f(t,s=document){return!!s.querySelector(t)}function C(t,s=document,i=!1){const D=s.querySelector(t);return i&&!D&&console.log(`No element found for selector: ${t}`),D}function c(t,s=document,i=!1){const D=s.querySelectorAll(t);return i&&!D.length&&console.log(`No elements found for selector: ${t}`),D}function m(t,s,i){return[...t.querySelectorAll(s)].find(D=>D.textContent.trim().includes(i))}function o(t,s,i=!1,D=!1){const R=C(s,t,!0);return r(R,i,D)}function r(t,s=!1,i=!1,D=null){if(!t)return D===null?(console.log("No element found"),null):D;const R=t.innerText;return h(R,s,i)}function n(t,s,i=!1){const D=t[s];return r(D,i)}function p(t,s=!1,i=!1){const D=t.textContent;return h(D,s,i)}function h(t,s,i){return s&&(t=(0,a.zr)(t)),i&&(t=t.replace(",",".")),+t}function l(t){return[...t.childNodes].find(s=>s.nodeType===Node.TEXT_NODE)}function u(t){const s=i=>i.nodeType===Node.TEXT_NODE&&i.textContent.trim()!==""?[i]:[...i.childNodes].flatMap(s);return s(t)}},5539:(P,d,e)=>{e.d(d,{Bt:()=>f,UC:()=>r,ZM:()=>A,kl:()=>m});function a(E,b){E.parentNode.insertBefore(b,E.nextSibling)}function f(E){E.style.display="none"}function C(E){h(E),f(E)}function c(E){E.intersectionObserver||runOnceOnIntersection(E,()=>f(E))}function m(E){E.style.display=""}function o(E){const b=p(E);E.style.display=b}function r(E,b){b?f(E):m(E)}function n(E,b){b?c(E):(clearIntersectionObserver(E),m(E))}function p(E){return h(E),E.defaultDisplay}function h(E){if(E.defaultDisplay)return;const{display:b}=getComputedStyle(E);E.defaultDisplay=b}function l(){return{show:[],hide:[]}}function u(E,b,N){E?b.hide.push(N):b.show.push(N)}function t(E){E.show.forEach(m),E.hide.forEach(f)}function s(E,b,N=.3){b?D(E,N):i(E)}function i(E){E.style.opacity=""}function D(E,b=.3){E.style.opacity=b}function R(E){E.style.order=""}function v(E,b){E.style.order=b}function O(E,b){E.style.background=b}function _(E,b="custom-global-style"){let N=document.getElementById(b);N||(N=document.createElement("style"),N.id=b,N.type="text/css",document.head.appendChild(N)),N.textContent=E}function A(E,b){Object.assign(E.style,b)}function F(E){return Object.entries(E).map(([b,N])=>`${b.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${N};`).join(" ")}function w(E){return E?E.split(";").filter(b=>b.trim()!=="").reduce((b,N)=>{const[B,M]=N.split(":").map(g=>g.trim()),T=B.replace(/-([a-z])/g,(g,I)=>I.toUpperCase());return b[T]=M,b},{}):{}}},4921:(P,d,e)=>{e.d(d,{sg:()=>C,xk:()=>a});async function a(o,r,n=null){const p=o.querySelector(r);return p?Promise.resolve(p):new Promise(h=>{const l=new MutationObserver(t);l.observe(o,{childList:!0,subtree:!0});let u=null;n&&(u=setTimeout(()=>{l.disconnect(),console.log(`No element found for selector: ${r}`),h(null)},n));function t(){const s=o.querySelector(r);s&&(u&&clearTimeout(u),l.disconnect(),h(s))}})}async function f(o,r){return o.querySelector(r)?new Promise(p=>{const h=new MutationObserver(l);h.observe(o,{childList:!0,subtree:!0});function l(){o.querySelector(r)||(h.disconnect(),p())}}):Promise.resolve()}function C(o,r=250){let n;return(...p)=>{clearTimeout(n),n=setTimeout(()=>o(...p),r)}}function c(o,r){const n=new IntersectionObserver(p=>{p.forEach(h=>{h.isIntersecting&&(r(),m(o))})});o.intersectionObserver=n,n.observe(o)}function m(o){o.intersectionObserver&&(o.intersectionObserver.disconnect(),o.intersectionObserver=null)}},3829:(P,d,e)=>{e.d(d,{Ay:()=>f,JE:()=>c,iG:()=>m});var a=e(8355);function f(r,n){return!C(r,n)}function C(r,n){if(!n.value)return!0;const p=r.toLowerCase(),h=(0,a.R)(n),l=[],u=[];return h.forEach(t=>{if(t.startsWith("!")){const s=t.substring(1);s&&u.push(s)}else l.push(t)}),l.every(t=>p.includes(t))&&u.every(t=>!p.includes(t))}function c(r,n){return n.value!=null&&r<n.value}function m(r,n){return n.value!=null&&r>n.value}function o(r,n){return n.value&&r!==n.value}},4521:(P,d,e)=>{e.d(d,{z:()=>f});var a=e(3048);function f(C,c=null){return{createGlobalFilter(m,o=null,r=C){return a.V.create(m,o,r)},createSectionFilter(m,o=null,r=C){if(!c)throw new Error("sectionId must be provided to use createSectionFilter.");return a.V.createWithCompositeKey(c,m,o,r)}}}},5884:(P,d,e)=>{e.d(d,{Hw:()=>c,Nm:()=>f,nW:()=>C});var a=e(9928);function f(m,o,r={},n={}){const p=(0,a.Sw)(r,m),h=(0,a.kU)(n,o.updateValueFromEvent,o.value);return p.append(h),p}function C(m,o,r,n,p,h={},l={}){const u=(0,a.Sw)(h,m),t=(0,a.o5)(l,o.updateValueFromEvent,o.value,r,n,p);return u.append(t),u}function c(m,o,r={},n={}){const p=(0,a.Sw)(r,m),h=(0,a.S)(n,o.updateValueFromEvent,o.value);return p.append(h),p}},7877:(P,d,e)=>{e.d(d,{Ch:()=>h,E9:()=>f,H1:()=>t,HX:()=>C,VD:()=>n,Zi:()=>l,pW:()=>R});var a=e(5884);function f(v,O={},_={}){return(0,a.Nm)("\u041F\u043E\u0438\u0441\u043A: ",v,O,_)}function C(v,O={},_={},A=.1,F=3){return(0,a.nW)("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",v,A,F,5,O,_)}function c(v,O={},_={},A=.1,F=3){return createNumberFilterControl("\u041C\u0430\u043A\u0441. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",v,A,F,5,O,_)}function m(v,O={},_={}){return r("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",v,O,_)}function o(v,O={},_={}){return r("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",v,O,_)}function r(v,O,_={},A={}){return createNumberFilterControl(v,O,"1","1","999999",_,A)}function n(v,O={},_={}){return p("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",v,O,_)}function p(v,O,_={},A={}){return(0,a.nW)(v,O,"5","0","100",_,A)}function h(v,O={},_={}){return(0,a.nW)("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",v,"5","0","100",O,_)}function l(v,O,_={},A={},F="250"){return(0,a.nW)(v,O,F,"0","1000000",_,A)}function u(v,O={},_={},A="25"){return l("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",v,O,_,A)}function t(v,O={},_={},A="25"){return l("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",v,O,_,A)}function s(v,O,_={},A={}){return createNumberFilterControl(v,O,"1","0","99999",_,A)}function i(v,O={},_={}){return createCheckboxFilterControl("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",v,O,_)}function D(v,O={},_={}){return createCheckboxFilterControl("\u0421 \u0444\u043E\u0442\u043E: ",v,O,_)}function R(v,O={},_={}){return(0,a.Hw)("\u0412\u043A\u043B: ",v,O,_)}},8355:(P,d,e)=>{e.d(d,{R:()=>a});function a(C){return C.value.toLowerCase().split(",").map(c=>c.trim()).filter(c=>c!=="")}function f(C){return a(C).filter(c=>!c.startsWith("!"))}},5213:(P,d,e)=>{e.d(d,{b:()=>C});var a=e(9928),f=e(573);function C(c,m,o=!1,r="customFiltersContainer"){let n=(0,f.Fi)(`#${r}`,c);if(n)if(o)n.remove();else return;n=(0,a.Sw)(),n.id=r,m(n,c)}},4444:(P,d,e)=>{e.d(d,{s:()=>a});function a(f){let m=2166136261;for(let o=0;o<f.length;o+=1){const r=f.charCodeAt(o);m^=r,m=Math.imul(m,16777619)}return m>>>0}},5081:(P,d,e)=>{e.d(d,{B:()=>C});var a=e(4444);function f(c){return(0,a.s)(c).toString(16).padStart(8,"0")}function C(c,m="common"){return c?f(c):m}},8200:(P,d,e)=>{e.d(d,{s:()=>a});function a(f){const{target:C}=f,{type:c}=C;switch(c){case"text":return`"${C.value}"`;case"number":return C.value;case"checkbox":return C.checked;default:return console.log(`Unknown input type: ${c}`),null}}},157:(P,d,e)=>{e.d(d,{Fg:()=>a,vx:()=>C});const a=window.GM_setValue,f=window.GM.setValue,C=window.GM_getValue,c=window.GM_addValueChangeListener},4639:(P,d,e)=>{e.d(d,{a:()=>c});var a=e(1870),f=e(8200),C=e(3976);class c extends a.j{constructor(o=null,r=null){super(o,r)}updateValueFromEvent=o=>{const r=(0,C.$)((0,f.s)(o));this.value!==r&&(this.value=r,this.onChangeIfDefined())}}},1870:(P,d,e)=>{e.d(d,{j:()=>a});class a{constructor(C,c){this.value=C,this.onChange=c}onChangeIfDefined=()=>{this.onChange&&this.onChange()}}},3048:(P,d,e)=>{e.d(d,{V:()=>m});var a=e(1870),f=e(8200),C=e(3976),c=e(157);class m extends a.j{constructor(r,n=null,p=null){super((0,c.vx)(r,n),p),this.storageKey=r,this.defaultValue=n}static create(r,n=null,p=null){return new m(r,n,p)}static createWithCompositeKey(r,n,p=null,h=null){const l=`${r}-${n}`;return new m(l,p,h)}updateValueFromEvent=r=>{const n=(0,f.s)(r),p=(0,C.$)(n);this.updateValue(p)};updateValue(r){this.value!==r&&((0,c.Fg)(this.storageKey,r),this.value=r,this.onChangeIfDefined())}clearValue(){this.updateValue(null)}resetValue(){this.updateValue(this.defaultValue)}}},3976:(P,d,e)=>{e.d(d,{$:()=>a});function a(f){return f===""?null:JSON.parse(f)}},4214:(P,d,e)=>{e.d(d,{zr:()=>f});function a(m){return m.replace(/\D/g,"")}function f(m){return m.replace(/[^\d.,-]/g,"")}function C(m){return m.replace(/\s/g,"")}function c(m){return m.charAt(0).toUpperCase()+m.slice(1)}},5406:(P,d,e)=>{e.d(d,{C$:()=>C,Fc:()=>a,W2:()=>n});function a(l,u="common",t=!1){const{pathname:s}=window.location;return f(s,l,u,t)}function f(l,u,t,s=!1){const D=l.split("/")[u]||t;return s&&console.log(`Pathname element: ${D}`),D}function C(l,u="common",t=!1){const s=a(l,"",t);return c(s,u,t)}function c(l,u,t){if(!l)return u;const s=l.split("-").at(-1);return t&&console.log(`Pathname element ending: ${s}`),s}function m(l,u,t="common",s=!1){const i=f(l,u,"",s);return c(i,t,s)}function o(l){const u=window.location.search;return r(u,l)}function r(l,u){return new URLSearchParams(l).get(u)}function n(l){return window.location.pathname.includes(l)}function p(l){return l.some(u=>n(u))}function h(l){return window.location.pathname.split("/").some(t=>t===l)}},4010:(P,d,e)=>{e.a(P,async(a,f)=>{try{let o=function(){return(0,m.W2)("details")};var C=e(1901),c=e(2344),m=e(5406);o()?await(0,C.K)():await(0,c.P)(),f()}catch(o){f(o)}},1)},1926:(P,d,e)=>{e.d(d,{i:()=>a});const a={PRICE:"price",BALANCED_CASHBACK_PRICE:"balanced-cashback-price",COUPON:"applied-coupon",OBSERVED:"observed"}},1319:(P,d,e)=>{e.d(d,{Z:()=>C});var a=e(573),f=e(1926);function C(n,p,h,l){const u=(0,a.Fi)(p,n);return(c(u,l)||!u.hasAttribute(f.i.BALANCED_CASHBACK_PRICE))&&m(u,h,l),u}function c(n,p){if(n.hasAttribute(f.i.COUPON)){const h=+n.getAttribute(f.i.COUPON);return p!==h}return!!p}function m(n,p,h){let l=o(n);n.setAttribute(f.i.PRICE,l),h?(h<1?l=(l*(1-h)).toFixed():l-=h,n.setAttribute(f.i.COUPON,h)):n.removeAttribute(f.i.COUPON);const u=r(l,p),t=l-u;n.setAttribute(f.i.BALANCED_CASHBACK_PRICE,t);const s=`${l.toLocaleString()} (${t.toLocaleString()}) \u20BD`;n.innerText=s,n.title=`-${u.toLocaleString()}`}function o(n){return n.hasAttribute(f.i.PRICE)?+n.getAttribute(f.i.PRICE):(0,a.YA)(n,!0)}function r(n,p){const h=p/100;return(n*h/(1+h)).toFixed(0)}},4633:(P,d,e)=>{e.d(d,{r:()=>f});const a={INPUT:{border:"1px solid #e4ebf0",fontSize:"14px",borderRadius:"8px",marginLeft:"7px",padding:"8px 14px"}},f={CONTAINER:{display:"flex",gridGap:"15px",padding:"14px 5px"},CONTROL:{display:"flex",alignItems:"center",fontSize:"14px"},TEXT_INPUT:{...a.INPUT,width:"180px"},NUMBER_INPUT:{...a.INPUT},CHECKBOX_INPUT:{marginLeft:"7px",width:"23px",height:"23px"}}},2344:(P,d,e)=>{e.d(d,{P:()=>E});var a=e(4921),f=e(5213),C=e(1319),c=e(5406),m=e(4639),o=e(3829),r=e(5884),n=e(5539),p=e(573),h=e(7877),l=e(1926),u=e(4633),t=e(4521),s=e(5081);const i={PRODUCT_CARD_LIST_HEADER:".catalog-listing-controls",PRODUCT_CARD:".catalog-item-desktop",PRODUCT_CARD_PRICE:".catalog-item-regular-desktop__price",PRODUCT_CARD_CASHBACK:".bonus-percent",PRODUCT_CARD_TITLE:".catalog-item-regular-desktop__title-link",PRODUCT_CARD_DISCOUNT:".discount-percentage__value",PRODUCT_CARD_SELLER_NAME:".merchant-info__name"},D=(0,s.B)((0,c.Fc)(2)),{createSectionFilter:R}=(0,t.z)(B,D),v=R("name-filter"),O=R("min-cashback-filter"),_=R("max-price-filter"),A=R("min-discount-filter"),F=R("seller-name-filter"),w=new m.a(!1,B);async function E(){await b();const T=await(0,a.xk)(document,"#app");new MutationObserver((0,a.sg)(b)).observe(T,{childList:!0,subtree:!0})}async function b(){const T=await(0,a.xk)(document,i.PRODUCT_CARD_LIST_HEADER);(0,f.b)(T,N);const g=T.parentNode;if(g.hasAttribute(l.i.OBSERVED))return;new MutationObserver((0,a.sg)(B,50)).observe(g,{childList:!0,subtree:!0}),g.setAttribute(l.i.OBSERVED,"")}function N(T,g){(0,n.ZM)(T,u.r.CONTAINER);const I=(0,h.E9)(v,u.r.CONTROL,u.r.TEXT_INPUT),S=(0,h.Ch)(O,u.r.CONTROL,u.r.NUMBER_INPUT),L=(0,h.H1)(_,u.r.CONTROL,u.r.NUMBER_INPUT,"250"),y=(0,h.VD)(A,u.r.CONTROL,u.r.NUMBER_INPUT),U=(0,r.Nm)("\u041F\u0440\u043E\u0434\u0430\u0432\u0435\u0446: ",F,u.r.CONTROL,u.r.TEXT_INPUT),k=(0,h.pW)(w,u.r.CONTROL,u.r.CHECKBOX_INPUT);T.append(I,S,L,y,U,k),g.append(T)}function B(){(0,p.fI)(i.PRODUCT_CARD).forEach(M)}function M(T){if(!w.value){(0,n.kl)(T);return}const g=(0,p.Fi)(i.PRODUCT_CARD_TITLE,T),I=(0,p.Fi)(i.PRODUCT_CARD_CASHBACK,T),S=(0,p.Fi)(i.PRODUCT_CARD_DISCOUNT,T);if(!g){(0,n.Bt)(T);return}const L=g.innerText,y=(0,p.YA)(I,!0,!1,0),U=Math.abs((0,p.YA)(S,!0,!1,0)),W=+(0,C.Z)(T,i.PRODUCT_CARD_PRICE,y).getAttribute(l.i.BALANCED_CASHBACK_PRICE),V=(0,p.Fi)(i.PRODUCT_CARD_SELLER_NAME,T),K=V?(0,o.Ay)(V.innerText,F):!1,G=(0,o.Ay)(L,v)||(0,o.JE)(y,O)||(0,o.iG)(W,_)||(0,o.JE)(U,A)||K;(0,n.UC)(T,G)}},1901:(P,d,e)=>{e.d(d,{K:()=>b});var a=e(4921),f=e(5081),C=e(5406),c=e(5213),m=e(4639),o=e(3829),r=e(5539),n=e(573),p=e(7877),h=e(5884),l=e(1319),u=e(1926),t=e(4633),s=e(4521);const i={APP:"#app",OFFERS_FILTER:".pdp-prices-filter",OFFERS_CONTAINER:".pdp-prices",OFFER:".pdp-prices .product-offer",PRICE:".product-offer-price__amount",CASHBACK:".bonus-percent",SELLER_RATING:".pdp-merchant-rating-block__rating"},D=(0,f.B)((0,C.C$)(3)),{createGlobalFilter:R,createSectionFilter:v}=(0,s.z)(M,D),O=v("min-cashback-filter"),_=v("max-price-filter"),A=v("max-discounted-price-filter"),F=R("min-seller-rating-filter"),w=new m.a(null,M),E=R("filter-enabled",!1);async function b(){await N();const g=await(0,a.xk)(document,i.APP);new MutationObserver((0,a.sg)(N)).observe(g,{childList:!0})}async function N(){const g=await(0,a.xk)(document,i.OFFERS_FILTER);(0,c.b)(g,B),M();const I=(0,n.Fi)(i.OFFERS_CONTAINER);if(I.hasAttribute(u.i.OBSERVED))return;new MutationObserver((0,a.sg)(M,50)).observe(I,{childList:!0,subtree:!0}),I.setAttribute(u.i.OBSERVED,"")}function B(g,I){(0,r.ZM)(g,t.r.CONTAINER);const S=(0,p.Ch)(O,t.r.CONTROL,t.r.NUMBER_INPUT),L=(0,p.H1)(_,t.r.CONTROL,t.r.NUMBER_INPUT,"250"),y=(0,p.Zi)("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430 \u0441\u043E \u0441\u043A\u0438\u0434\u043A\u043E\u0439: ",A,t.r.CONTROL,t.r.NUMBER_INPUT),U=(0,p.HX)(F,t.r.CONTROL,t.r.NUMBER_INPUT),k=(0,h.nW)("\u041A\u0443\u043F\u043E\u043D: ",w,"500","0","100000",t.r.CONTROL,t.r.NUMBER_INPUT),W=(0,p.pW)(E,t.r.CONTROL,t.r.CHECKBOX_INPUT);g.append(S,L,y,U,k,W),I.append(g)}function M(){(0,n.fI)(i.OFFER).forEach(T)}function T(g){if(!E.value){(0,r.kl)(g);return}const I=(0,n.Fi)(i.PRICE,g),S=(0,n.Fi)(i.CASHBACK,g),L=(0,n.Fi)(i.SELLER_RATING,g);if(!I||!S||!L){(0,r.Bt)(g);return}const y=(0,n.YA)(S,!0),U=(0,l.Z)(g,i.PRICE,y,w.value),k=+U.getAttribute(u.i.PRICE),W=+U.getAttribute(u.i.BALANCED_CASHBACK_PRICE),V=(0,n.YA)(L,!0),K=(0,o.JE)(y,O)||(0,o.iG)(k,_)||(0,o.iG)(W,A)||(0,o.JE)(V,F);(0,r.UC)(g,K)}}},H={};function x(P){var d=H[P];if(d!==void 0)return d.exports;var e=H[P]={exports:{}};return $[P](e,e.exports,x),e.exports}(()=>{var P=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",d=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",e=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",a=C=>{C&&C.d<1&&(C.d=1,C.forEach(c=>c.r--),C.forEach(c=>c.r--?c.r++:c()))},f=C=>C.map(c=>{if(c!==null&&typeof c=="object"){if(c[P])return c;if(c.then){var m=[];m.d=0,c.then(n=>{o[d]=n,a(m)},n=>{o[e]=n,a(m)});var o={};return o[P]=n=>n(m),o}}var r={};return r[P]=n=>{},r[d]=c,r});x.a=(C,c,m)=>{var o;m&&((o=[]).d=-1);var r=new Set,n=C.exports,p,h,l,u=new Promise((t,s)=>{l=s,h=t});u[d]=n,u[P]=t=>(o&&t(o),r.forEach(t),u.catch(s=>{})),C.exports=u,c(t=>{p=f(t);var s,i=()=>p.map(R=>{if(R[e])throw R[e];return R[d]}),D=new Promise(R=>{s=()=>R(i),s.r=0;var v=O=>O!==o&&!r.has(O)&&(r.add(O),O&&!O.d&&(s.r++,O.push(s)));p.map(O=>O[P](v))});return s.r?D:i()},t=>(t?l(u[e]=t):h(n),a(o))),o&&o.d<0&&(o.d=0)}})(),x.d=(P,d)=>{for(var e in d)x.o(d,e)&&!x.o(P,e)&&Object.defineProperty(P,e,{enumerable:!0,get:d[e]})},x.o=(P,d)=>Object.prototype.hasOwnProperty.call(P,d);var j=x(4010)})();})();
