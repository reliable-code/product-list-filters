// ==UserScript==
// @name         MegaMarket product cards & offers filter
// @description  Hide product cards & offers by filter
// @grant        GM_addValueChangeListener
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://megamarket.ru/*
// @namespace    https://github.com/reliable-code/product-list-filters
// @version      0.1.73499555
// @icon         https://www.google.com/s2/favicons?sz=64&domain=megamarket.ru
// @author       reliable-code
// ==/UserScript==

(()=>{(()=>{var Q={6598:(E,f,e)=>{"use strict";e.d(f,{Bt:()=>u,_B:()=>l,dn:()=>i,wC:()=>p});var o=e(1002),g=e(6576),a=e(1557);function u(C,y,t){var n=_(C,"text",y);return n.value=t,n}function l(C,y,t,n,c,m){var O=_(C,"number",y);return O.value=t,O.step=n,O.min=c,O.max=m,O}function i(C,y,t){var n=_(C,"checkbox",y);return n.checked=t,n}function _(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=h("input",C);return y&&(n.type=y),t&&(n.addEventListener("keyup",(0,g.D)(t,200)),n.addEventListener("change",(0,g.D)(t,100))),n}function v(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h("span",C,y)}function b(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=h("a",C,y);return t&&(n.href=t),n}function R(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=h("button",C,y);return t&&(n.onclick=t),n}function p(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h("div",C,y)}function h(C,y){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if((0,o.Z)(y)!=="object"||y===null)throw new TypeError("styles should be an object");var n=document.createElement(C);return(0,a.Zs)(n,y),t&&(n.innerHTML=t),n}},1557:(E,f,e)=>{"use strict";e.d(f,{DJ:()=>a,NI:()=>i,Zs:()=>R,tk:()=>g});var o=e(1483);function g(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=n.querySelector(t);return c&&!m&&console.log("No element found for selector: ".concat(t)),m}function a(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=n.querySelectorAll(t);return c&&!m.length&&console.log("No elements found for selector: ".concat(t)),m}function u(t,n,c){return _toConsumableArray(t.querySelectorAll(n)).find(function(m){return m.textContent.trim().includes(c)})}function l(t,n){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,O=g(n,t,!0),M=i(O,c,m);return M}function i(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(!t)return m===null?(console.log("No element found"),null):m;var O=t.innerText;return b(O,n,c)}function _(t,n){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=t[n],O=i(m,c);return O}function v(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,m=t.textContent;return b(m,n,c)}function b(t,n,c){n&&(t=(0,o.g7)(t)),c&&(t=t.replace(",","."));var m=+t;return m}function R(t,n){Object.assign(t.style,n)}function p(t){return Object.entries(t).map(function(n){var c=_slicedToArray(n,2),m=c[0],O=c[1];return"".concat(m.replace(/([A-Z])/g,"-$1").toLowerCase(),": ").concat(O,";")}).join(" ")}function h(t){return t?t.split(";").filter(function(n){return n.trim()!==""}).reduce(function(n,c){var m=c.split(":").map(function(I){return I.trim()}),O=_slicedToArray(m,2),M=O[0],N=O[1],x=M.replace(/-([a-z])/g,function(I,w){return w.toUpperCase()});return n[x]=N,n},{}):{}}function C(t,n){var c=new RegExp("(".concat(n,")"),"gi");t.innerHTML=t.innerHTML.replace(c,'<span class="highlightedSubstring" style="background-color: yellow;">$1</span>')}function y(t){var n=a(".highlightedSubstring",t);n.forEach(function(c){c.replaceWith(c.textContent)})}},9397:(E,f,e)=>{"use strict";e.d(f,{OQ:()=>u,V_:()=>a,e6:()=>g});function o(t,n){t.parentNode.insertBefore(n,t.nextSibling)}function g(t){_(t),l(t,"none")}function a(t,n){var c=n||i(t);l(t,c)}function u(t,n,c){n?g(t):a(t,c)}function l(t,n){t.style.display=n}function i(t){return _(t),t.getAttribute("display")}function _(t){if(!t.hasAttribute("display")){var n=getComputedStyle(t),c=n.display;t.setAttribute("display",c)}}function v(t,n){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.3;n?R(t,c):b(t)}function b(t){t.style.opacity=""}function R(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.3;t.style.opacity=n}function p(t){t.style.order=""}function h(t,n){t.style.order=n}function C(t,n){t.style.background=n}function y(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"custom-global-style",c=document.getElementById(n);c||(c=document.createElement("style"),c.id=n,c.type="text/css",document.head.appendChild(c)),c.textContent=t}},6576:(E,f,e)=>{"use strict";e.d(f,{D:()=>i,b:()=>u});var o=e(5861),g=e(4687),a=e.n(g);function u(_,v){return l.apply(this,arguments)}function l(){return l=(0,o.Z)(a().mark(function _(v,b){var R,p,h=arguments;return a().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(R=h.length>2&&h[2]!==void 0?h[2]:null,p=v.querySelector(b),!p){y.next=4;break}return y.abrupt("return",p);case 4:return y.abrupt("return",new Promise(function(t){var n=new MutationObserver(m);n.observe(v,{childList:!0,subtree:!0});var c=null;R&&(c=setTimeout(function(){n.disconnect(),console.log("No element found for selector: ".concat(b)),t(null)},R));function m(){var O=v.querySelector(b);O&&(c&&clearTimeout(c),n.disconnect(),t(O))}}));case 5:case"end":return y.stop()}},_)})),l.apply(this,arguments)}function i(_){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,b;return function(){for(var R=arguments.length,p=new Array(R),h=0;h<R;h++)p[h]=arguments[h];clearTimeout(b),b=setTimeout(function(){return _.apply(void 0,p)},v)}}},9144:(E,f,e)=>{"use strict";e.d(f,{E1:()=>a,J2:()=>o,YY:()=>u});function o(l,i){return!g(l,i)}function g(l,i){if(!i.value)return!0;var _=l.toLowerCase(),v=i.value.toLowerCase().split(",").map(function(p){return p.trim()}),b=[],R=[];return v.forEach(function(p){if(p.startsWith("!")){var h=p.substring(1);h&&R.push(h)}else b.push(p)}),b.every(function(p){return _.includes(p)})&&R.every(function(p){return!_.includes(p)})}function a(l,i){return i.value&&l<i.value}function u(l,i){return i.value&&l>i.value}},1928:(E,f,e)=>{"use strict";e.d(f,{Z:()=>g});var o=e(4830);function g(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return{createGlobalFilter:function(i){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a;return o.Yz.create(i,_,v)},createSectionFilter:function(i){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a;if(!u)throw new Error("sectionId must be provided to use createSectionFilter.");return o.Yz.createWithCompositeKey(u,i,_,v)}}}},2050:(E,f,e)=>{"use strict";e.d(f,{XF:()=>u,Xi:()=>g,xy:()=>a});var o=e(6598);function g(l,i){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b=(0,o.wC)(_,l),R=(0,o.Bt)(v,i.updateValueFromEvent,i.value);return b.append(R),b}function a(l,i,_,v,b){var R=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},p=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},h=(0,o.wC)(R,l),C=(0,o._B)(p,i.updateValueFromEvent,i.value,_,v,b);return h.append(C),h}function u(l,i){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b=(0,o.wC)(_,l),R=(0,o.dn)(v,i.updateValueFromEvent,i.value);return b.append(R),b}},6332:(E,f,e)=>{"use strict";e.d(f,{Dj:()=>_,Ro:()=>R,T5:()=>g,gc:()=>b,iz:()=>h,kc:()=>a,pN:()=>t});var o=e(2050);function g(n){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,o.Xi)("\u041F\u043E\u0438\u0441\u043A: ",n,c,m)}function a(n){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.1;return(0,o.xy)("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",n,O,3,5,c,m)}function u(n){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return i("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",n,c,m)}function l(n){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return i("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",n,c,m)}function i(n,c){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return createNumberFilterControl(n,c,"1","1","999999",m,O)}function _(n){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return v("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",n,c,m)}function v(n,c){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(0,o.xy)(n,c,"5","0","100",m,O)}function b(n){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,o.xy)("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",n,"5","0","100",c,m)}function R(n,c){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"250";return(0,o.xy)(n,c,M,"0","1000000",m,O)}function p(n){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"25";return R("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",n,c,m,O)}function h(n){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"25";return R("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",n,c,m,O)}function C(n,c){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return createNumberFilterControl(n,c,"1","0","99999",m,O)}function y(n){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return createCheckboxFilterControl("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",n,c,m)}function t(n){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,o.XF)("\u0412\u043A\u043B: ",n,c,m)}},7798:(E,f,e)=>{"use strict";e.d(f,{C:()=>a});var o=e(6598),g=e(1557);function a(u,l){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"customFiltersContainer",v=(0,g.tk)("#".concat(_),u);if(v)if(i)v.remove();else return;v=(0,o.wC)(),v.id=_,l(v,u)}},6476:(E,f,e)=>{"use strict";e.d(f,{r:()=>o});function o(g){for(var a=2166136261,u=16777619,l=a,i=0;i<g.length;i+=1){var _=g.charCodeAt(i);l^=_,l=Math.imul(l,u)}return l>>>0}},5883:(E,f,e)=>{"use strict";e.d(f,{E:()=>a});var o=e(6476);function g(u){return(0,o.r)(u).toString(16).padStart(8,"0")}function a(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common";return u?g(u):l}},1469:(E,f,e)=>{"use strict";e.d(f,{F:()=>o});function o(g){var a=g.target,u=a.type;switch(u){case"text":return'"'.concat(a.value,'"');case"number":return a.value;case"checkbox":return a.checked;default:return console.log("Unknown input type: ".concat(u)),null}}},3324:(E,f,e)=>{"use strict";e.d(f,{u:()=>h});var o=e(3144),g=e(5671),a=e(2963),u=e(1120),l=e(136),i=e(4942),_=e(7047),v=e(1469),b=e(3295);function R(C,y,t){return y=(0,u.Z)(y),(0,a.Z)(C,p()?Reflect.construct(y,t||[],(0,u.Z)(C).constructor):y.apply(C,t))}function p(){try{var C=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p=function(){return!!C})()}var h=function(C){function y(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return(0,g.Z)(this,y),t=R(this,y,[n,c]),(0,i.Z)(t,"updateValueFromEvent",function(m){var O=(0,b.H)((0,v.F)(m));t.value!==O&&(t.value=O,t.onChangeIfDefined())}),t}return(0,l.Z)(y,C),(0,o.Z)(y)}(_.H)},7047:(E,f,e)=>{"use strict";e.d(f,{H:()=>u});var o=e(3144),g=e(5671),a=e(4942),u=(0,o.Z)(function l(i,_){var v=this;(0,g.Z)(this,l),(0,a.Z)(this,"onChangeIfDefined",function(){v.onChange&&v.onChange()}),this.value=i,this.onChange=_})},4830:(E,f,e)=>{"use strict";e.d(f,{Yz:()=>n});var o=e(5671),g=e(3144),a=e(2963),u=e(1120),l=e(136),i=e(4942),_=e(7047),v=e(1469),b=e(3295);function R(c,m,O){return m=(0,u.Z)(m),(0,a.Z)(c,p()?Reflect.construct(m,O||[],(0,u.Z)(c).constructor):m.apply(c,O))}function p(){try{var c=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p=function(){return!!c})()}var h=window.GM_setValue,C=window.GM.setValue,y=window.GM_getValue,t=window.GM_addValueChangeListener,n=function(c){function m(O){var M,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return(0,o.Z)(this,m),M=R(this,m,[y(O,N),x]),(0,i.Z)(M,"updateValueFromEvent",function(I){var w=(0,v.F)(I),F=(0,b.H)(w);M.updateValue(F)}),M.storageKey=O,M}return(0,l.Z)(m,c),(0,g.Z)(m,[{key:"updateValue",value:function(M){this.value!==M&&(h(this.storageKey,M),this.value=M,this.onChangeIfDefined())}},{key:"clearValue",value:function(){this.updateValue(null)}}],[{key:"create",value:function(M){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new m(M,N,x)}},{key:"createWithCompositeKey",value:function(M,N){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,w="".concat(M,"-").concat(N);return new m(w,x,I)}}])}(_.H)},3295:(E,f,e)=>{"use strict";e.d(f,{H:()=>o});function o(g){return g===""?null:JSON.parse(g)}},1483:(E,f,e)=>{"use strict";e.d(f,{g7:()=>g});function o(l){return l.replace(/\D/g,"")}function g(l){return l.replace(/[^\d.,-]/g,"")}function a(l){return l.replace(/\s/g,"")}function u(l){return l.charAt(0).toUpperCase()+l.slice(1)}},3950:(E,f,e)=>{"use strict";e.d(f,{ML:()=>a,lY:()=>v,uW:()=>o});function o(p){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common",C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,y=window.location.pathname;return g(y,p,h,C)}function g(p,h,C){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,t=p.split("/"),n=t[h]||C;return y&&console.log("Pathname element: ".concat(n)),n}function a(p){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common",C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,y=o(p,"",C);return u(y,h,C)}function u(p,h,C){if(!p)return h;var y=p.split("-").at(-1);return C&&console.log("Pathname element ending: ".concat(y)),y}function l(p,h){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"common",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,t=g(p,h,"",y);return u(t,C,y)}function i(p){var h=window.location.search;return _(h,p)}function _(p,h){var C=new URLSearchParams(p);return C.get(h)}function v(p){return window.location.pathname.includes(p)}function b(p){return p.some(function(h){return v(h)})}function R(p){var h=window.location.pathname.split("/");return h.some(function(C){return C===p})}},7212:(E,f,e)=>{"use strict";e.a(E,async(o,g)=>{try{let i=function(){return(0,l.lY)("details")};var a=e(245),u=e(6770),l=e(3950);i()?await(0,a.T)():await(0,u.K)(),g()}catch(i){g(i)}},1)},5909:(E,f,e)=>{"use strict";e.d(f,{N:()=>o});var o={PRICE:"price",BALANCED_CASHBACK_PRICE:"balanced-cashback-price",COUPON:"applied-coupon",OBSERVED:"observed"}},4070:(E,f,e)=>{"use strict";e.d(f,{m:()=>a});var o=e(1557),g=e(5909);function a(v,b,R,p){var h=(0,o.tk)(b,v),C=u(h,p);return(C||!h.hasAttribute(g.N.BALANCED_CASHBACK_PRICE))&&l(h,R,p),h}function u(v,b){if(v.hasAttribute(g.N.COUPON)){var R=+v.getAttribute(g.N.COUPON);return b!==R}return!!b}function l(v,b,R){var p=i(v);v.setAttribute(g.N.PRICE,p),R?(R<1?p=(p*(1-R)).toFixed():p-=R,v.setAttribute(g.N.COUPON,R)):v.removeAttribute(g.N.COUPON);var h=_(p,b),C=p-h;v.setAttribute(g.N.BALANCED_CASHBACK_PRICE,C);var y="".concat(p.toLocaleString()," (").concat(C.toLocaleString(),") \u20BD");v.innerText=y,v.title="-".concat(h.toLocaleString())}function i(v){return v.hasAttribute(g.N.PRICE)?+v.getAttribute(g.N.PRICE):(0,o.NI)(v,!0)}function _(v,b){var R=b/100;return(v*R/(1+R)).toFixed(0)}},5469:(E,f,e)=>{"use strict";e.d(f,{x:()=>l});var o=e(4942);function g(i,_){var v=Object.keys(i);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(i);_&&(b=b.filter(function(R){return Object.getOwnPropertyDescriptor(i,R).enumerable})),v.push.apply(v,b)}return v}function a(i){for(var _=1;_<arguments.length;_++){var v=arguments[_]!=null?arguments[_]:{};_%2?g(Object(v),!0).forEach(function(b){(0,o.Z)(i,b,v[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(v)):g(Object(v)).forEach(function(b){Object.defineProperty(i,b,Object.getOwnPropertyDescriptor(v,b))})}return i}var u={INPUT:{border:"1px solid #e4ebf0",fontSize:"14px",borderRadius:"8px",marginLeft:"7px",padding:"8px 14px"}},l={CONTAINER:{display:"flex",gridGap:"15px",padding:"14px 5px"},CONTROL:{display:"flex",alignItems:"center",fontSize:"14px"},TEXT_INPUT:a(a({},u.INPUT),{},{width:"180px"}),NUMBER_INPUT:a({},u.INPUT),CHECKBOX_INPUT:{marginLeft:"7px",width:"23px",height:"23px"}}},6770:(E,f,e)=>{"use strict";e.d(f,{K:()=>j});var o=e(5861),g=e(4687),a=e.n(g),u=e(6576),l=e(7798),i=e(4070),_=e(3950),v=e(3324),b=e(9144),R=e(2050),p=e(9397),h=e(1557),C=e(6332),y=e(5909),t=e(5469),n=e(1928),c=e(5883),m={PRODUCT_CARD_LIST_HEADER:".catalog-listing-controls",PRODUCT_CARD:".catalog-item-desktop",PRODUCT_CARD_PRICE:".catalog-item-regular-desktop__price",PRODUCT_CARD_CASHBACK:".bonus-percent",PRODUCT_CARD_TITLE:".catalog-item-regular-desktop__title-link",PRODUCT_CARD_DISCOUNT:".discount-percentage__value",PRODUCT_CARD_SELLER_NAME:".merchant-info__name"},O=(0,c.E)((0,_.uW)(2)),M=(0,n.Z)(H,O),N=M.createSectionFilter,x=N("name-filter"),I=N("min-cashback-filter"),w=N("max-price-filter"),F=N("min-discount-filter"),U=N("seller-name-filter"),Y=new v.u(!1,H);function j(){return X.apply(this,arguments)}function X(){return X=(0,o.Z)(a().mark(function d(){var r,s;return a().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,Z();case 2:return T.next=4,(0,u.b)(document,"#app");case 4:r=T.sent,s=new MutationObserver((0,u.D)(Z)),s.observe(r,{childList:!0,subtree:!0});case 7:case"end":return T.stop()}},d)})),X.apply(this,arguments)}function Z(){return z.apply(this,arguments)}function z(){return z=(0,o.Z)(a().mark(function d(){var r,s,D;return a().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,u.b)(document,m.PRODUCT_CARD_LIST_HEADER);case 2:if(r=P.sent,(0,l.C)(r,V),s=r.parentNode,!s.hasAttribute(y.N.OBSERVED)){P.next=7;break}return P.abrupt("return");case 7:D=new MutationObserver((0,u.D)(H,50)),D.observe(s,{childList:!0,subtree:!0}),s.setAttribute(y.N.OBSERVED,"");case 10:case"end":return P.stop()}},d)})),z.apply(this,arguments)}function V(d,r){(0,h.Zs)(d,t.x.CONTAINER);var s=(0,C.T5)(x,t.x.CONTROL,t.x.TEXT_INPUT),D=(0,C.gc)(I,t.x.CONTROL,t.x.NUMBER_INPUT),T=(0,C.iz)(w,t.x.CONTROL,t.x.NUMBER_INPUT,"250"),P=(0,C.Dj)(F,t.x.CONTROL,t.x.NUMBER_INPUT),S=(0,R.Xi)("\u041F\u0440\u043E\u0434\u0430\u0432\u0435\u0446: ",U,t.x.CONTROL,t.x.TEXT_INPUT),L=(0,C.pN)(Y,t.x.CONTROL,t.x.CHECKBOX_INPUT);d.append(s,D,T,P,S,L),r.append(d)}function H(){var d=(0,h.DJ)(m.PRODUCT_CARD);d.forEach(k)}function k(d){if(!Y.value){(0,p.V_)(d);return}var r=(0,h.tk)(m.PRODUCT_CARD_TITLE,d),s=(0,h.tk)(m.PRODUCT_CARD_CASHBACK,d),D=(0,h.tk)(m.PRODUCT_CARD_DISCOUNT,d);if(!r){(0,p.e6)(d);return}var T=r.innerText,P=(0,h.NI)(s,!0,!1,0),S=Math.abs((0,h.NI)(D,!0,!1,0)),L=(0,i.m)(d,m.PRODUCT_CARD_PRICE,P),A=+L.getAttribute(y.N.BALANCED_CASHBACK_PRICE),B=(0,h.tk)(m.PRODUCT_CARD_SELLER_NAME,d),K=B?(0,b.J2)(B.innerText,U):!1,G=(0,b.J2)(T,x)||(0,b.E1)(P,I)||(0,b.YY)(A,w)||(0,b.E1)(S,F)||K;(0,p.OQ)(d,G)}},245:(E,f,e)=>{"use strict";e.d(f,{T:()=>X});var o=e(5861),g=e(4687),a=e.n(g),u=e(6576),l=e(5883),i=e(3950),_=e(7798),v=e(3324),b=e(9144),R=e(9397),p=e(1557),h=e(6332),C=e(2050),y=e(4070),t=e(5909),n=e(5469),c=e(1928),m={APP:"#app",OFFERS_FILTER:".pdp-prices-filter",OFFERS_CONTAINER:".pdp-prices",OFFER:".pdp-prices .product-offer",PRICE:".product-offer-price__amount",CASHBACK:".bonus-percent",SELLER_RATING:".pdp-merchant-rating-block__rating"},O=(0,l.E)((0,i.ML)(3)),M=(0,c.Z)(k,O),N=M.createGlobalFilter,x=M.createSectionFilter,I=x("min-cashback-filter"),w=x("max-price-filter"),F=x("max-discounted-price-filter"),U=N("min-seller-rating-filter"),Y=new v.u(null,k),j=N("filter-enabled",!1);function X(){return Z.apply(this,arguments)}function Z(){return Z=(0,o.Z)(a().mark(function r(){var s,D;return a().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,z();case 2:return P.next=4,(0,u.b)(document,m.APP);case 4:s=P.sent,D=new MutationObserver((0,u.D)(z)),D.observe(s,{childList:!0});case 7:case"end":return P.stop()}},r)})),Z.apply(this,arguments)}function z(){return V.apply(this,arguments)}function V(){return V=(0,o.Z)(a().mark(function r(){var s,D,T;return a().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,u.b)(document,m.OFFERS_FILTER);case 2:if(s=S.sent,(0,_.C)(s,H),k(),D=(0,p.tk)(m.OFFERS_CONTAINER),!D.hasAttribute(t.N.OBSERVED)){S.next=8;break}return S.abrupt("return");case 8:T=new MutationObserver((0,u.D)(k,50)),T.observe(D,{childList:!0,subtree:!0}),D.setAttribute(t.N.OBSERVED,"");case 11:case"end":return S.stop()}},r)})),V.apply(this,arguments)}function H(r,s){(0,p.Zs)(r,n.x.CONTAINER);var D=(0,h.gc)(I,n.x.CONTROL,n.x.NUMBER_INPUT),T=(0,h.iz)(w,n.x.CONTROL,n.x.NUMBER_INPUT,"250"),P=(0,h.Ro)("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430 \u0441\u043E \u0441\u043A\u0438\u0434\u043A\u043E\u0439: ",F,n.x.CONTROL,n.x.NUMBER_INPUT),S=(0,h.kc)(U,n.x.CONTROL,n.x.NUMBER_INPUT),L=(0,C.xy)("\u041A\u0443\u043F\u043E\u043D: ",Y,"500","0","100000",n.x.CONTROL,n.x.NUMBER_INPUT),A=(0,h.pN)(j,n.x.CONTROL,n.x.CHECKBOX_INPUT);r.append(D,T,P,S,L,A),s.append(r)}function k(){var r=(0,p.DJ)(m.OFFER);r.forEach(d)}function d(r){if(!j.value){(0,R.V_)(r);return}var s=(0,p.tk)(m.PRICE,r),D=(0,p.tk)(m.CASHBACK,r),T=(0,p.tk)(m.SELLER_RATING,r);if(!s||!D||!T){(0,R.e6)(r);return}var P=(0,p.NI)(D,!0),S=(0,y.m)(r,m.PRICE,P,Y.value),L=+S.getAttribute(t.N.PRICE),A=+S.getAttribute(t.N.BALANCED_CASHBACK_PRICE),B=(0,p.NI)(T,!0),K=(0,b.E1)(P,I)||(0,b.YY)(L,w)||(0,b.YY)(A,F)||(0,b.E1)(B,U);(0,R.OQ)(r,K)}},7061:(E,f,e)=>{var o=e(8698).default;function g(){"use strict";E.exports=g=function(){return u},E.exports.__esModule=!0,E.exports.default=E.exports;var a,u={},l=Object.prototype,i=l.hasOwnProperty,_=Object.defineProperty||function(d,r,s){d[r]=s.value},v=typeof Symbol=="function"?Symbol:{},b=v.iterator||"@@iterator",R=v.asyncIterator||"@@asyncIterator",p=v.toStringTag||"@@toStringTag";function h(d,r,s){return Object.defineProperty(d,r,{value:s,enumerable:!0,configurable:!0,writable:!0}),d[r]}try{h({},"")}catch{h=function(s,D,T){return s[D]=T}}function C(d,r,s,D){var T=r&&r.prototype instanceof M?r:M,P=Object.create(T.prototype),S=new H(D||[]);return _(P,"_invoke",{value:X(d,s,S)}),P}function y(d,r,s){try{return{type:"normal",arg:d.call(r,s)}}catch(D){return{type:"throw",arg:D}}}u.wrap=C;var t="suspendedStart",n="suspendedYield",c="executing",m="completed",O={};function M(){}function N(){}function x(){}var I={};h(I,b,function(){return this});var w=Object.getPrototypeOf,F=w&&w(w(k([])));F&&F!==l&&i.call(F,b)&&(I=F);var U=x.prototype=M.prototype=Object.create(I);function Y(d){["next","throw","return"].forEach(function(r){h(d,r,function(s){return this._invoke(r,s)})})}function j(d,r){function s(T,P,S,L){var A=y(d[T],d,P);if(A.type!=="throw"){var B=A.arg,K=B.value;return K&&o(K)=="object"&&i.call(K,"__await")?r.resolve(K.__await).then(function(G){s("next",G,S,L)},function(G){s("throw",G,S,L)}):r.resolve(K).then(function(G){B.value=G,S(B)},function(G){return s("throw",G,S,L)})}L(A.arg)}var D;_(this,"_invoke",{value:function(P,S){function L(){return new r(function(A,B){s(P,S,A,B)})}return D=D?D.then(L,L):L()}})}function X(d,r,s){var D=t;return function(T,P){if(D===c)throw Error("Generator is already running");if(D===m){if(T==="throw")throw P;return{value:a,done:!0}}for(s.method=T,s.arg=P;;){var S=s.delegate;if(S){var L=Z(S,s);if(L){if(L===O)continue;return L}}if(s.method==="next")s.sent=s._sent=s.arg;else if(s.method==="throw"){if(D===t)throw D=m,s.arg;s.dispatchException(s.arg)}else s.method==="return"&&s.abrupt("return",s.arg);D=c;var A=y(d,r,s);if(A.type==="normal"){if(D=s.done?m:n,A.arg===O)continue;return{value:A.arg,done:s.done}}A.type==="throw"&&(D=m,s.method="throw",s.arg=A.arg)}}}function Z(d,r){var s=r.method,D=d.iterator[s];if(D===a)return r.delegate=null,s==="throw"&&d.iterator.return&&(r.method="return",r.arg=a,Z(d,r),r.method==="throw")||s!=="return"&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+s+"' method")),O;var T=y(D,d.iterator,r.arg);if(T.type==="throw")return r.method="throw",r.arg=T.arg,r.delegate=null,O;var P=T.arg;return P?P.done?(r[d.resultName]=P.value,r.next=d.nextLoc,r.method!=="return"&&(r.method="next",r.arg=a),r.delegate=null,O):P:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,O)}function z(d){var r={tryLoc:d[0]};1 in d&&(r.catchLoc=d[1]),2 in d&&(r.finallyLoc=d[2],r.afterLoc=d[3]),this.tryEntries.push(r)}function V(d){var r=d.completion||{};r.type="normal",delete r.arg,d.completion=r}function H(d){this.tryEntries=[{tryLoc:"root"}],d.forEach(z,this),this.reset(!0)}function k(d){if(d||d===""){var r=d[b];if(r)return r.call(d);if(typeof d.next=="function")return d;if(!isNaN(d.length)){var s=-1,D=function T(){for(;++s<d.length;)if(i.call(d,s))return T.value=d[s],T.done=!1,T;return T.value=a,T.done=!0,T};return D.next=D}}throw new TypeError(o(d)+" is not iterable")}return N.prototype=x,_(U,"constructor",{value:x,configurable:!0}),_(x,"constructor",{value:N,configurable:!0}),N.displayName=h(x,p,"GeneratorFunction"),u.isGeneratorFunction=function(d){var r=typeof d=="function"&&d.constructor;return!!r&&(r===N||(r.displayName||r.name)==="GeneratorFunction")},u.mark=function(d){return Object.setPrototypeOf?Object.setPrototypeOf(d,x):(d.__proto__=x,h(d,p,"GeneratorFunction")),d.prototype=Object.create(U),d},u.awrap=function(d){return{__await:d}},Y(j.prototype),h(j.prototype,R,function(){return this}),u.AsyncIterator=j,u.async=function(d,r,s,D,T){T===void 0&&(T=Promise);var P=new j(C(d,r,s,D),T);return u.isGeneratorFunction(r)?P:P.next().then(function(S){return S.done?S.value:P.next()})},Y(U),h(U,p,"Generator"),h(U,b,function(){return this}),h(U,"toString",function(){return"[object Generator]"}),u.keys=function(d){var r=Object(d),s=[];for(var D in r)s.push(D);return s.reverse(),function T(){for(;s.length;){var P=s.pop();if(P in r)return T.value=P,T.done=!1,T}return T.done=!0,T}},u.values=k,H.prototype={constructor:H,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(V),!r)for(var s in this)s.charAt(0)==="t"&&i.call(this,s)&&!isNaN(+s.slice(1))&&(this[s]=a)},stop:function(){this.done=!0;var r=this.tryEntries[0].completion;if(r.type==="throw")throw r.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var s=this;function D(B,K){return S.type="throw",S.arg=r,s.next=B,K&&(s.method="next",s.arg=a),!!K}for(var T=this.tryEntries.length-1;T>=0;--T){var P=this.tryEntries[T],S=P.completion;if(P.tryLoc==="root")return D("end");if(P.tryLoc<=this.prev){var L=i.call(P,"catchLoc"),A=i.call(P,"finallyLoc");if(L&&A){if(this.prev<P.catchLoc)return D(P.catchLoc,!0);if(this.prev<P.finallyLoc)return D(P.finallyLoc)}else if(L){if(this.prev<P.catchLoc)return D(P.catchLoc,!0)}else{if(!A)throw Error("try statement without catch or finally");if(this.prev<P.finallyLoc)return D(P.finallyLoc)}}}},abrupt:function(r,s){for(var D=this.tryEntries.length-1;D>=0;--D){var T=this.tryEntries[D];if(T.tryLoc<=this.prev&&i.call(T,"finallyLoc")&&this.prev<T.finallyLoc){var P=T;break}}P&&(r==="break"||r==="continue")&&P.tryLoc<=s&&s<=P.finallyLoc&&(P=null);var S=P?P.completion:{};return S.type=r,S.arg=s,P?(this.method="next",this.next=P.finallyLoc,O):this.complete(S)},complete:function(r,s){if(r.type==="throw")throw r.arg;return r.type==="break"||r.type==="continue"?this.next=r.arg:r.type==="return"?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):r.type==="normal"&&s&&(this.next=s),O},finish:function(r){for(var s=this.tryEntries.length-1;s>=0;--s){var D=this.tryEntries[s];if(D.finallyLoc===r)return this.complete(D.completion,D.afterLoc),V(D),O}},catch:function(r){for(var s=this.tryEntries.length-1;s>=0;--s){var D=this.tryEntries[s];if(D.tryLoc===r){var T=D.completion;if(T.type==="throw"){var P=T.arg;V(D)}return P}}throw Error("illegal catch attempt")},delegateYield:function(r,s,D){return this.delegate={iterator:k(r),resultName:s,nextLoc:D},this.method==="next"&&(this.arg=a),O}},u}E.exports=g,E.exports.__esModule=!0,E.exports.default=E.exports},8698:E=>{function f(e){"@babel/helpers - typeof";return E.exports=f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},E.exports.__esModule=!0,E.exports.default=E.exports,f(e)}E.exports=f,E.exports.__esModule=!0,E.exports.default=E.exports},4687:(E,f,e)=>{var o=e(7061)();E.exports=o;try{regeneratorRuntime=o}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},7326:(E,f,e)=>{"use strict";e.d(f,{Z:()=>o});function o(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}},5861:(E,f,e)=>{"use strict";e.d(f,{Z:()=>g});function o(a,u,l,i,_,v,b){try{var R=a[v](b),p=R.value}catch(h){return void l(h)}R.done?u(p):Promise.resolve(p).then(i,_)}function g(a){return function(){var u=this,l=arguments;return new Promise(function(i,_){var v=a.apply(u,l);function b(p){o(v,i,_,b,R,"next",p)}function R(p){o(v,i,_,b,R,"throw",p)}b(void 0)})}}},5671:(E,f,e)=>{"use strict";e.d(f,{Z:()=>o});function o(g,a){if(!(g instanceof a))throw new TypeError("Cannot call a class as a function")}},3144:(E,f,e)=>{"use strict";e.d(f,{Z:()=>a});var o=e(7343);function g(u,l){for(var i=0;i<l.length;i++){var _=l[i];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,(0,o.Z)(_.key),_)}}function a(u,l,i){return l&&g(u.prototype,l),i&&g(u,i),Object.defineProperty(u,"prototype",{writable:!1}),u}},4942:(E,f,e)=>{"use strict";e.d(f,{Z:()=>g});var o=e(7343);function g(a,u,l){return(u=(0,o.Z)(u))in a?Object.defineProperty(a,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[u]=l,a}},1120:(E,f,e)=>{"use strict";e.d(f,{Z:()=>o});function o(g){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},o(g)}},136:(E,f,e)=>{"use strict";e.d(f,{Z:()=>g});var o=e(9611);function g(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(u&&u.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),u&&(0,o.Z)(a,u)}},2963:(E,f,e)=>{"use strict";e.d(f,{Z:()=>a});var o=e(1002),g=e(7326);function a(u,l){if(l&&((0,o.Z)(l)=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,g.Z)(u)}},9611:(E,f,e)=>{"use strict";e.d(f,{Z:()=>o});function o(g,a){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,l){return u.__proto__=l,u},o(g,a)}},5512:(E,f,e)=>{"use strict";e.d(f,{Z:()=>g});var o=e(1002);function g(a,u){if((0,o.Z)(a)!="object"||!a)return a;var l=a[Symbol.toPrimitive];if(l!==void 0){var i=l.call(a,u||"default");if((0,o.Z)(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(a)}},7343:(E,f,e)=>{"use strict";e.d(f,{Z:()=>a});var o=e(1002),g=e(5512);function a(u){var l=(0,g.Z)(u,"string");return(0,o.Z)(l)=="symbol"?l:l+""}},1002:(E,f,e)=>{"use strict";e.d(f,{Z:()=>o});function o(g){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},o(g)}}},$={};function W(E){var f=$[E];if(f!==void 0)return f.exports;var e=$[E]={exports:{}};return Q[E](e,e.exports,W),e.exports}(()=>{var E=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",f=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",e=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",o=a=>{a&&a.d<1&&(a.d=1,a.forEach(u=>u.r--),a.forEach(u=>u.r--?u.r++:u()))},g=a=>a.map(u=>{if(u!==null&&typeof u=="object"){if(u[E])return u;if(u.then){var l=[];l.d=0,u.then(v=>{i[f]=v,o(l)},v=>{i[e]=v,o(l)});var i={};return i[E]=v=>v(l),i}}var _={};return _[E]=v=>{},_[f]=u,_});W.a=(a,u,l)=>{var i;l&&((i=[]).d=-1);var _=new Set,v=a.exports,b,R,p,h=new Promise((C,y)=>{p=y,R=C});h[f]=v,h[E]=C=>(i&&C(i),_.forEach(C),h.catch(y=>{})),a.exports=h,u(C=>{b=g(C);var y,t=()=>b.map(c=>{if(c[e])throw c[e];return c[f]}),n=new Promise(c=>{y=()=>c(t),y.r=0;var m=O=>O!==i&&!_.has(O)&&(_.add(O),O&&!O.d&&(y.r++,O.push(y)));b.map(O=>O[E](m))});return y.r?n:t()},C=>(C?p(h[e]=C):R(v),o(i))),i&&i.d<0&&(i.d=0)}})(),W.n=E=>{var f=E&&E.__esModule?()=>E.default:()=>E;return W.d(f,{a:f}),f},W.d=(E,f)=>{for(var e in f)W.o(f,e)&&!W.o(E,e)&&Object.defineProperty(E,e,{enumerable:!0,get:f[e]})},W.o=(E,f)=>Object.prototype.hasOwnProperty.call(E,f);var J=W(7212)})();})();
