// ==UserScript==
// @name         MegaMarket product cards & offers filter
// @description  Hide product cards & offers by filter
// @grant        GM_addValueChangeListener
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://megamarket.ru/*
// @namespace    https://github.com/reliable-code/product-list-filters
// @version      0.1.73688152
// @icon         https://www.google.com/s2/favicons?sz=64&domain=megamarket.ru
// @author       reliable-code
// ==/UserScript==

(()=>{(()=>{"use strict";var $={9928:(_,l,e)=>{e.d(l,{S:()=>m,Sw:()=>C,kU:()=>p,o5:()=>i});var a=e(4921),f=e(5539);function p(d,t,r){const o=s(d,"text",t);return o.value=r,o}function i(d,t,r,o,O,g){const h=s(d,"number",t);return h.value=r,h.step=o,h.min=O,h.max=g,h}function m(d,t,r){const o=s(d,"checkbox",t);return o.checked=r,o}function s(d={},t=null,r=null){const o=P("input",d);return t&&(o.type=t),r&&(o.addEventListener("keyup",(0,a.sg)(r,200)),o.addEventListener("change",(0,a.sg)(r,100))),o}function u(d={},t=null){return P("span",d,t)}function n(d={},t=null,r=null){const o=P("a",d,t);return r&&(o.href=r),o}function E(d={},t=null,r=null){const o=P("button",d,t);return r&&(o.onclick=r),o}function C(d={},t=null){return P("div",d,t)}function P(d,t,r=null){if(typeof t!="object"||t===null)throw new TypeError("styles should be an object");const o=document.createElement(d);return(0,f.ZM)(o,t),r&&(o.innerHTML=r),o}},573:(_,l,e)=>{e.d(l,{Fi:()=>p,YA:()=>u,fI:()=>i});var a=e(4214);function f(t,r=document){return!!r.querySelector(t)}function p(t,r=document,o=!1){const O=r.querySelector(t);return o&&!O&&console.log(`No element found for selector: ${t}`),O}function i(t,r=document,o=!1){const O=r.querySelectorAll(t);return o&&!O.length&&console.log(`No elements found for selector: ${t}`),O}function m(t,r,o){return[...t.querySelectorAll(r)].find(O=>O.textContent.trim().includes(o))}function s(t,r,o=!1,O=!1){const g=p(r,t,!0);return u(g,o,O)}function u(t,r=!1,o=!1,O=null){if(!t)return O===null?(console.log("No element found"),null):O;const g=t.innerText;return C(g,r,o)}function n(t,r,o=!1){const O=t[r];return u(O,o)}function E(t,r=!1,o=!1){const O=t.textContent;return C(O,r,o)}function C(t,r,o){return r&&(t=(0,a.zr)(t)),o&&(t=t.replace(",",".")),+t}function P(t){return[...t.childNodes].find(r=>r.nodeType===Node.TEXT_NODE)}function d(t){const r=o=>o.nodeType===Node.TEXT_NODE&&o.textContent.trim()!==""?[o]:[...o.childNodes].flatMap(r);return r(t)}},5539:(_,l,e)=>{e.d(l,{Bt:()=>f,UC:()=>u,ZM:()=>F,kl:()=>m});function a(c,b){c.parentNode.insertBefore(b,c.nextSibling)}function f(c){c.style.display="none"}function p(c){C(c),f(c)}function i(c){c.intersectionObserver||runOnceOnIntersection(c,()=>f(c))}function m(c){c.style.display=""}function s(c){const b=E(c);c.style.display=b}function u(c,b){b?f(c):m(c)}function n(c,b){b?i(c):(clearIntersectionObserver(c),m(c))}function E(c){return C(c),c.defaultDisplay}function C(c){if(c.defaultDisplay)return;const{display:b}=getComputedStyle(c);c.defaultDisplay=b}function P(){return{show:[],hide:[]}}function d(c,b,N){c?b.hide.push(N):b.show.push(N)}function t(c){c.show.forEach(m),c.hide.forEach(f)}function r(c,b,N=.3){b?O(c,N):o(c)}function o(c){c.style.opacity=""}function O(c,b=.3){c.style.opacity=b}function g(c){c.style.order=""}function h(c,b){c.style.order=b}function v(c,b){c.style.background=b}function D(){const c=getQueryParam("scrollTo");if(!c)return;const b=document.getElementById(c);b?b.scrollIntoView():console.log(`Element with ID "${c}" was not found.`)}function A(c,b="custom-global-style"){let N=document.getElementById(b);N||(N=document.createElement("style"),N.id=b,N.type="text/css",document.head.appendChild(N)),N.textContent=c}function F(c,b){Object.assign(c.style,b)}function B(c){return Object.entries(c).map(([b,N])=>`${b.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${N};`).join(" ")}function k(c){return c?c.split(";").filter(b=>b.trim()!=="").reduce((b,N)=>{const[L,T]=N.split(":").map(I=>I.trim()),R=L.replace(/-([a-z])/g,(I,S)=>S.toUpperCase());return b[R]=T,b},{}):{}}},4921:(_,l,e)=>{e.d(l,{sg:()=>p,xk:()=>a});async function a(s,u,n=null){const E=s.querySelector(u);return E?Promise.resolve(E):new Promise(C=>{const P=new MutationObserver(t);P.observe(s,{childList:!0,subtree:!0});let d=null;n&&(d=setTimeout(()=>{P.disconnect(),console.log(`No element found for selector: ${u}`),C(null)},n));function t(){const r=s.querySelector(u);r&&(d&&clearTimeout(d),P.disconnect(),C(r))}})}async function f(s,u){return s.querySelector(u)?new Promise(E=>{const C=new MutationObserver(P);C.observe(s,{childList:!0,subtree:!0});function P(){s.querySelector(u)||(C.disconnect(),E())}}):Promise.resolve()}function p(s,u=250){let n;return(...E)=>{clearTimeout(n),n=setTimeout(()=>s(...E),u)}}function i(s,u){const n=new IntersectionObserver(E=>{E.forEach(C=>{C.isIntersecting&&(u(),m(s))})});s.intersectionObserver=n,n.observe(s)}function m(s){s.intersectionObserver&&(s.intersectionObserver.disconnect(),s.intersectionObserver=null)}},3829:(_,l,e)=>{e.d(l,{Ay:()=>f,JE:()=>i,iG:()=>m});var a=e(8355);function f(u,n){return!p(u,n)}function p(u,n){if(!n.value)return!0;const E=u.toLowerCase(),C=(0,a.R)(n),P=[],d=[];return C.forEach(t=>{if(t.startsWith("!")){const r=t.substring(1);r&&d.push(r)}else P.push(t)}),P.every(t=>E.includes(t))&&d.every(t=>!E.includes(t))}function i(u,n){return n.value!=null&&u<n.value}function m(u,n){return n.value!=null&&u>n.value}function s(u,n){return n.value&&u!==n.value}},4521:(_,l,e)=>{e.d(l,{z:()=>f});var a=e(3048);function f(p,i=null){return{createGlobalFilter(m,s=null,u=p){return a.V.create(m,s,u)},createSectionFilter(m,s=null,u=p){if(!i)throw new Error("sectionId must be provided to use createSectionFilter.");return a.V.createWithCompositeKey(i,m,s,u)}}}},5884:(_,l,e)=>{e.d(l,{Hw:()=>i,Nm:()=>f,nW:()=>p});var a=e(9928);function f(m,s,u={},n={}){const E=(0,a.Sw)(u,m),C=(0,a.kU)(n,s.updateValueFromEvent,s.value);return E.append(C),E}function p(m,s,u,n,E,C={},P={}){const d=(0,a.Sw)(C,m),t=(0,a.o5)(P,s.updateValueFromEvent,s.value,u,n,E);return d.append(t),d}function i(m,s,u={},n={}){const E=(0,a.Sw)(u,m),C=(0,a.S)(n,s.updateValueFromEvent,s.value);return E.append(C),E}},7877:(_,l,e)=>{e.d(l,{Ch:()=>C,E9:()=>f,H1:()=>t,HX:()=>p,VD:()=>n,Zi:()=>P,pW:()=>g});var a=e(5884);function f(h,v={},D={}){return(0,a.Nm)("\u041F\u043E\u0438\u0441\u043A: ",h,v,D)}function p(h,v={},D={},A=.1,F=3){return(0,a.nW)("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",h,A,F,5,v,D)}function i(h,v={},D={},A=.1,F=3){return createNumberFilterControl("\u041C\u0430\u043A\u0441. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",h,A,F,5,v,D)}function m(h,v={},D={}){return u("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",h,v,D)}function s(h,v={},D={}){return u("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",h,v,D)}function u(h,v,D={},A={}){return createNumberFilterControl(h,v,"1","1","999999",D,A)}function n(h,v={},D={}){return E("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",h,v,D)}function E(h,v,D={},A={}){return(0,a.nW)(h,v,"5","0","100",D,A)}function C(h,v={},D={}){return(0,a.nW)("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",h,"5","0","100",v,D)}function P(h,v,D={},A={},F="250"){return(0,a.nW)(h,v,F,"0","1000000",D,A)}function d(h,v={},D={},A="25"){return P("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",h,v,D,A)}function t(h,v={},D={},A="25"){return P("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",h,v,D,A)}function r(h,v,D={},A={}){return createNumberFilterControl(h,v,"1","0","99999",D,A)}function o(h,v={},D={}){return createCheckboxFilterControl("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",h,v,D)}function O(h,v={},D={}){return createCheckboxFilterControl("\u0421 \u0444\u043E\u0442\u043E: ",h,v,D)}function g(h,v={},D={}){return(0,a.Hw)("\u0412\u043A\u043B: ",h,v,D)}},8355:(_,l,e)=>{e.d(l,{R:()=>a});function a(p){return p.value.toLowerCase().split(",").map(i=>i.trim()).filter(i=>i!=="")}function f(p){return a(p).filter(i=>!i.startsWith("!"))}},5213:(_,l,e)=>{e.d(l,{b:()=>p});var a=e(9928),f=e(573);function p(i,m,s=!1,u="customFiltersContainer"){let n=(0,f.Fi)(`#${u}`,i);if(n)if(s)n.remove();else return;n=(0,a.Sw)(),n.id=u,m(n,i)}},4444:(_,l,e)=>{e.d(l,{s:()=>a});function a(f){let m=2166136261;for(let s=0;s<f.length;s+=1){const u=f.charCodeAt(s);m^=u,m=Math.imul(m,16777619)}return m>>>0}},5081:(_,l,e)=>{e.d(l,{B:()=>p});var a=e(4444);function f(i){return(0,a.s)(i).toString(16).padStart(8,"0")}function p(i,m="common"){return i?f(i):m}},8200:(_,l,e)=>{e.d(l,{s:()=>a});function a(f){const{target:p}=f,{type:i}=p;switch(i){case"text":return`"${p.value}"`;case"number":return p.value;case"checkbox":return p.checked;default:return console.log(`Unknown input type: ${i}`),null}}},157:(_,l,e)=>{e.d(l,{Fg:()=>a,vx:()=>p});const a=window.GM_setValue,f=window.GM.setValue,p=window.GM_getValue,i=window.GM_addValueChangeListener},4639:(_,l,e)=>{e.d(l,{a:()=>i});var a=e(1870),f=e(8200),p=e(3976);class i extends a.j{constructor(s=null,u=null){super(s,u)}updateValueFromEvent=s=>{const u=(0,p.$)((0,f.s)(s));this.value!==u&&(this.value=u,this.onChangeIfDefined())}}},1870:(_,l,e)=>{e.d(l,{j:()=>a});class a{constructor(p,i){this.value=p,this.onChange=i}onChangeIfDefined=()=>{this.onChange&&this.onChange()}}},3048:(_,l,e)=>{e.d(l,{V:()=>m});var a=e(1870),f=e(8200),p=e(3976),i=e(157);class m extends a.j{constructor(u,n=null,E=null){super((0,i.vx)(u,n),E),this.storageKey=u,this.defaultValue=n}static create(u,n=null,E=null){return new m(u,n,E)}static createWithCompositeKey(u,n,E=null,C=null){const P=`${u}-${n}`;return new m(P,E,C)}updateValueFromEvent=u=>{const n=(0,f.s)(u),E=(0,p.$)(n);this.updateValue(E)};updateValue(u){this.value!==u&&((0,i.Fg)(this.storageKey,u),this.value=u,this.onChangeIfDefined())}clearValue(){this.updateValue(null)}resetValue(){this.updateValue(this.defaultValue)}}},3976:(_,l,e)=>{e.d(l,{$:()=>a});function a(f){return f===""?null:JSON.parse(f)}},4214:(_,l,e)=>{e.d(l,{zr:()=>f});function a(m){return m.replace(/\D/g,"")}function f(m){return m.replace(/[^\d.,-]/g,"")}function p(m){return m.replace(/\s/g,"")}function i(m){return m.charAt(0).toUpperCase()+m.slice(1)}},5406:(_,l,e)=>{e.d(l,{C$:()=>p,Fc:()=>a,W2:()=>n});function a(r,o="common",O=!1){const{pathname:g}=window.location;return f(g,r,o,O)}function f(r,o,O,g=!1){const v=r.split("/")[o]||O;return g&&console.log(`Pathname element: ${v}`),v}function p(r,o="common",O=!1){const g=a(r,"",O);return i(g,o,O)}function i(r,o,O){if(!r)return o;const g=r.split("-").at(-1);return O&&console.log(`Pathname element ending: ${g}`),g}function m(r,o,O="common",g=!1){const h=f(r,o,"",g);return i(h,O,g)}function s(r){const o=window.location.search;return u(o,r)}function u(r,o){return new URLSearchParams(r).get(o)}function n(r){return window.location.pathname.includes(r)}function E(r){return r.some(o=>n(o))}function C(r){return window.location.pathname.split("/").some(O=>O===r)}function P(r){return new URLSearchParams(window.location.search).get(r)}function d(r){return r.split("?")[0]}function t(r){try{const o=new URL(window.location.href);Object.entries(r).forEach(([O,g])=>{o.searchParams.set(O,g)}),window.location.href=o.toString()}catch(o){console.error("Failed to redirect:",o)}}},4010:(_,l,e)=>{e.a(_,async(a,f)=>{try{let s=function(){return(0,m.W2)("details")};var p=e(1901),i=e(2344),m=e(5406);s()?await(0,p.K)():await(0,i.P)(),f()}catch(s){f(s)}},1)},1926:(_,l,e)=>{e.d(l,{i:()=>a});const a={PRICE:"price",BALANCED_CASHBACK_PRICE:"balanced-cashback-price",COUPON:"applied-coupon",OBSERVED:"observed"}},1319:(_,l,e)=>{e.d(l,{Z:()=>p});var a=e(573),f=e(1926);function p(n,E,C,P){const d=(0,a.Fi)(E,n);return(i(d,P)||!d.hasAttribute(f.i.BALANCED_CASHBACK_PRICE))&&m(d,C,P),d}function i(n,E){if(n.hasAttribute(f.i.COUPON)){const C=+n.getAttribute(f.i.COUPON);return E!==C}return!!E}function m(n,E,C){let P=s(n);n.setAttribute(f.i.PRICE,P),C?(C<1?P=(P*(1-C)).toFixed():P-=C,n.setAttribute(f.i.COUPON,C)):n.removeAttribute(f.i.COUPON);const d=u(P,E),t=P-d;n.setAttribute(f.i.BALANCED_CASHBACK_PRICE,t);const r=`${P.toLocaleString()} (${t.toLocaleString()}) \u20BD`;n.innerText=r,n.title=`-${d.toLocaleString()}`}function s(n){return n.hasAttribute(f.i.PRICE)?+n.getAttribute(f.i.PRICE):(0,a.YA)(n,!0)}function u(n,E){const C=E/100;return(n*C/(1+C)).toFixed(0)}},4633:(_,l,e)=>{e.d(l,{r:()=>f});const a={INPUT:{border:"1px solid #e4ebf0",fontSize:"14px",borderRadius:"8px",marginLeft:"7px",padding:"8px 14px"}},f={CONTAINER:{display:"flex",gridGap:"15px",padding:"14px 5px"},CONTROL:{display:"flex",alignItems:"center",fontSize:"14px"},TEXT_INPUT:{...a.INPUT,width:"180px"},NUMBER_INPUT:{...a.INPUT},CHECKBOX_INPUT:{marginLeft:"7px",width:"23px",height:"23px"}}},2344:(_,l,e)=>{e.d(l,{P:()=>k});var a=e(4921),f=e(5213),p=e(1319),i=e(5406),m=e(4639),s=e(3829),u=e(5884),n=e(5539),E=e(573),C=e(7877),P=e(1926),d=e(4633),t=e(4521),r=e(5081);const o={PRODUCT_CARD_LIST_HEADER:".catalog-listing-controls",PRODUCT_CARD:".catalog-item-desktop",PRODUCT_CARD_PRICE:".catalog-item-regular-desktop__price",PRODUCT_CARD_CASHBACK:".bonus-percent",PRODUCT_CARD_TITLE:".catalog-item-regular-desktop__title-link",PRODUCT_CARD_DISCOUNT:".discount-percentage__value",PRODUCT_CARD_SELLER_NAME:".merchant-info__name"},O=(0,r.B)((0,i.Fc)(2)),{createSectionFilter:g}=(0,t.z)(N,O),h=g("name-filter"),v=g("min-cashback-filter"),D=g("max-price-filter"),A=g("min-discount-filter"),F=g("seller-name-filter"),B=new m.a(!1,N);async function k(){await c();const T=await(0,a.xk)(document,"#app");new MutationObserver((0,a.sg)(c)).observe(T,{childList:!0,subtree:!0})}async function c(){const T=await(0,a.xk)(document,o.PRODUCT_CARD_LIST_HEADER);(0,f.b)(T,b);const R=T.parentNode;if(R.hasAttribute(P.i.OBSERVED))return;new MutationObserver((0,a.sg)(N,50)).observe(R,{childList:!0,subtree:!0}),R.setAttribute(P.i.OBSERVED,"")}function b(T,R){(0,n.ZM)(T,d.r.CONTAINER);const I=(0,C.E9)(h,d.r.CONTROL,d.r.TEXT_INPUT),S=(0,C.Ch)(v,d.r.CONTROL,d.r.NUMBER_INPUT),U=(0,C.H1)(D,d.r.CONTROL,d.r.NUMBER_INPUT,"250"),y=(0,C.VD)(A,d.r.CONTROL,d.r.NUMBER_INPUT),M=(0,u.Nm)("\u041F\u0440\u043E\u0434\u0430\u0432\u0435\u0446: ",F,d.r.CONTROL,d.r.TEXT_INPUT),w=(0,C.pW)(B,d.r.CONTROL,d.r.CHECKBOX_INPUT);T.append(I,S,U,y,M,w),R.append(T)}function N(){(0,E.fI)(o.PRODUCT_CARD).forEach(L)}function L(T){if(!B.value){(0,n.kl)(T);return}const R=(0,E.Fi)(o.PRODUCT_CARD_TITLE,T),I=(0,E.Fi)(o.PRODUCT_CARD_CASHBACK,T),S=(0,E.Fi)(o.PRODUCT_CARD_DISCOUNT,T);if(!R){(0,n.Bt)(T);return}const U=R.innerText,y=(0,E.YA)(I,!0,!1,0),M=Math.abs((0,E.YA)(S,!0,!1,0)),W=+(0,p.Z)(T,o.PRODUCT_CARD_PRICE,y).getAttribute(P.i.BALANCED_CASHBACK_PRICE),V=(0,E.Fi)(o.PRODUCT_CARD_SELLER_NAME,T),K=V?(0,s.Ay)(V.innerText,F):!1,G=(0,s.Ay)(U,h)||(0,s.JE)(y,v)||(0,s.iG)(W,D)||(0,s.JE)(M,A)||K;(0,n.UC)(T,G)}},1901:(_,l,e)=>{e.d(l,{K:()=>c});var a=e(4921),f=e(5081),p=e(5406),i=e(5213),m=e(4639),s=e(3829),u=e(5539),n=e(573),E=e(7877),C=e(5884),P=e(1319),d=e(1926),t=e(4633),r=e(4521);const o={APP:"#app",OFFERS_FILTER:".pdp-prices-filter",OFFERS_CONTAINER:".pdp-prices",OFFER:".pdp-prices .product-offer",PRICE:".product-offer-price__amount",CASHBACK:".bonus-percent",SELLER_RATING:".pdp-merchant-rating-block__rating"},O=(0,f.B)((0,p.C$)(3)),{createGlobalFilter:g,createSectionFilter:h}=(0,r.z)(L,O),v=h("min-cashback-filter"),D=h("max-price-filter"),A=h("max-discounted-price-filter"),F=g("min-seller-rating-filter"),B=new m.a(null,L),k=g("filter-enabled",!1);async function c(){await b();const R=await(0,a.xk)(document,o.APP);new MutationObserver((0,a.sg)(b)).observe(R,{childList:!0})}async function b(){const R=await(0,a.xk)(document,o.OFFERS_FILTER);(0,i.b)(R,N),L();const I=(0,n.Fi)(o.OFFERS_CONTAINER);if(I.hasAttribute(d.i.OBSERVED))return;new MutationObserver((0,a.sg)(L,50)).observe(I,{childList:!0,subtree:!0}),I.setAttribute(d.i.OBSERVED,"")}function N(R,I){(0,u.ZM)(R,t.r.CONTAINER);const S=(0,E.Ch)(v,t.r.CONTROL,t.r.NUMBER_INPUT),U=(0,E.H1)(D,t.r.CONTROL,t.r.NUMBER_INPUT,"250"),y=(0,E.Zi)("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430 \u0441\u043E \u0441\u043A\u0438\u0434\u043A\u043E\u0439: ",A,t.r.CONTROL,t.r.NUMBER_INPUT),M=(0,E.HX)(F,t.r.CONTROL,t.r.NUMBER_INPUT),w=(0,C.nW)("\u041A\u0443\u043F\u043E\u043D: ",B,"500","0","100000",t.r.CONTROL,t.r.NUMBER_INPUT),W=(0,E.pW)(k,t.r.CONTROL,t.r.CHECKBOX_INPUT);R.append(S,U,y,M,w,W),I.append(R)}function L(){(0,n.fI)(o.OFFER).forEach(T)}function T(R){if(!k.value){(0,u.kl)(R);return}const I=(0,n.Fi)(o.PRICE,R),S=(0,n.Fi)(o.CASHBACK,R),U=(0,n.Fi)(o.SELLER_RATING,R);if(!I||!S||!U){(0,u.Bt)(R);return}const y=(0,n.YA)(S,!0),M=(0,P.Z)(R,o.PRICE,y,B.value),w=+M.getAttribute(d.i.PRICE),W=+M.getAttribute(d.i.BALANCED_CASHBACK_PRICE),V=(0,n.YA)(U,!0),K=(0,s.JE)(y,v)||(0,s.iG)(w,D)||(0,s.iG)(W,A)||(0,s.JE)(V,F);(0,u.UC)(R,K)}}},H={};function x(_){var l=H[_];if(l!==void 0)return l.exports;var e=H[_]={exports:{}};return $[_](e,e.exports,x),e.exports}(()=>{var _=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",l=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",e=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",a=p=>{p&&p.d<1&&(p.d=1,p.forEach(i=>i.r--),p.forEach(i=>i.r--?i.r++:i()))},f=p=>p.map(i=>{if(i!==null&&typeof i=="object"){if(i[_])return i;if(i.then){var m=[];m.d=0,i.then(n=>{s[l]=n,a(m)},n=>{s[e]=n,a(m)});var s={};return s[_]=n=>n(m),s}}var u={};return u[_]=n=>{},u[l]=i,u});x.a=(p,i,m)=>{var s;m&&((s=[]).d=-1);var u=new Set,n=p.exports,E,C,P,d=new Promise((t,r)=>{P=r,C=t});d[l]=n,d[_]=t=>(s&&t(s),u.forEach(t),d.catch(r=>{})),p.exports=d,i(t=>{E=f(t);var r,o=()=>E.map(g=>{if(g[e])throw g[e];return g[l]}),O=new Promise(g=>{r=()=>g(o),r.r=0;var h=v=>v!==s&&!u.has(v)&&(u.add(v),v&&!v.d&&(r.r++,v.push(r)));E.map(v=>v[_](h))});return r.r?O:o()},t=>(t?P(d[e]=t):C(n),a(s))),s&&s.d<0&&(s.d=0)}})(),x.d=(_,l)=>{for(var e in l)x.o(l,e)&&!x.o(_,e)&&Object.defineProperty(_,e,{enumerable:!0,get:l[e]})},x.o=(_,l)=>Object.prototype.hasOwnProperty.call(_,l);var j=x(4010)})();})();
