// ==UserScript==
// @name         MegaMarket product cards & offers filter
// @description  Hide product cards & offers by filter
// @grant        GM_addValueChangeListener
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://megamarket.ru/*
// @namespace    https://github.com/reliable-code/product-list-filters
// @version      0.1.73531309
// @icon         https://www.google.com/s2/favicons?sz=64&domain=megamarket.ru
// @author       reliable-code
// ==/UserScript==

(()=>{(()=>{var Q={6598:(C,f,e)=>{"use strict";e.d(f,{Bt:()=>u,_B:()=>d,dn:()=>c,wC:()=>_});var i=e(1002),m=e(6576),n=e(1557);function u(v,E,T){var r=y(v,"text",E);return r.value=T,r}function d(v,E,T,r,h,t){var o=y(v,"number",E);return o.value=T,o.step=r,o.min=h,o.max=t,o}function c(v,E,T){var r=y(v,"checkbox",E);return r.checked=T,r}function y(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=p("input",v);return E&&(r.type=E),T&&(r.addEventListener("keyup",(0,m.Ds)(T,200)),r.addEventListener("change",(0,m.Ds)(T,100))),r}function s(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return p("span",v,E)}function b(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=p("a",v,E);return T&&(r.href=T),r}function D(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=p("button",v,E);return T&&(r.onclick=T),r}function _(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return p("div",v,E)}function p(v,E){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if((0,i.Z)(E)!=="object"||E===null)throw new TypeError("styles should be an object");var r=document.createElement(v);return(0,n.Zs)(r,E),T&&(r.innerHTML=T),r}},1557:(C,f,e)=>{"use strict";e.d(f,{DJ:()=>n,NI:()=>c,Zs:()=>D,tk:()=>m});var i=e(1483);function m(r){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=h.querySelector(r);return t&&!o&&console.log("No element found for selector: ".concat(r)),o}function n(r){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=h.querySelectorAll(r);return t&&!o.length&&console.log("No elements found for selector: ".concat(r)),o}function u(r,h,t){return _toConsumableArray(r.querySelectorAll(h)).find(function(o){return o.textContent.trim().includes(t)})}function d(r,h){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,S=m(h,r,!0),I=c(S,t,o);return I}function c(r){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(!r)return o===null?(console.log("No element found"),null):o;var S=r.innerText;return b(S,h,t)}function y(r,h){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=r[h],S=c(o,t);return S}function s(r){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=r.textContent;return b(o,h,t)}function b(r,h,t){h&&(r=(0,i.g7)(r)),t&&(r=r.replace(",","."));var o=+r;return o}function D(r,h){Object.assign(r.style,h)}function _(r){return Object.entries(r).map(function(h){var t=_slicedToArray(h,2),o=t[0],S=t[1];return"".concat(o.replace(/([A-Z])/g,"-$1").toLowerCase(),": ").concat(S,";")}).join(" ")}function p(r){return r?r.split(";").filter(function(h){return h.trim()!==""}).reduce(function(h,t){var o=t.split(":").map(function(A){return A.trim()}),S=_slicedToArray(o,2),I=S[0],L=S[1],w=I.replace(/-([a-z])/g,function(A,F){return F.toUpperCase()});return h[w]=L,h},{}):{}}function v(r,h){var t=new RegExp("(".concat(h,")"),"gi");r.innerHTML=r.innerHTML.replace(t,'<span class="highlightedSubstring" style="background-color: yellow;">$1</span>')}function E(r){var h=n(".highlightedSubstring",r);h.forEach(function(t){var o=t.parentNode;t.replaceWith(t.textContent),o.normalize()})}function T(r){var h=function(o){return o.nodeType===Node.TEXT_NODE&&o.textContent.trim()!==""?[o]:_toConsumableArray(o.childNodes).flatMap(h)};return h(r)}},9397:(C,f,e)=>{"use strict";e.d(f,{OQ:()=>c,V_:()=>d,e6:()=>n});var i=e(6576);function m(t,o){t.parentNode.insertBefore(o,t.nextSibling)}function n(t){D(t),s(t,"none")}function u(t){t.intersectionObserver||runOnceOnIntersection(t,function(){return n(t)})}function d(t){var o=b(t);s(t,o)}function c(t,o){o?n(t):d(t)}function y(t,o){o?u(t):(clearIntersectionObserver(t),d(t))}function s(t,o){t.style.display=o}function b(t){return D(t),t.defaultDisplay}function D(t){if(!t.defaultDisplay){var o=getComputedStyle(t),S=o.display;t.defaultDisplay=S}}function _(t,o){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.3;o?v(t,S):p(t)}function p(t){t.style.opacity=""}function v(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.3;t.style.opacity=o}function E(t){t.style.order=""}function T(t,o){t.style.order=o}function r(t,o){t.style.background=o}function h(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"custom-global-style",S=document.getElementById(o);S||(S=document.createElement("style"),S.id=o,S.type="text/css",document.head.appendChild(S)),S.textContent=t}},6576:(C,f,e)=>{"use strict";e.d(f,{Ds:()=>c,br:()=>u});var i=e(5861),m=e(4687),n=e.n(m);function u(b,D){return d.apply(this,arguments)}function d(){return d=(0,i.Z)(n().mark(function b(D,_){var p,v,E=arguments;return n().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(p=E.length>2&&E[2]!==void 0?E[2]:null,v=D.querySelector(_),!v){r.next=4;break}return r.abrupt("return",v);case 4:return r.abrupt("return",new Promise(function(h){var t=new MutationObserver(S);t.observe(D,{childList:!0,subtree:!0});var o=null;p&&(o=setTimeout(function(){t.disconnect(),console.log("No element found for selector: ".concat(_)),h(null)},p));function S(){var I=D.querySelector(_);I&&(o&&clearTimeout(o),t.disconnect(),h(I))}}));case 5:case"end":return r.stop()}},b)})),d.apply(this,arguments)}function c(b){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,_;return function(){for(var p=arguments.length,v=new Array(p),E=0;E<p;E++)v[E]=arguments[E];clearTimeout(_),_=setTimeout(function(){return b.apply(void 0,v)},D)}}function y(b,D){var _=new IntersectionObserver(function(p){p.forEach(function(v){v.isIntersecting&&(D(),s(b))})});b.intersectionObserver=_,_.observe(b)}function s(b){b.intersectionObserver&&(b.intersectionObserver.disconnect(),b.intersectionObserver=null)}},9144:(C,f,e)=>{"use strict";e.d(f,{E1:()=>d,J2:()=>i,YY:()=>c});function i(y,s){return!m(y,s)}function m(y,s){if(!s.value)return!0;var b=y.toLowerCase(),D=n(s),_=[],p=[];return D.forEach(function(v){if(v.startsWith("!")){var E=v.substring(1);E&&p.push(E)}else _.push(v)}),_.every(function(v){return b.includes(v)})&&p.every(function(v){return!b.includes(v)})}function n(y){return y.value.toLowerCase().split(",").map(function(s){return s.trim()}).filter(function(s){return s!==""})}function u(y){return n(y).filter(function(s){return!s.startsWith("!")})}function d(y,s){return s.value!=null&&y<s.value}function c(y,s){return s.value!=null&&y>s.value}},1928:(C,f,e)=>{"use strict";e.d(f,{Z:()=>m});var i=e(4830);function m(n){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return{createGlobalFilter:function(c){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n;return i.Yz.create(c,y,s)},createSectionFilter:function(c){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n;if(!u)throw new Error("sectionId must be provided to use createSectionFilter.");return i.Yz.createWithCompositeKey(u,c,y,s)}}}},2050:(C,f,e)=>{"use strict";e.d(f,{XF:()=>u,Xi:()=>m,xy:()=>n});var i=e(6598);function m(d,c){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b=(0,i.wC)(y,d),D=(0,i.Bt)(s,c.updateValueFromEvent,c.value);return b.append(D),b}function n(d,c,y,s,b){var D=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},_=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},p=(0,i.wC)(D,d),v=(0,i._B)(_,c.updateValueFromEvent,c.value,y,s,b);return p.append(v),p}function u(d,c){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b=(0,i.wC)(y,d),D=(0,i.dn)(s,c.updateValueFromEvent,c.value);return b.append(D),b}},6332:(C,f,e)=>{"use strict";e.d(f,{Dj:()=>y,Ro:()=>D,T5:()=>m,gc:()=>b,iz:()=>p,kc:()=>n,pN:()=>T});var i=e(2050);function m(r){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,i.Xi)("\u041F\u043E\u0438\u0441\u043A: ",r,h,t)}function n(r){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.1;return(0,i.xy)("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",r,o,3,5,h,t)}function u(r){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return c("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",r,h,t)}function d(r){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return c("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",r,h,t)}function c(r,h){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return createNumberFilterControl(r,h,"1","1","999999",t,o)}function y(r){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",r,h,t)}function s(r,h){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(0,i.xy)(r,h,"5","0","100",t,o)}function b(r){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,i.xy)("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",r,"5","0","100",h,t)}function D(r,h){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},S=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"250";return(0,i.xy)(r,h,S,"0","1000000",t,o)}function _(r){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"25";return D("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",r,h,t,o)}function p(r){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"25";return D("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",r,h,t,o)}function v(r,h){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return createNumberFilterControl(r,h,"1","0","99999",t,o)}function E(r){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return createCheckboxFilterControl("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",r,h,t)}function T(r){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,i.XF)("\u0412\u043A\u043B: ",r,h,t)}},7798:(C,f,e)=>{"use strict";e.d(f,{C:()=>n});var i=e(6598),m=e(1557);function n(u,d){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"customFiltersContainer",s=(0,m.tk)("#".concat(y),u);if(s)if(c)s.remove();else return;s=(0,i.wC)(),s.id=y,d(s,u)}},6476:(C,f,e)=>{"use strict";e.d(f,{r:()=>i});function i(m){for(var n=2166136261,u=16777619,d=n,c=0;c<m.length;c+=1){var y=m.charCodeAt(c);d^=y,d=Math.imul(d,u)}return d>>>0}},5883:(C,f,e)=>{"use strict";e.d(f,{E:()=>n});var i=e(6476);function m(u){return(0,i.r)(u).toString(16).padStart(8,"0")}function n(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common";return u?m(u):d}},1469:(C,f,e)=>{"use strict";e.d(f,{F:()=>i});function i(m){var n=m.target,u=n.type;switch(u){case"text":return'"'.concat(n.value,'"');case"number":return n.value;case"checkbox":return n.checked;default:return console.log("Unknown input type: ".concat(u)),null}}},3324:(C,f,e)=>{"use strict";e.d(f,{u:()=>p});var i=e(3144),m=e(5671),n=e(2963),u=e(1120),d=e(136),c=e(4942),y=e(7047),s=e(1469),b=e(3295);function D(v,E,T){return E=(0,u.Z)(E),(0,n.Z)(v,_()?Reflect.construct(E,T||[],(0,u.Z)(v).constructor):E.apply(v,T))}function _(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_=function(){return!!v})()}var p=function(v){function E(){var T,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return(0,m.Z)(this,E),T=D(this,E,[r,h]),(0,c.Z)(T,"updateValueFromEvent",function(t){var o=(0,b.H)((0,s.F)(t));T.value!==o&&(T.value=o,T.onChangeIfDefined())}),T}return(0,d.Z)(E,v),(0,i.Z)(E)}(y.H)},7047:(C,f,e)=>{"use strict";e.d(f,{H:()=>u});var i=e(3144),m=e(5671),n=e(4942),u=(0,i.Z)(function d(c,y){var s=this;(0,m.Z)(this,d),(0,n.Z)(this,"onChangeIfDefined",function(){s.onChange&&s.onChange()}),this.value=c,this.onChange=y})},4830:(C,f,e)=>{"use strict";e.d(f,{Yz:()=>r});var i=e(5671),m=e(3144),n=e(2963),u=e(1120),d=e(136),c=e(4942),y=e(7047),s=e(1469),b=e(3295);function D(h,t,o){return t=(0,u.Z)(t),(0,n.Z)(h,_()?Reflect.construct(t,o||[],(0,u.Z)(h).constructor):t.apply(h,o))}function _(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_=function(){return!!h})()}var p=window.GM_setValue,v=window.GM.setValue,E=window.GM_getValue,T=window.GM_addValueChangeListener,r=function(h){function t(o){var S,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return(0,i.Z)(this,t),S=D(this,t,[E(o,I),L]),(0,c.Z)(S,"updateValueFromEvent",function(w){var A=(0,s.F)(w),F=(0,b.H)(A);S.updateValue(F)}),S.storageKey=o,S}return(0,d.Z)(t,h),(0,m.Z)(t,[{key:"updateValue",value:function(S){this.value!==S&&(p(this.storageKey,S),this.value=S,this.onChangeIfDefined())}},{key:"clearValue",value:function(){this.updateValue(null)}}],[{key:"create",value:function(S){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new t(S,I,L)}},{key:"createWithCompositeKey",value:function(S,I){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,A="".concat(S,"-").concat(I);return new t(A,L,w)}}])}(y.H)},3295:(C,f,e)=>{"use strict";e.d(f,{H:()=>i});function i(m){return m===""?null:JSON.parse(m)}},1483:(C,f,e)=>{"use strict";e.d(f,{g7:()=>m});function i(d){return d.replace(/\D/g,"")}function m(d){return d.replace(/[^\d.,-]/g,"")}function n(d){return d.replace(/\s/g,"")}function u(d){return d.charAt(0).toUpperCase()+d.slice(1)}},3950:(C,f,e)=>{"use strict";e.d(f,{ML:()=>n,lY:()=>s,uW:()=>i});function i(_){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,E=window.location.pathname;return m(E,_,p,v)}function m(_,p,v){var E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,T=_.split("/"),r=T[p]||v;return E&&console.log("Pathname element: ".concat(r)),r}function n(_){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,E=i(_,"",v);return u(E,p,v)}function u(_,p,v){if(!_)return p;var E=_.split("-").at(-1);return v&&console.log("Pathname element ending: ".concat(E)),E}function d(_,p){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"common",E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,T=m(_,p,"",E);return u(T,v,E)}function c(_){var p=window.location.search;return y(p,_)}function y(_,p){var v=new URLSearchParams(_);return v.get(p)}function s(_){return window.location.pathname.includes(_)}function b(_){return _.some(function(p){return s(p)})}function D(_){var p=window.location.pathname.split("/");return p.some(function(v){return v===_})}},7212:(C,f,e)=>{"use strict";e.a(C,async(i,m)=>{try{let c=function(){return(0,d.lY)("details")};var n=e(245),u=e(6770),d=e(3950);c()?await(0,n.T)():await(0,u.K)(),m()}catch(c){m(c)}},1)},5909:(C,f,e)=>{"use strict";e.d(f,{N:()=>i});var i={PRICE:"price",BALANCED_CASHBACK_PRICE:"balanced-cashback-price",COUPON:"applied-coupon",OBSERVED:"observed"}},4070:(C,f,e)=>{"use strict";e.d(f,{m:()=>n});var i=e(1557),m=e(5909);function n(s,b,D,_){var p=(0,i.tk)(b,s),v=u(p,_);return(v||!p.hasAttribute(m.N.BALANCED_CASHBACK_PRICE))&&d(p,D,_),p}function u(s,b){if(s.hasAttribute(m.N.COUPON)){var D=+s.getAttribute(m.N.COUPON);return b!==D}return!!b}function d(s,b,D){var _=c(s);s.setAttribute(m.N.PRICE,_),D?(D<1?_=(_*(1-D)).toFixed():_-=D,s.setAttribute(m.N.COUPON,D)):s.removeAttribute(m.N.COUPON);var p=y(_,b),v=_-p;s.setAttribute(m.N.BALANCED_CASHBACK_PRICE,v);var E="".concat(_.toLocaleString()," (").concat(v.toLocaleString(),") \u20BD");s.innerText=E,s.title="-".concat(p.toLocaleString())}function c(s){return s.hasAttribute(m.N.PRICE)?+s.getAttribute(m.N.PRICE):(0,i.NI)(s,!0)}function y(s,b){var D=b/100;return(s*D/(1+D)).toFixed(0)}},5469:(C,f,e)=>{"use strict";e.d(f,{x:()=>d});var i=e(4942);function m(c,y){var s=Object.keys(c);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(c);y&&(b=b.filter(function(D){return Object.getOwnPropertyDescriptor(c,D).enumerable})),s.push.apply(s,b)}return s}function n(c){for(var y=1;y<arguments.length;y++){var s=arguments[y]!=null?arguments[y]:{};y%2?m(Object(s),!0).forEach(function(b){(0,i.Z)(c,b,s[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach(function(b){Object.defineProperty(c,b,Object.getOwnPropertyDescriptor(s,b))})}return c}var u={INPUT:{border:"1px solid #e4ebf0",fontSize:"14px",borderRadius:"8px",marginLeft:"7px",padding:"8px 14px"}},d={CONTAINER:{display:"flex",gridGap:"15px",padding:"14px 5px"},CONTROL:{display:"flex",alignItems:"center",fontSize:"14px"},TEXT_INPUT:n(n({},u.INPUT),{},{width:"180px"}),NUMBER_INPUT:n({},u.INPUT),CHECKBOX_INPUT:{marginLeft:"7px",width:"23px",height:"23px"}}},6770:(C,f,e)=>{"use strict";e.d(f,{K:()=>j});var i=e(5861),m=e(4687),n=e.n(m),u=e(6576),d=e(7798),c=e(4070),y=e(3950),s=e(3324),b=e(9144),D=e(2050),_=e(9397),p=e(1557),v=e(6332),E=e(5909),T=e(5469),r=e(1928),h=e(5883),t={PRODUCT_CARD_LIST_HEADER:".catalog-listing-controls",PRODUCT_CARD:".catalog-item-desktop",PRODUCT_CARD_PRICE:".catalog-item-regular-desktop__price",PRODUCT_CARD_CASHBACK:".bonus-percent",PRODUCT_CARD_TITLE:".catalog-item-regular-desktop__title-link",PRODUCT_CARD_DISCOUNT:".discount-percentage__value",PRODUCT_CARD_SELLER_NAME:".merchant-info__name"},o=(0,h.E)((0,y.uW)(2)),S=(0,r.Z)(H,o),I=S.createSectionFilter,L=I("name-filter"),w=I("min-cashback-filter"),A=I("max-price-filter"),F=I("min-discount-filter"),U=I("seller-name-filter"),Y=new s.u(!1,H);function j(){return X.apply(this,arguments)}function X(){return X=(0,i.Z)(n().mark(function g(){var a,l;return n().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,Z();case 2:return R.next=4,(0,u.br)(document,"#app");case 4:a=R.sent,l=new MutationObserver((0,u.Ds)(Z)),l.observe(a,{childList:!0,subtree:!0});case 7:case"end":return R.stop()}},g)})),X.apply(this,arguments)}function Z(){return z.apply(this,arguments)}function z(){return z=(0,i.Z)(n().mark(function g(){var a,l,P;return n().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,u.br)(document,t.PRODUCT_CARD_LIST_HEADER);case 2:if(a=O.sent,(0,d.C)(a,V),l=a.parentNode,!l.hasAttribute(E.N.OBSERVED)){O.next=7;break}return O.abrupt("return");case 7:P=new MutationObserver((0,u.Ds)(H,50)),P.observe(l,{childList:!0,subtree:!0}),l.setAttribute(E.N.OBSERVED,"");case 10:case"end":return O.stop()}},g)})),z.apply(this,arguments)}function V(g,a){(0,p.Zs)(g,T.x.CONTAINER);var l=(0,v.T5)(L,T.x.CONTROL,T.x.TEXT_INPUT),P=(0,v.gc)(w,T.x.CONTROL,T.x.NUMBER_INPUT),R=(0,v.iz)(A,T.x.CONTROL,T.x.NUMBER_INPUT,"250"),O=(0,v.Dj)(F,T.x.CONTROL,T.x.NUMBER_INPUT),M=(0,D.Xi)("\u041F\u0440\u043E\u0434\u0430\u0432\u0435\u0446: ",U,T.x.CONTROL,T.x.TEXT_INPUT),N=(0,v.pN)(Y,T.x.CONTROL,T.x.CHECKBOX_INPUT);g.append(l,P,R,O,M,N),a.append(g)}function H(){var g=(0,p.DJ)(t.PRODUCT_CARD);g.forEach(k)}function k(g){if(!Y.value){(0,_.V_)(g);return}var a=(0,p.tk)(t.PRODUCT_CARD_TITLE,g),l=(0,p.tk)(t.PRODUCT_CARD_CASHBACK,g),P=(0,p.tk)(t.PRODUCT_CARD_DISCOUNT,g);if(!a){(0,_.e6)(g);return}var R=a.innerText,O=(0,p.NI)(l,!0,!1,0),M=Math.abs((0,p.NI)(P,!0,!1,0)),N=(0,c.m)(g,t.PRODUCT_CARD_PRICE,O),x=+N.getAttribute(E.N.BALANCED_CASHBACK_PRICE),B=(0,p.tk)(t.PRODUCT_CARD_SELLER_NAME,g),K=B?(0,b.J2)(B.innerText,U):!1,G=(0,b.J2)(R,L)||(0,b.E1)(O,w)||(0,b.YY)(x,A)||(0,b.E1)(M,F)||K;(0,_.OQ)(g,G)}},245:(C,f,e)=>{"use strict";e.d(f,{T:()=>X});var i=e(5861),m=e(4687),n=e.n(m),u=e(6576),d=e(5883),c=e(3950),y=e(7798),s=e(3324),b=e(9144),D=e(9397),_=e(1557),p=e(6332),v=e(2050),E=e(4070),T=e(5909),r=e(5469),h=e(1928),t={APP:"#app",OFFERS_FILTER:".pdp-prices-filter",OFFERS_CONTAINER:".pdp-prices",OFFER:".pdp-prices .product-offer",PRICE:".product-offer-price__amount",CASHBACK:".bonus-percent",SELLER_RATING:".pdp-merchant-rating-block__rating"},o=(0,d.E)((0,c.ML)(3)),S=(0,h.Z)(k,o),I=S.createGlobalFilter,L=S.createSectionFilter,w=L("min-cashback-filter"),A=L("max-price-filter"),F=L("max-discounted-price-filter"),U=I("min-seller-rating-filter"),Y=new s.u(null,k),j=I("filter-enabled",!1);function X(){return Z.apply(this,arguments)}function Z(){return Z=(0,i.Z)(n().mark(function a(){var l,P;return n().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,z();case 2:return O.next=4,(0,u.br)(document,t.APP);case 4:l=O.sent,P=new MutationObserver((0,u.Ds)(z)),P.observe(l,{childList:!0});case 7:case"end":return O.stop()}},a)})),Z.apply(this,arguments)}function z(){return V.apply(this,arguments)}function V(){return V=(0,i.Z)(n().mark(function a(){var l,P,R;return n().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,u.br)(document,t.OFFERS_FILTER);case 2:if(l=M.sent,(0,y.C)(l,H),k(),P=(0,_.tk)(t.OFFERS_CONTAINER),!P.hasAttribute(T.N.OBSERVED)){M.next=8;break}return M.abrupt("return");case 8:R=new MutationObserver((0,u.Ds)(k,50)),R.observe(P,{childList:!0,subtree:!0}),P.setAttribute(T.N.OBSERVED,"");case 11:case"end":return M.stop()}},a)})),V.apply(this,arguments)}function H(a,l){(0,_.Zs)(a,r.x.CONTAINER);var P=(0,p.gc)(w,r.x.CONTROL,r.x.NUMBER_INPUT),R=(0,p.iz)(A,r.x.CONTROL,r.x.NUMBER_INPUT,"250"),O=(0,p.Ro)("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430 \u0441\u043E \u0441\u043A\u0438\u0434\u043A\u043E\u0439: ",F,r.x.CONTROL,r.x.NUMBER_INPUT),M=(0,p.kc)(U,r.x.CONTROL,r.x.NUMBER_INPUT),N=(0,v.xy)("\u041A\u0443\u043F\u043E\u043D: ",Y,"500","0","100000",r.x.CONTROL,r.x.NUMBER_INPUT),x=(0,p.pN)(j,r.x.CONTROL,r.x.CHECKBOX_INPUT);a.append(P,R,O,M,N,x),l.append(a)}function k(){var a=(0,_.DJ)(t.OFFER);a.forEach(g)}function g(a){if(!j.value){(0,D.V_)(a);return}var l=(0,_.tk)(t.PRICE,a),P=(0,_.tk)(t.CASHBACK,a),R=(0,_.tk)(t.SELLER_RATING,a);if(!l||!P||!R){(0,D.e6)(a);return}var O=(0,_.NI)(P,!0),M=(0,E.m)(a,t.PRICE,O,Y.value),N=+M.getAttribute(T.N.PRICE),x=+M.getAttribute(T.N.BALANCED_CASHBACK_PRICE),B=(0,_.NI)(R,!0),K=(0,b.E1)(O,w)||(0,b.YY)(N,A)||(0,b.YY)(x,F)||(0,b.E1)(B,U);(0,D.OQ)(a,K)}},7061:(C,f,e)=>{var i=e(8698).default;function m(){"use strict";C.exports=m=function(){return u},C.exports.__esModule=!0,C.exports.default=C.exports;var n,u={},d=Object.prototype,c=d.hasOwnProperty,y=Object.defineProperty||function(g,a,l){g[a]=l.value},s=typeof Symbol=="function"?Symbol:{},b=s.iterator||"@@iterator",D=s.asyncIterator||"@@asyncIterator",_=s.toStringTag||"@@toStringTag";function p(g,a,l){return Object.defineProperty(g,a,{value:l,enumerable:!0,configurable:!0,writable:!0}),g[a]}try{p({},"")}catch{p=function(l,P,R){return l[P]=R}}function v(g,a,l,P){var R=a&&a.prototype instanceof S?a:S,O=Object.create(R.prototype),M=new H(P||[]);return y(O,"_invoke",{value:X(g,l,M)}),O}function E(g,a,l){try{return{type:"normal",arg:g.call(a,l)}}catch(P){return{type:"throw",arg:P}}}u.wrap=v;var T="suspendedStart",r="suspendedYield",h="executing",t="completed",o={};function S(){}function I(){}function L(){}var w={};p(w,b,function(){return this});var A=Object.getPrototypeOf,F=A&&A(A(k([])));F&&F!==d&&c.call(F,b)&&(w=F);var U=L.prototype=S.prototype=Object.create(w);function Y(g){["next","throw","return"].forEach(function(a){p(g,a,function(l){return this._invoke(a,l)})})}function j(g,a){function l(R,O,M,N){var x=E(g[R],g,O);if(x.type!=="throw"){var B=x.arg,K=B.value;return K&&i(K)=="object"&&c.call(K,"__await")?a.resolve(K.__await).then(function(G){l("next",G,M,N)},function(G){l("throw",G,M,N)}):a.resolve(K).then(function(G){B.value=G,M(B)},function(G){return l("throw",G,M,N)})}N(x.arg)}var P;y(this,"_invoke",{value:function(O,M){function N(){return new a(function(x,B){l(O,M,x,B)})}return P=P?P.then(N,N):N()}})}function X(g,a,l){var P=T;return function(R,O){if(P===h)throw Error("Generator is already running");if(P===t){if(R==="throw")throw O;return{value:n,done:!0}}for(l.method=R,l.arg=O;;){var M=l.delegate;if(M){var N=Z(M,l);if(N){if(N===o)continue;return N}}if(l.method==="next")l.sent=l._sent=l.arg;else if(l.method==="throw"){if(P===T)throw P=t,l.arg;l.dispatchException(l.arg)}else l.method==="return"&&l.abrupt("return",l.arg);P=h;var x=E(g,a,l);if(x.type==="normal"){if(P=l.done?t:r,x.arg===o)continue;return{value:x.arg,done:l.done}}x.type==="throw"&&(P=t,l.method="throw",l.arg=x.arg)}}}function Z(g,a){var l=a.method,P=g.iterator[l];if(P===n)return a.delegate=null,l==="throw"&&g.iterator.return&&(a.method="return",a.arg=n,Z(g,a),a.method==="throw")||l!=="return"&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+l+"' method")),o;var R=E(P,g.iterator,a.arg);if(R.type==="throw")return a.method="throw",a.arg=R.arg,a.delegate=null,o;var O=R.arg;return O?O.done?(a[g.resultName]=O.value,a.next=g.nextLoc,a.method!=="return"&&(a.method="next",a.arg=n),a.delegate=null,o):O:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,o)}function z(g){var a={tryLoc:g[0]};1 in g&&(a.catchLoc=g[1]),2 in g&&(a.finallyLoc=g[2],a.afterLoc=g[3]),this.tryEntries.push(a)}function V(g){var a=g.completion||{};a.type="normal",delete a.arg,g.completion=a}function H(g){this.tryEntries=[{tryLoc:"root"}],g.forEach(z,this),this.reset(!0)}function k(g){if(g||g===""){var a=g[b];if(a)return a.call(g);if(typeof g.next=="function")return g;if(!isNaN(g.length)){var l=-1,P=function R(){for(;++l<g.length;)if(c.call(g,l))return R.value=g[l],R.done=!1,R;return R.value=n,R.done=!0,R};return P.next=P}}throw new TypeError(i(g)+" is not iterable")}return I.prototype=L,y(U,"constructor",{value:L,configurable:!0}),y(L,"constructor",{value:I,configurable:!0}),I.displayName=p(L,_,"GeneratorFunction"),u.isGeneratorFunction=function(g){var a=typeof g=="function"&&g.constructor;return!!a&&(a===I||(a.displayName||a.name)==="GeneratorFunction")},u.mark=function(g){return Object.setPrototypeOf?Object.setPrototypeOf(g,L):(g.__proto__=L,p(g,_,"GeneratorFunction")),g.prototype=Object.create(U),g},u.awrap=function(g){return{__await:g}},Y(j.prototype),p(j.prototype,D,function(){return this}),u.AsyncIterator=j,u.async=function(g,a,l,P,R){R===void 0&&(R=Promise);var O=new j(v(g,a,l,P),R);return u.isGeneratorFunction(a)?O:O.next().then(function(M){return M.done?M.value:O.next()})},Y(U),p(U,_,"Generator"),p(U,b,function(){return this}),p(U,"toString",function(){return"[object Generator]"}),u.keys=function(g){var a=Object(g),l=[];for(var P in a)l.push(P);return l.reverse(),function R(){for(;l.length;){var O=l.pop();if(O in a)return R.value=O,R.done=!1,R}return R.done=!0,R}},u.values=k,H.prototype={constructor:H,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(V),!a)for(var l in this)l.charAt(0)==="t"&&c.call(this,l)&&!isNaN(+l.slice(1))&&(this[l]=n)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if(a.type==="throw")throw a.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var l=this;function P(B,K){return M.type="throw",M.arg=a,l.next=B,K&&(l.method="next",l.arg=n),!!K}for(var R=this.tryEntries.length-1;R>=0;--R){var O=this.tryEntries[R],M=O.completion;if(O.tryLoc==="root")return P("end");if(O.tryLoc<=this.prev){var N=c.call(O,"catchLoc"),x=c.call(O,"finallyLoc");if(N&&x){if(this.prev<O.catchLoc)return P(O.catchLoc,!0);if(this.prev<O.finallyLoc)return P(O.finallyLoc)}else if(N){if(this.prev<O.catchLoc)return P(O.catchLoc,!0)}else{if(!x)throw Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return P(O.finallyLoc)}}}},abrupt:function(a,l){for(var P=this.tryEntries.length-1;P>=0;--P){var R=this.tryEntries[P];if(R.tryLoc<=this.prev&&c.call(R,"finallyLoc")&&this.prev<R.finallyLoc){var O=R;break}}O&&(a==="break"||a==="continue")&&O.tryLoc<=l&&l<=O.finallyLoc&&(O=null);var M=O?O.completion:{};return M.type=a,M.arg=l,O?(this.method="next",this.next=O.finallyLoc,o):this.complete(M)},complete:function(a,l){if(a.type==="throw")throw a.arg;return a.type==="break"||a.type==="continue"?this.next=a.arg:a.type==="return"?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):a.type==="normal"&&l&&(this.next=l),o},finish:function(a){for(var l=this.tryEntries.length-1;l>=0;--l){var P=this.tryEntries[l];if(P.finallyLoc===a)return this.complete(P.completion,P.afterLoc),V(P),o}},catch:function(a){for(var l=this.tryEntries.length-1;l>=0;--l){var P=this.tryEntries[l];if(P.tryLoc===a){var R=P.completion;if(R.type==="throw"){var O=R.arg;V(P)}return O}}throw Error("illegal catch attempt")},delegateYield:function(a,l,P){return this.delegate={iterator:k(a),resultName:l,nextLoc:P},this.method==="next"&&(this.arg=n),o}},u}C.exports=m,C.exports.__esModule=!0,C.exports.default=C.exports},8698:C=>{function f(e){"@babel/helpers - typeof";return C.exports=f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},C.exports.__esModule=!0,C.exports.default=C.exports,f(e)}C.exports=f,C.exports.__esModule=!0,C.exports.default=C.exports},4687:(C,f,e)=>{var i=e(7061)();C.exports=i;try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},7326:(C,f,e)=>{"use strict";e.d(f,{Z:()=>i});function i(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}},5861:(C,f,e)=>{"use strict";e.d(f,{Z:()=>m});function i(n,u,d,c,y,s,b){try{var D=n[s](b),_=D.value}catch(p){return void d(p)}D.done?u(_):Promise.resolve(_).then(c,y)}function m(n){return function(){var u=this,d=arguments;return new Promise(function(c,y){var s=n.apply(u,d);function b(_){i(s,c,y,b,D,"next",_)}function D(_){i(s,c,y,b,D,"throw",_)}b(void 0)})}}},5671:(C,f,e)=>{"use strict";e.d(f,{Z:()=>i});function i(m,n){if(!(m instanceof n))throw new TypeError("Cannot call a class as a function")}},3144:(C,f,e)=>{"use strict";e.d(f,{Z:()=>n});var i=e(7343);function m(u,d){for(var c=0;c<d.length;c++){var y=d[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,(0,i.Z)(y.key),y)}}function n(u,d,c){return d&&m(u.prototype,d),c&&m(u,c),Object.defineProperty(u,"prototype",{writable:!1}),u}},4942:(C,f,e)=>{"use strict";e.d(f,{Z:()=>m});var i=e(7343);function m(n,u,d){return(u=(0,i.Z)(u))in n?Object.defineProperty(n,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):n[u]=d,n}},1120:(C,f,e)=>{"use strict";e.d(f,{Z:()=>i});function i(m){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},i(m)}},136:(C,f,e)=>{"use strict";e.d(f,{Z:()=>m});var i=e(9611);function m(n,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(u&&u.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),u&&(0,i.Z)(n,u)}},2963:(C,f,e)=>{"use strict";e.d(f,{Z:()=>n});var i=e(1002),m=e(7326);function n(u,d){if(d&&((0,i.Z)(d)=="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,m.Z)(u)}},9611:(C,f,e)=>{"use strict";e.d(f,{Z:()=>i});function i(m,n){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,d){return u.__proto__=d,u},i(m,n)}},5512:(C,f,e)=>{"use strict";e.d(f,{Z:()=>m});var i=e(1002);function m(n,u){if((0,i.Z)(n)!="object"||!n)return n;var d=n[Symbol.toPrimitive];if(d!==void 0){var c=d.call(n,u||"default");if((0,i.Z)(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(n)}},7343:(C,f,e)=>{"use strict";e.d(f,{Z:()=>n});var i=e(1002),m=e(5512);function n(u){var d=(0,m.Z)(u,"string");return(0,i.Z)(d)=="symbol"?d:d+""}},1002:(C,f,e)=>{"use strict";e.d(f,{Z:()=>i});function i(m){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},i(m)}}},$={};function W(C){var f=$[C];if(f!==void 0)return f.exports;var e=$[C]={exports:{}};return Q[C](e,e.exports,W),e.exports}(()=>{var C=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",f=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",e=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",i=n=>{n&&n.d<1&&(n.d=1,n.forEach(u=>u.r--),n.forEach(u=>u.r--?u.r++:u()))},m=n=>n.map(u=>{if(u!==null&&typeof u=="object"){if(u[C])return u;if(u.then){var d=[];d.d=0,u.then(s=>{c[f]=s,i(d)},s=>{c[e]=s,i(d)});var c={};return c[C]=s=>s(d),c}}var y={};return y[C]=s=>{},y[f]=u,y});W.a=(n,u,d)=>{var c;d&&((c=[]).d=-1);var y=new Set,s=n.exports,b,D,_,p=new Promise((v,E)=>{_=E,D=v});p[f]=s,p[C]=v=>(c&&v(c),y.forEach(v),p.catch(E=>{})),n.exports=p,u(v=>{b=m(v);var E,T=()=>b.map(h=>{if(h[e])throw h[e];return h[f]}),r=new Promise(h=>{E=()=>h(T),E.r=0;var t=o=>o!==c&&!y.has(o)&&(y.add(o),o&&!o.d&&(E.r++,o.push(E)));b.map(o=>o[C](t))});return E.r?r:T()},v=>(v?_(p[e]=v):D(s),i(c))),c&&c.d<0&&(c.d=0)}})(),W.n=C=>{var f=C&&C.__esModule?()=>C.default:()=>C;return W.d(f,{a:f}),f},W.d=(C,f)=>{for(var e in f)W.o(f,e)&&!W.o(C,e)&&Object.defineProperty(C,e,{enumerable:!0,get:f[e]})},W.o=(C,f)=>Object.prototype.hasOwnProperty.call(C,f);var J=W(7212)})();})();
