// ==UserScript==
// @name         MegaMarket product cards & offers filter
// @description  Hide product cards & offers by filter
// @grant        GM_addValueChangeListener
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://megamarket.ru/*
// @namespace    https://github.com/reliable-code/product-list-filters
// @version      1.0.73697271
// @icon         https://www.google.com/s2/favicons?sz=64&domain=megamarket.ru
// @author       reliable-code
// ==/UserScript==

(()=>{(()=>{"use strict";var $={9928:(P,d,e)=>{e.d(d,{S:()=>m,Sw:()=>C,kU:()=>p,o5:()=>c});var i=e(4921),f=e(5539);function p(r,t,a){const s=u(r,"text",t);return s.value=a,s}function c(r,t,a,s,D,R){const F=u(r,"number",t);return F.value=a,F.step=s,F.min=D,F.max=R,F}function m(r,t,a){const s=u(r,"checkbox",t);return s.checked=a,s}function u(r={},t=null,a=null){const s=v("input",r);return t&&(s.type=t),a&&(s.addEventListener("keyup",(0,i.sg)(a,200)),s.addEventListener("change",(0,i.sg)(a,100))),s}function o(r={},t=null){return v("span",r,t)}function n(r={},t=null,a=null){const s=v("a",r,t);return a&&(s.href=a),s}function E(r={},t=null,a=null){const s=v("button",r,t);return a&&(s.onclick=a),s}function C(r={},t=null){return v("div",r,t)}function v(r,t,a=null){if(typeof t!="object"||t===null)throw new TypeError("styles should be an object");const s=document.createElement(r);return(0,f.ZM)(s,t),a&&(s.innerHTML=a),s}},573:(P,d,e)=>{e.d(d,{Fi:()=>p,YA:()=>o,fI:()=>c});var i=e(4214);function f(t,a=document){return!!a.querySelector(t)}function p(t,a=document,s=!1){const D=a.querySelector(t);return s&&!D&&console.log(`No element found for selector: ${t}`),D}function c(t,a=document,s=!1){const D=a.querySelectorAll(t);return s&&!D.length&&console.log(`No elements found for selector: ${t}`),D}function m(t,a,s){return[...t.querySelectorAll(a)].find(D=>D.textContent.trim().includes(s))}function u(t,a,s=!1,D=!1){const R=p(a,t,!0);return o(R,s,D)}function o(t,a=!1,s=!1,D=null){if(!t)return D===null?(console.log("No element found"),null):D;const R=t.innerText;return C(R,a,s)}function n(t,a,s=!1){const D=t[a];return o(D,s)}function E(t,a=!1,s=!1){const D=t.textContent;return C(D,a,s)}function C(t,a,s){return a&&(t=(0,i.zr)(t)),s&&(t=t.replace(",",".")),+t}function v(t){return[...t.childNodes].find(a=>a.nodeType===Node.TEXT_NODE)}function r(t){const a=s=>s.nodeType===Node.TEXT_NODE&&s.textContent.trim()!==""?[s]:[...s.childNodes].flatMap(a);return a(t)}},5539:(P,d,e)=>{e.d(d,{Bt:()=>f,UC:()=>o,ZM:()=>A,kl:()=>m});function i(l,_){l.parentNode.insertBefore(_,l.nextSibling)}function f(l){l.style.display="none"}function p(l){C(l),f(l)}function c(l){l.intersectionObserver||runOnceOnIntersection(l,()=>f(l))}function m(l){l.style.display=""}function u(l){const _=E(l);l.style.display=_}function o(l,_){_?f(l):m(l)}function n(l,_){_?c(l):(clearIntersectionObserver(l),m(l))}function E(l){return C(l),l.defaultDisplay}function C(l){if(l.defaultDisplay)return;const{display:_}=getComputedStyle(l);l.defaultDisplay=_}function v(){return{show:[],hide:[]}}function r(l,_,N){l?_.hide.push(N):_.show.push(N)}function t(l){l.show.forEach(m),l.hide.forEach(f)}function a(l,_,N=.3){_?D(l,N):s(l)}function s(l){l.style.opacity=""}function D(l,_=.3){l.style.opacity=_}function R(l){l.style.order=""}function F(l,_){l.style.order=_}function h(l,_){l.style.background=_}function O(){const l=getURLQueryParam("scrollTo");if(!l)return;const _=document.getElementById(l);_?_.scrollIntoView():console.log(`Element with ID "${l}" was not found.`)}function b(l,_="custom-global-style"){let N=document.getElementById(_);N||(N=document.createElement("style"),N.id=_,N.type="text/css",document.head.appendChild(N)),N.textContent=l}function A(l,_){Object.assign(l.style,_)}function S(l){return Object.entries(l).map(([_,N])=>`${_.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${N};`).join(" ")}function k(l){return l?l.split(";").filter(_=>_.trim()!=="").reduce((_,N)=>{const[U,T]=N.split(":").map(I=>I.trim()),g=U.replace(/-([a-z])/g,(I,y)=>y.toUpperCase());return _[g]=T,_},{}):{}}},4921:(P,d,e)=>{e.d(d,{sg:()=>p,xk:()=>i});async function i(u,o,n=null){const E=u.querySelector(o);return E?Promise.resolve(E):new Promise(C=>{const v=new MutationObserver(t);v.observe(u,{childList:!0,subtree:!0});let r=null;n&&(r=setTimeout(()=>{v.disconnect(),console.log(`No element found for selector: ${o}`),C(null)},n));function t(){const a=u.querySelector(o);a&&(r&&clearTimeout(r),v.disconnect(),C(a))}})}async function f(u,o){return u.querySelector(o)?new Promise(E=>{const C=new MutationObserver(v);C.observe(u,{childList:!0,subtree:!0});function v(){u.querySelector(o)||(C.disconnect(),E())}}):Promise.resolve()}function p(u,o=250){let n;return(...E)=>{clearTimeout(n),n=setTimeout(()=>u(...E),o)}}function c(u,o){const n=new IntersectionObserver(E=>{E.forEach(C=>{C.isIntersecting&&(o(),m(u))})});u.intersectionObserver=n,n.observe(u)}function m(u){u.intersectionObserver&&(u.intersectionObserver.disconnect(),u.intersectionObserver=null)}},3829:(P,d,e)=>{e.d(d,{Ay:()=>f,JE:()=>c,iG:()=>m});var i=e(8355);function f(o,n){return!p(o,n)}function p(o,n){if(!n.value)return!0;const E=o.toLowerCase(),C=(0,i.R)(n),v=[],r=[];return C.forEach(t=>{if(t.startsWith("!")){const a=t.substring(1);a&&r.push(a)}else v.push(t)}),v.every(t=>E.includes(t))&&r.every(t=>!E.includes(t))}function c(o,n){return n.value!=null&&o<n.value}function m(o,n){return n.value!=null&&o>n.value}function u(o,n){return n.value&&o!==n.value}},4521:(P,d,e)=>{e.d(d,{z:()=>f});var i=e(3048);function f(p,c=null){return{createGlobalFilter(m,u=null,o=p){return i.V.create(m,u,o)},createSectionFilter(m,u=null,o=p){if(!c)throw new Error("sectionId must be provided to use createSectionFilter.");return i.V.createWithCompositeKey(c,m,u,o)}}}},5884:(P,d,e)=>{e.d(d,{Hw:()=>c,Nm:()=>f,nW:()=>p});var i=e(9928);function f(m,u,o={},n={}){const E=(0,i.Sw)(o,m),C=(0,i.kU)(n,u.updateValueFromEvent,u.value);return E.append(C),E}function p(m,u,o,n,E,C={},v={}){const r=(0,i.Sw)(C,m),t=(0,i.o5)(v,u.updateValueFromEvent,u.value,o,n,E);return r.append(t),r}function c(m,u,o={},n={}){const E=(0,i.Sw)(o,m),C=(0,i.S)(n,u.updateValueFromEvent,u.value);return E.append(C),E}},7877:(P,d,e)=>{e.d(d,{Ch:()=>C,E9:()=>f,H1:()=>t,HX:()=>p,VD:()=>n,Zi:()=>v,pW:()=>F});var i=e(5884);function f(h,O={},b={}){return(0,i.Nm)("\u041F\u043E\u0438\u0441\u043A: ",h,O,b)}function p(h,O={},b={},A=.1,S=3){return(0,i.nW)("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",h,A,S,5,O,b)}function c(h,O={},b={},A=.1,S=3){return createNumberFilterControl("\u041C\u0430\u043A\u0441. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",h,A,S,5,O,b)}function m(h,O={},b={}){return o("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",h,O,b)}function u(h,O={},b={}){return o("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",h,O,b)}function o(h,O,b={},A={}){return createNumberFilterControl(h,O,"1","1","999999",b,A)}function n(h,O={},b={}){return E("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",h,O,b)}function E(h,O,b={},A={}){return(0,i.nW)(h,O,"5","0","100",b,A)}function C(h,O={},b={}){return(0,i.nW)("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",h,"5","0","100",O,b)}function v(h,O,b={},A={},S="250"){return(0,i.nW)(h,O,S,"0","1000000",b,A)}function r(h,O={},b={},A="25"){return v("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",h,O,b,A)}function t(h,O={},b={},A="25"){return v("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",h,O,b,A)}function a(h,O,b={},A={}){return createNumberFilterControl(h,O,"1","0","99999",b,A)}function s(h,O={},b={}){return createCheckboxFilterControl("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",h,O,b)}function D(h,O={},b={}){return createCheckboxFilterControl("\u0421 \u0444\u043E\u0442\u043E: ",h,O,b)}function R(h,O={},b={}){return createCheckboxFilterControl("\u041F\u0440\u043E\u0433\u0440\u0443\u0437\u043A\u0430: ",h,O,b)}function F(h,O={},b={}){return(0,i.Hw)("\u0412\u043A\u043B: ",h,O,b)}},8355:(P,d,e)=>{e.d(d,{R:()=>i});function i(p){return p.value.toLowerCase().split(",").map(c=>c.trim()).filter(c=>c!=="")}function f(p){return i(p).filter(c=>!c.startsWith("!"))}},5213:(P,d,e)=>{e.d(d,{b:()=>p});var i=e(9928),f=e(573);function p(c,m,u=!1,o="customFiltersContainer"){let n=(0,f.Fi)(`#${o}`,c);if(n)if(u)n.remove();else return;n=(0,i.Sw)(),n.id=o,m(n,c)}},4444:(P,d,e)=>{e.d(d,{s:()=>i});function i(f){let m=2166136261;for(let u=0;u<f.length;u+=1){const o=f.charCodeAt(u);m^=o,m=Math.imul(m,16777619)}return m>>>0}},5081:(P,d,e)=>{e.d(d,{B:()=>p});var i=e(4444);function f(c){return(0,i.s)(c).toString(16).padStart(8,"0")}function p(c,m="common"){return c?f(c):m}},8200:(P,d,e)=>{e.d(d,{s:()=>i});function i(f){const{target:p}=f,{type:c}=p;switch(c){case"text":return`"${p.value}"`;case"number":return p.value;case"checkbox":return p.checked;default:return console.log(`Unknown input type: ${c}`),null}}},157:(P,d,e)=>{e.d(d,{Fg:()=>i,vx:()=>p});const i=window.GM_setValue,f=window.GM.setValue,p=window.GM_getValue,c=window.GM_addValueChangeListener},4639:(P,d,e)=>{e.d(d,{a:()=>c});var i=e(1870),f=e(8200),p=e(3976);class c extends i.j{constructor(u=null,o=null){super(u,o)}updateValueFromEvent=u=>{const o=(0,p.$)((0,f.s)(u));this.value!==o&&(this.value=o,this.onChangeIfDefined())}}},1870:(P,d,e)=>{e.d(d,{j:()=>i});class i{constructor(p,c){this.value=p,this.onChange=c}onChangeIfDefined=()=>{this.onChange&&this.onChange()}}},3048:(P,d,e)=>{e.d(d,{V:()=>m});var i=e(1870),f=e(8200),p=e(3976),c=e(157);class m extends i.j{constructor(o,n=null,E=null){super((0,c.vx)(o,n),E),this.storageKey=o,this.defaultValue=n}static create(o,n=null,E=null){return new m(o,n,E)}static createWithCompositeKey(o,n,E=null,C=null){const v=`${o}-${n}`;return new m(v,E,C)}updateValueFromEvent=o=>{const n=(0,f.s)(o),E=(0,p.$)(n);this.updateValue(E)};updateValue(o){this.value!==o&&((0,c.Fg)(this.storageKey,o),this.value=o,this.onChangeIfDefined())}clearValue(){this.updateValue(null)}resetValue(){this.updateValue(this.defaultValue)}}},3976:(P,d,e)=>{e.d(d,{$:()=>i});function i(f){return f===""?null:JSON.parse(f)}},4214:(P,d,e)=>{e.d(d,{zr:()=>f});function i(m){return m.replace(/\D/g,"")}function f(m){return m.replace(/[^\d.,-]/g,"")}function p(m){return m.replace(/\s/g,"")}function c(m){return m.charAt(0).toUpperCase()+m.slice(1)}},5406:(P,d,e)=>{e.d(d,{C$:()=>p,Fc:()=>i,W2:()=>n});function i(r,t="common",a=!1){const{pathname:s}=window.location;return f(s,r,t,a)}function f(r,t,a,s=!1){const R=r.split("/")[t]||a;return s&&console.log(`Pathname element: ${R}`),R}function p(r,t="common",a=!1){const s=i(r,"",a);return c(s,t,a)}function c(r,t,a){if(!r)return t;const s=r.split("-").at(-1);return a&&console.log(`Pathname element ending: ${s}`),s}function m(r,t,a="common",s=!1){const D=f(r,t,"",s);return c(D,a,s)}function u(r){return new URLSearchParams(window.location.search).get(r)}function o(r){return r.split("?")[0]}function n(r){return window.location.pathname.includes(r)}function E(r){return r.some(t=>n(t))}function C(r){return window.location.pathname.split("/").some(a=>a===r)}function v(r){try{const t=new URL(window.location.href);Object.entries(r).forEach(([a,s])=>{t.searchParams.set(a,s)}),window.location.href=t.toString()}catch(t){console.error("Failed to redirect:",t)}}},4010:(P,d,e)=>{e.a(P,async(i,f)=>{try{let u=function(){return(0,m.W2)("details")};var p=e(1901),c=e(2344),m=e(5406);u()?await(0,p.K)():await(0,c.P)(),f()}catch(u){f(u)}},1)},1926:(P,d,e)=>{e.d(d,{i:()=>i});const i={PRICE:"price",BALANCED_CASHBACK_PRICE:"balanced-cashback-price",COUPON:"applied-coupon",OBSERVED:"observed"}},1319:(P,d,e)=>{e.d(d,{Z:()=>p});var i=e(573),f=e(1926);function p(n,E,C,v){const r=(0,i.Fi)(E,n);return(c(r,v)||!r.hasAttribute(f.i.BALANCED_CASHBACK_PRICE))&&m(r,C,v),r}function c(n,E){if(n.hasAttribute(f.i.COUPON)){const C=+n.getAttribute(f.i.COUPON);return E!==C}return!!E}function m(n,E,C){let v=u(n);n.setAttribute(f.i.PRICE,v),C?(C<1?v=(v*(1-C)).toFixed():v-=C,n.setAttribute(f.i.COUPON,C)):n.removeAttribute(f.i.COUPON);const r=o(v,E),t=v-r;n.setAttribute(f.i.BALANCED_CASHBACK_PRICE,t);const a=`${v.toLocaleString()} (${t.toLocaleString()}) \u20BD`;n.innerText=a,n.title=`-${r.toLocaleString()}`}function u(n){return n.hasAttribute(f.i.PRICE)?+n.getAttribute(f.i.PRICE):(0,i.YA)(n,!0)}function o(n,E){const C=E/100;return(n*C/(1+C)).toFixed(0)}},4633:(P,d,e)=>{e.d(d,{r:()=>f});const i={INPUT:{border:"1px solid #e4ebf0",fontSize:"14px",borderRadius:"8px",marginLeft:"7px",padding:"8px 14px"}},f={CONTAINER:{display:"flex",gridGap:"15px",padding:"14px 5px"},CONTROL:{display:"flex",alignItems:"center",fontSize:"14px"},TEXT_INPUT:{...i.INPUT,width:"180px"},NUMBER_INPUT:{...i.INPUT},CHECKBOX_INPUT:{marginLeft:"7px",width:"23px",height:"23px"}}},2344:(P,d,e)=>{e.d(d,{P:()=>k});var i=e(4921),f=e(5213),p=e(1319),c=e(5406),m=e(4639),u=e(3829),o=e(5884),n=e(5539),E=e(573),C=e(7877),v=e(1926),r=e(4633),t=e(4521),a=e(5081);const s={PRODUCT_CARD_LIST_HEADER:".catalog-listing-controls",PRODUCT_CARD:".catalog-item-desktop",PRODUCT_CARD_PRICE:".catalog-item-regular-desktop__price",PRODUCT_CARD_CASHBACK:".bonus-percent",PRODUCT_CARD_TITLE:".catalog-item-regular-desktop__title-link",PRODUCT_CARD_DISCOUNT:".discount-percentage__value",PRODUCT_CARD_SELLER_NAME:".merchant-info__name"},D=(0,a.B)((0,c.Fc)(2)),{createSectionFilter:R}=(0,t.z)(N,D),F=R("name-filter"),h=R("min-cashback-filter"),O=R("max-price-filter"),b=R("min-discount-filter"),A=R("seller-name-filter"),S=new m.a(!1,N);async function k(){await l();const T=await(0,i.xk)(document,"#app");new MutationObserver((0,i.sg)(l)).observe(T,{childList:!0,subtree:!0})}async function l(){const T=await(0,i.xk)(document,s.PRODUCT_CARD_LIST_HEADER);(0,f.b)(T,_);const g=T.parentNode;if(g.hasAttribute(v.i.OBSERVED))return;new MutationObserver((0,i.sg)(N,50)).observe(g,{childList:!0,subtree:!0}),g.setAttribute(v.i.OBSERVED,"")}function _(T,g){(0,n.ZM)(T,r.r.CONTAINER);const I=(0,C.E9)(F,r.r.CONTROL,r.r.TEXT_INPUT),y=(0,C.Ch)(h,r.r.CONTROL,r.r.NUMBER_INPUT),M=(0,C.H1)(O,r.r.CONTROL,r.r.NUMBER_INPUT,"250"),L=(0,C.VD)(b,r.r.CONTROL,r.r.NUMBER_INPUT),x=(0,o.Nm)("\u041F\u0440\u043E\u0434\u0430\u0432\u0435\u0446: ",A,r.r.CONTROL,r.r.TEXT_INPUT),w=(0,C.pW)(S,r.r.CONTROL,r.r.CHECKBOX_INPUT);T.append(I,y,M,L,x,w),g.append(T)}function N(){(0,E.fI)(s.PRODUCT_CARD).forEach(U)}function U(T){if(!S.value){(0,n.kl)(T);return}const g=(0,E.Fi)(s.PRODUCT_CARD_TITLE,T),I=(0,E.Fi)(s.PRODUCT_CARD_CASHBACK,T),y=(0,E.Fi)(s.PRODUCT_CARD_DISCOUNT,T);if(!g){(0,n.Bt)(T);return}const M=g.innerText,L=(0,E.YA)(I,!0,!1,0),x=Math.abs((0,E.YA)(y,!0,!1,0)),W=+(0,p.Z)(T,s.PRODUCT_CARD_PRICE,L).getAttribute(v.i.BALANCED_CASHBACK_PRICE),V=(0,E.Fi)(s.PRODUCT_CARD_SELLER_NAME,T),K=V?(0,u.Ay)(V.innerText,A):!1,G=(0,u.Ay)(M,F)||(0,u.JE)(L,h)||(0,u.iG)(W,O)||(0,u.JE)(x,b)||K;(0,n.UC)(T,G)}},1901:(P,d,e)=>{e.d(d,{K:()=>l});var i=e(4921),f=e(5081),p=e(5406),c=e(5213),m=e(4639),u=e(3829),o=e(5539),n=e(573),E=e(7877),C=e(5884),v=e(1319),r=e(1926),t=e(4633),a=e(4521);const s={APP:"#app",OFFERS_FILTER:".pdp-prices-filter",OFFERS_CONTAINER:".pdp-prices",OFFER:".pdp-prices .product-offer",PRICE:".product-offer-price__amount",CASHBACK:".bonus-percent",SELLER_RATING:".pdp-merchant-rating-block__rating"},D=(0,f.B)((0,p.C$)(3)),{createGlobalFilter:R,createSectionFilter:F}=(0,a.z)(U,D),h=F("min-cashback-filter"),O=F("max-price-filter"),b=F("max-discounted-price-filter"),A=R("min-seller-rating-filter"),S=new m.a(null,U),k=R("filter-enabled",!1);async function l(){await _();const g=await(0,i.xk)(document,s.APP);new MutationObserver((0,i.sg)(_)).observe(g,{childList:!0})}async function _(){const g=await(0,i.xk)(document,s.OFFERS_FILTER);(0,c.b)(g,N),U();const I=(0,n.Fi)(s.OFFERS_CONTAINER);if(I.hasAttribute(r.i.OBSERVED))return;new MutationObserver((0,i.sg)(U,50)).observe(I,{childList:!0,subtree:!0}),I.setAttribute(r.i.OBSERVED,"")}function N(g,I){(0,o.ZM)(g,t.r.CONTAINER);const y=(0,E.Ch)(h,t.r.CONTROL,t.r.NUMBER_INPUT),M=(0,E.H1)(O,t.r.CONTROL,t.r.NUMBER_INPUT,"250"),L=(0,E.Zi)("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430 \u0441\u043E \u0441\u043A\u0438\u0434\u043A\u043E\u0439: ",b,t.r.CONTROL,t.r.NUMBER_INPUT),x=(0,E.HX)(A,t.r.CONTROL,t.r.NUMBER_INPUT),w=(0,C.nW)("\u041A\u0443\u043F\u043E\u043D: ",S,"500","0","100000",t.r.CONTROL,t.r.NUMBER_INPUT),W=(0,E.pW)(k,t.r.CONTROL,t.r.CHECKBOX_INPUT);g.append(y,M,L,x,w,W),I.append(g)}function U(){(0,n.fI)(s.OFFER).forEach(T)}function T(g){if(!k.value){(0,o.kl)(g);return}const I=(0,n.Fi)(s.PRICE,g),y=(0,n.Fi)(s.CASHBACK,g),M=(0,n.Fi)(s.SELLER_RATING,g);if(!I||!y||!M){(0,o.Bt)(g);return}const L=(0,n.YA)(y,!0),x=(0,v.Z)(g,s.PRICE,L,S.value),w=+x.getAttribute(r.i.PRICE),W=+x.getAttribute(r.i.BALANCED_CASHBACK_PRICE),V=(0,n.YA)(M,!0),K=(0,u.JE)(L,h)||(0,u.iG)(w,O)||(0,u.iG)(W,b)||(0,u.JE)(V,A);(0,o.UC)(g,K)}}},H={};function B(P){var d=H[P];if(d!==void 0)return d.exports;var e=H[P]={exports:{}};return $[P](e,e.exports,B),e.exports}(()=>{var P=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",d=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",e=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",i=p=>{p&&p.d<1&&(p.d=1,p.forEach(c=>c.r--),p.forEach(c=>c.r--?c.r++:c()))},f=p=>p.map(c=>{if(c!==null&&typeof c=="object"){if(c[P])return c;if(c.then){var m=[];m.d=0,c.then(n=>{u[d]=n,i(m)},n=>{u[e]=n,i(m)});var u={};return u[P]=n=>n(m),u}}var o={};return o[P]=n=>{},o[d]=c,o});B.a=(p,c,m)=>{var u;m&&((u=[]).d=-1);var o=new Set,n=p.exports,E,C,v,r=new Promise((t,a)=>{v=a,C=t});r[d]=n,r[P]=t=>(u&&t(u),o.forEach(t),r.catch(a=>{})),p.exports=r,c(t=>{E=f(t);var a,s=()=>E.map(R=>{if(R[e])throw R[e];return R[d]}),D=new Promise(R=>{a=()=>R(s),a.r=0;var F=h=>h!==u&&!o.has(h)&&(o.add(h),h&&!h.d&&(a.r++,h.push(a)));E.map(h=>h[P](F))});return a.r?D:s()},t=>(t?v(r[e]=t):C(n),i(u))),u&&u.d<0&&(u.d=0)}})(),B.d=(P,d)=>{for(var e in d)B.o(d,e)&&!B.o(P,e)&&Object.defineProperty(P,e,{enumerable:!0,get:d[e]})},B.o=(P,d)=>Object.prototype.hasOwnProperty.call(P,d);var j=B(4010)})();})();
