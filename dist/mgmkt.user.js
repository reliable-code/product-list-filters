// ==UserScript==
// @name         MegaMarket product cards & offers filter
// @description  Hide product cards & offers by filter
// @grant        GM_addValueChangeListener
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://megamarket.ru/*
// @namespace    https://github.com/reliable-code/product-list-filters
// @version      0.1.73340745
// @icon         https://www.google.com/s2/favicons?sz=64&domain=megamarket.ru
// @author       reliable-code
// ==/UserScript==

(()=>{(()=>{var at={7061:(m,b,E)=>{var C=E(8698).default;function V(){"use strict";m.exports=V=function(){return _},m.exports.__esModule=!0,m.exports.default=m.exports;var P,_={},N=Object.prototype,M=N.hasOwnProperty,K=Object.defineProperty||function(i,a,u){i[a]=u.value},q=typeof Symbol=="function"?Symbol:{},z=q.iterator||"@@iterator",de=q.asyncIterator||"@@asyncIterator",Q=q.toStringTag||"@@toStringTag";function O(i,a,u){return Object.defineProperty(i,a,{value:u,enumerable:!0,configurable:!0,writable:!0}),i[a]}try{O({},"")}catch{O=function(u,s,g){return u[s]=g}}function ae(i,a,u,s){var g=a&&a.prototype instanceof oe?a:oe,c=Object.create(g.prototype),h=new B(s||[]);return K(c,"_invoke",{value:te(i,u,h)}),c}function ue(i,a,u){try{return{type:"normal",arg:i.call(a,u)}}catch(s){return{type:"throw",arg:s}}}_.wrap=ae;var pe="suspendedStart",T="suspendedYield",J="executing",Z="completed",w={};function oe(){}function X(){}function R(){}var ee={};O(ee,z,function(){return this});var ie=Object.getPrototypeOf,v=ie&&ie(ie(j([])));v&&v!==N&&M.call(v,z)&&(ee=v);var G=R.prototype=oe.prototype=Object.create(ee);function le(i){["next","throw","return"].forEach(function(a){O(i,a,function(u){return this._invoke(a,u)})})}function $(i,a){function u(g,c,h,x){var y=ue(i[g],i,c);if(y.type!=="throw"){var k=y.arg,A=k.value;return A&&C(A)=="object"&&M.call(A,"__await")?a.resolve(A.__await).then(function(F){u("next",F,h,x)},function(F){u("throw",F,h,x)}):a.resolve(A).then(function(F){k.value=F,h(k)},function(F){return u("throw",F,h,x)})}x(y.arg)}var s;K(this,"_invoke",{value:function(c,h){function x(){return new a(function(y,k){u(c,h,y,k)})}return s=s?s.then(x,x):x()}})}function te(i,a,u){var s=pe;return function(g,c){if(s===J)throw Error("Generator is already running");if(s===Z){if(g==="throw")throw c;return{value:P,done:!0}}for(u.method=g,u.arg=c;;){var h=u.delegate;if(h){var x=ve(h,u);if(x){if(x===w)continue;return x}}if(u.method==="next")u.sent=u._sent=u.arg;else if(u.method==="throw"){if(s===pe)throw s=Z,u.arg;u.dispatchException(u.arg)}else u.method==="return"&&u.abrupt("return",u.arg);s=J;var y=ue(i,a,u);if(y.type==="normal"){if(s=u.done?Z:T,y.arg===w)continue;return{value:y.arg,done:u.done}}y.type==="throw"&&(s=Z,u.method="throw",u.arg=y.arg)}}}function ve(i,a){var u=a.method,s=i.iterator[u];if(s===P)return a.delegate=null,u==="throw"&&i.iterator.return&&(a.method="return",a.arg=P,ve(i,a),a.method==="throw")||u!=="return"&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+u+"' method")),w;var g=ue(s,i.iterator,a.arg);if(g.type==="throw")return a.method="throw",a.arg=g.arg,a.delegate=null,w;var c=g.arg;return c?c.done?(a[i.resultName]=c.value,a.next=i.nextLoc,a.method!=="return"&&(a.method="next",a.arg=P),a.delegate=null,w):c:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,w)}function xe(i){var a={tryLoc:i[0]};1 in i&&(a.catchLoc=i[1]),2 in i&&(a.finallyLoc=i[2],a.afterLoc=i[3]),this.tryEntries.push(a)}function se(i){var a=i.completion||{};a.type="normal",delete a.arg,i.completion=a}function B(i){this.tryEntries=[{tryLoc:"root"}],i.forEach(xe,this),this.reset(!0)}function j(i){if(i||i===""){var a=i[z];if(a)return a.call(i);if(typeof i.next=="function")return i;if(!isNaN(i.length)){var u=-1,s=function g(){for(;++u<i.length;)if(M.call(i,u))return g.value=i[u],g.done=!1,g;return g.value=P,g.done=!0,g};return s.next=s}}throw new TypeError(C(i)+" is not iterable")}return X.prototype=R,K(G,"constructor",{value:R,configurable:!0}),K(R,"constructor",{value:X,configurable:!0}),X.displayName=O(R,Q,"GeneratorFunction"),_.isGeneratorFunction=function(i){var a=typeof i=="function"&&i.constructor;return!!a&&(a===X||(a.displayName||a.name)==="GeneratorFunction")},_.mark=function(i){return Object.setPrototypeOf?Object.setPrototypeOf(i,R):(i.__proto__=R,O(i,Q,"GeneratorFunction")),i.prototype=Object.create(G),i},_.awrap=function(i){return{__await:i}},le($.prototype),O($.prototype,de,function(){return this}),_.AsyncIterator=$,_.async=function(i,a,u,s,g){g===void 0&&(g=Promise);var c=new $(ae(i,a,u,s),g);return _.isGeneratorFunction(a)?c:c.next().then(function(h){return h.done?h.value:c.next()})},le(G),O(G,Q,"Generator"),O(G,z,function(){return this}),O(G,"toString",function(){return"[object Generator]"}),_.keys=function(i){var a=Object(i),u=[];for(var s in a)u.push(s);return u.reverse(),function g(){for(;u.length;){var c=u.pop();if(c in a)return g.value=c,g.done=!1,g}return g.done=!0,g}},_.values=j,B.prototype={constructor:B,reset:function(a){if(this.prev=0,this.next=0,this.sent=this._sent=P,this.done=!1,this.delegate=null,this.method="next",this.arg=P,this.tryEntries.forEach(se),!a)for(var u in this)u.charAt(0)==="t"&&M.call(this,u)&&!isNaN(+u.slice(1))&&(this[u]=P)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if(a.type==="throw")throw a.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var u=this;function s(k,A){return h.type="throw",h.arg=a,u.next=k,A&&(u.method="next",u.arg=P),!!A}for(var g=this.tryEntries.length-1;g>=0;--g){var c=this.tryEntries[g],h=c.completion;if(c.tryLoc==="root")return s("end");if(c.tryLoc<=this.prev){var x=M.call(c,"catchLoc"),y=M.call(c,"finallyLoc");if(x&&y){if(this.prev<c.catchLoc)return s(c.catchLoc,!0);if(this.prev<c.finallyLoc)return s(c.finallyLoc)}else if(x){if(this.prev<c.catchLoc)return s(c.catchLoc,!0)}else{if(!y)throw Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return s(c.finallyLoc)}}}},abrupt:function(a,u){for(var s=this.tryEntries.length-1;s>=0;--s){var g=this.tryEntries[s];if(g.tryLoc<=this.prev&&M.call(g,"finallyLoc")&&this.prev<g.finallyLoc){var c=g;break}}c&&(a==="break"||a==="continue")&&c.tryLoc<=u&&u<=c.finallyLoc&&(c=null);var h=c?c.completion:{};return h.type=a,h.arg=u,c?(this.method="next",this.next=c.finallyLoc,w):this.complete(h)},complete:function(a,u){if(a.type==="throw")throw a.arg;return a.type==="break"||a.type==="continue"?this.next=a.arg:a.type==="return"?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):a.type==="normal"&&u&&(this.next=u),w},finish:function(a){for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u];if(s.finallyLoc===a)return this.complete(s.completion,s.afterLoc),se(s),w}},catch:function(a){for(var u=this.tryEntries.length-1;u>=0;--u){var s=this.tryEntries[u];if(s.tryLoc===a){var g=s.completion;if(g.type==="throw"){var c=g.arg;se(s)}return c}}throw Error("illegal catch attempt")},delegateYield:function(a,u,s){return this.delegate={iterator:j(a),resultName:u,nextLoc:s},this.method==="next"&&(this.arg=P),w}},_}m.exports=V,m.exports.__esModule=!0,m.exports.default=m.exports},8698:m=>{function b(E){"@babel/helpers - typeof";return m.exports=b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},m.exports.__esModule=!0,m.exports.default=m.exports,b(E)}m.exports=b,m.exports.__esModule=!0,m.exports.default=m.exports},4687:(m,b,E)=>{var C=E(7061)();m.exports=C;try{regeneratorRuntime=C}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=C:Function("r","regeneratorRuntime = r")(C)}}},we={};function D(m){var b=we[m];if(b!==void 0)return b.exports;var E=we[m]={exports:{}};return at[m](E,E.exports,D),E.exports}D.n=m=>{var b=m&&m.__esModule?()=>m.default:()=>m;return D.d(b,{a:b}),b},D.d=(m,b)=>{for(var E in b)D.o(b,E)&&!D.o(m,E)&&Object.defineProperty(m,E,{enumerable:!0,get:b[E]})},D.o=(m,b)=>Object.prototype.hasOwnProperty.call(m,b);var Nt={};(()=>{"use strict";function m(e,t,n,r,o,l,f){try{var d=e[l](f),p=d.value}catch(S){return void n(S)}d.done?t(p):Promise.resolve(p).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var l=e.apply(t,n);function f(p){m(l,r,o,f,d,"next",p)}function d(p){m(l,r,o,f,d,"throw",p)}f(void 0)})}}var E=D(4687),C=D.n(E);function V(e,t){return P.apply(this,arguments)}function P(){return P=b(C().mark(function e(t,n){var r,o,l=arguments;return C().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(r=l.length>2&&l[2]!==void 0?l[2]:null,o=t.querySelector(n),!o){d.next=4;break}return d.abrupt("return",o);case 4:return d.abrupt("return",new Promise(function(p){var S=new MutationObserver(H);S.observe(t,{childList:!0,subtree:!0});var L=null;r&&(L=setTimeout(function(){S.disconnect(),console.log("No element found for selector: ".concat(n)),p(null)},r));function H(){var Y=t.querySelector(n);Y&&(L&&clearTimeout(L),S.disconnect(),p(Y))}}));case 5:case"end":return d.stop()}},e)})),P.apply(this,arguments)}function _(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,n;return function(){for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];clearTimeout(n),n=setTimeout(function(){return e.apply(void 0,o)},t)}}function N(e){"@babel/helpers - typeof";return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(e)}function M(e){if(Array.isArray(e))return e}function K(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,l,f,d=[],p=!0,S=!1;try{if(l=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;p=!1}else for(;!(p=(r=l.call(n)).done)&&(d.push(r.value),d.length!==t);p=!0);}catch(L){S=!0,o=L}finally{try{if(!p&&n.return!=null&&(f=n.return(),Object(f)!==f))return}finally{if(S)throw o}}return d}}function q(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function z(e,t){if(e){if(typeof e=="string")return q(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function de(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q(e,t){return M(e)||K(e,t)||z(e,t)||de()}function O(e){return e.replace(/\D/g,"")}function ae(e){return e.replace(/[^\d.,-]/g,"")}function ue(e){return e.replace(/\s/g,"")}function pe(e){return e.charAt(0).toUpperCase()+e.slice(1)}function T(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=t.querySelector(e);return n&&!r&&console.log("No element found for selector: ".concat(e)),r}function J(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=t.querySelectorAll(e);return n&&!r.length&&console.log("No elements found for selector: ".concat(e)),r}function Z(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=T(t,e,!0),l=w(o,n,r);return l}function w(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(!e)if(r===null)console.log("No element found");else return r;var o=e.innerText;return R(o,t,n)}function oe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e[t],o=w(r,n);return o}function X(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e.textContent;return R(r,t,n)}function R(e,t,n){t&&(e=ae(e)),n&&(e=e.replace(",","."));var r=+e;return r}function ee(e,t){Object.assign(e.style,t)}function ie(e){return Object.entries(e).map(function(t){var n=_slicedToArray(t,2),r=n[0],o=n[1];return"".concat(r.replace(/([A-Z])/g,"-$1").toLowerCase(),": ").concat(o,";")}).join(" ")}function v(e){return e?e.split(";").filter(function(t){return t.trim()!==""}).reduce(function(t,n){var r=n.split(":").map(function(p){return p.trim()}),o=Q(r,2),l=o[0],f=o[1],d=l.replace(/-([a-z])/g,function(p,S){return S.toUpperCase()});return t[d]=f,t},{}):{}}function G(e,t,n){var r=te(e,"text",t);return r.value=n,r}function le(e,t,n,r,o,l){var f=te(e,"number",t);return f.value=n,f.step=r,f.min=o,f.max=l,f}function $(e,t,n){var r=te(e,"checkbox",t);return r.checked=n,r}function te(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=j("input",e);return t&&(r.type=t),n&&(r.addEventListener("keyup",_(n,200)),r.addEventListener("change",_(n,100))),r}function ve(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return j("span",e,t)}function xe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=j("a",e,t);return n&&(r.href=n),r}function se(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=j("button",e,t);return n&&(r.onclick=n),r}function B(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return j("div",e,t)}function j(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(N(t)!=="object"||t===null)throw new TypeError("styles should be an object");var r=document.createElement(e);return ee(r,t),n&&(r.innerHTML=n),r}function i(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"customFiltersContainer",o=T("#".concat(r),e);if(o)if(n)o.remove();else return;o=B(),o.id=r,t(o,e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(N(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(N(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s(e){var t=u(e,"string");return N(t)=="symbol"?t:t+""}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,s(r.key),r)}}function c(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){if(t&&(N(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(e)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},k(e,t)}function A(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}function F(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se=c(function e(t,n){var r=this;a(this,e),F(this,"onChangeIfDefined",function(){r.onChange&&r.onChange()}),this.value=t,this.onChange=n});function Ce(e){var t=e.target,n=t.type;switch(n){case"text":return'"'.concat(t.value,'"');case"number":return t.value;case"checkbox":return t.checked;default:return console.log("Unknown input type: ".concat(n)),null}}function Ee(e){return e===""?null:JSON.parse(e)}function ut(e,t,n){return t=y(t),x(e,Pe()?Reflect.construct(t,n||[],y(e).constructor):t.apply(e,n))}function Pe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pe=function(){return!!e})()}var ot=window.GM_setValue,Rt=window.GM.setValue,it=window.GM_getValue,It=window.GM_addValueChangeListener,I=function(e){function t(n){var r,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return a(this,t),r=ut(this,t,[it(n,o),l]),F(r,"updateValueFromEvent",function(f){var d=Ce(f),p=Ee(d);r.value!==p&&(ot(r.storageKey,p),r.value=p,r.onChangeIfDefined())}),r.storageKey=n,r}return A(t,e),c(t,null,[{key:"createWithCompositeKey",value:function(r,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,d="".concat(r,"-").concat(o);return new t(d,l,f)}}])}(Se),ce="price",fe="balanced-cashback-price",ge="applied-coupon";function Le(e,t,n,r){var o=T(t,e),l=lt(o,r);return(l||!o.hasAttribute(fe))&&st(o,n,r),o}function lt(e,t){if(e.hasAttribute(ge)){var n=+e.getAttribute(ge);return t!==n}return!!t}function st(e,t,n){var r=ct(e);e.setAttribute(ce,r),n?(n<1?r=(r*(1-n)).toFixed():r-=n,e.setAttribute(ge,n)):e.removeAttribute(ge);var o=ft(r,t),l=r-o;e.setAttribute(fe,l);var f="".concat(r.toLocaleString()," (").concat(l.toLocaleString(),") \u20BD");e.innerText=f,e.title="-".concat(o.toLocaleString())}function ct(e){return e.hasAttribute(ce)?+e.getAttribute(ce):w(e,!0)}function ft(e,t){var n=t/100;return(e*n/(1+n)).toFixed(0)}function Te(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=window.location.pathname;return Oe(r,e,t,n)}function Oe(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=e.split("/"),l=o[t]||n;return r&&console.log("Pathname element: ".concat(l)),l}function gt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Te(e,"",n);return ke(r,t,n)}function ke(e,t,n){if(!e)return t;var r=e.split("-").at(-1);return n&&console.log("Pathname element ending: ".concat(r)),r}function Dt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"common",r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=Oe(e,t,"",r);return ke(o,n,r)}function Mt(e){var t=window.location.search;return mt(t,e)}function mt(e,t){var n=new URLSearchParams(e);return n.get(t)}function Ae(e){return window.location.pathname.includes(e)}function jt(e){return e.some(function(t){return Ae(t)})}function Vt(e){var t=window.location.pathname.split("/");return t.some(function(n){return n===e})}function dt(e,t,n){return t=y(t),x(e,Fe()?Reflect.construct(t,n||[],y(e).constructor):t.apply(e,n))}function Fe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fe=function(){return!!e})()}var Ne=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return a(this,t),n=dt(this,t,[r,o]),F(n,"updateValueFromEvent",function(l){var f=Ee(Ce(l));n.value!==f&&(n.value=f,n.onChangeIfDefined())}),n}return A(t,e),c(t)}(Se);function Re(e,t){return!pt(e,t)}function pt(e,t){if(!t.value)return!0;var n=e.toLowerCase(),r=t.value.toLowerCase().split(",").map(function(f){return f.trim()}),o=[],l=[];return r.forEach(function(f){if(f.startsWith("!")){var d=f.substring(1);d&&l.push(d)}else o.push(f)}),o.every(function(f){return n.includes(f)})&&l.every(function(f){return!n.includes(f)})}function me(e,t){return t.value&&e<t.value}function he(e,t){return t.value&&e>t.value}function Gt(e,t){e.parentNode.insertBefore(t,e.nextSibling)}function ye(e){Me(e),De(e,"none")}function be(e,t){var n=t||vt(e);De(e,n)}function Ie(e,t,n){t?ye(e):be(e,n)}function De(e,t){e.style.display=t}function vt(e){return Me(e),e.getAttribute("display")}function Me(e){if(!e.hasAttribute("display")){var t=getComputedStyle(e),n=t.display;e.setAttribute("display",n)}}function Bt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.2;t?yt(e,n):ht(e)}function ht(e){e.style.opacity=""}function yt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.2;e.style.opacity=t}function Ut(e){e.style.order=""}function Wt(e,t){e.style.order=t}function Ht(e,t){e.style.background=t}function Kt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"custom-global-style",n=document.getElementById(t);n||(n=document.createElement("style"),n.id=t,n.type="text/css",document.head.appendChild(n)),n.textContent=e}function je(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=B(n,e),l=G(r,t.updateValueFromEvent,t.value);return o.append(l),o}function ne(e,t,n,r,o){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},d=B(l,e),p=le(f,t.updateValueFromEvent,t.value,n,r,o);return d.append(p),d}function bt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=B(n,e),l=$(r,t.updateValueFromEvent,t.value);return o.append(l),o}function _t(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return je("\u041F\u043E\u0438\u0441\u043A: ",e,t,n)}function wt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.1;return ne("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",e,r,3,5,t,n)}function qt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ve("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",e,t,n)}function zt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ve("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",e,t,n)}function Ve(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return createNumberFilterControl(e,t,"1","1","999999",n,r)}function xt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return St("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",e,t,n)}function St(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return ne(e,t,"5","0","100",n,r)}function Ge(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ne("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",e,"5","0","100",t,n)}function Be(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"250";return ne(e,t,o,"0","1000000",n,r)}function Ue(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"250";return Be("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",e,t,n,r)}function $t(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return createCheckboxFilterControl("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",e,t,n)}function We(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return bt("\u0412\u043A\u043B: ",e,t,n)}var _e=gt(3),He=new I("".concat(_e,"-min-cashback-filter"),null,U),Ke=new I("".concat(_e,"-max-price-filter"),null,U),qe=new I("".concat(_e,"-max-discounted-price-filter"),null,U),ze=new I("min-seller-rating-filter",null,U),$e=new Ne(null,U),Ye=new I("filter-enabled",!1,U);function Ct(){Qe(),V(document,"#app").then(function(e){var t=new MutationObserver(_(Qe));t.observe(e,{childList:!0})})}function Qe(){V(document,".pdp-prices-filter").then(function(e){i(e,Et),U();var t=T(".pdp-prices");if(!t.hasAttribute("observed")){var n=new MutationObserver(_(U,50));n.observe(t,{childList:!0,subtree:!0}),t.setAttribute("observed","")}})}function Et(e,t){e.style="display: flex;grid-gap: 15px;padding: 14px 5px;";var n="display: flex;align-items: center;font-size: 14px;",r="border: 1px solid #e4ebf0;font-size: 14px;border-radius: 8px;margin-left: 7px;padding: 8px 14px;",o=r,l="margin-left: 7px;width: 23px;height: 23px;",f=Ge(He,v(n),v(o)),d=Ue(Ke,v(n),v(o)),p=Be("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430 \u0441\u043E \u0441\u043A\u0438\u0434\u043A\u043E\u0439: ",qe,v(n),v(o)),S=wt(ze,v(n),v(o)),L=ne("\u041A\u0443\u043F\u043E\u043D: ",$e,"500","0","100000",v(n),v(o)),H=We(Ye,v(n),v(l));e.append(f,d,p,S,L,H),t.append(e)}function U(){var e=J(".pdp-prices .product-offer");e.forEach(function(t){if(!Ye.value){be(t);return}var n=T(".product-offer-price__amount",t),r=T(".bonus-percent",t),o=T(".pdp-merchant-rating-block__rating",t);if(!n||!r||!o){ye(t);return}var l=w(r,!0),f=Le(t,".product-offer-price__amount",l,$e.value),d=+f.getAttribute(ce),p=+f.getAttribute(fe),S=w(o,!0),L=me(l,He)||he(d,Ke)||he(p,qe)||me(S,ze);Ie(t,L)})}var re=Te(2),Je=new I("".concat(re,"-name-filter"),null,W),Ze=new I("".concat(re,"-min-cashback-filter"),null,W),Xe=new I("".concat(re,"-max-price-filter"),null,W),et=new I("".concat(re,"-min-discount-filter"),null,W),tt=new I("".concat(re,"-seller-name-filter"),null,W),nt=new Ne(!1,W),Pt=".catalog-listing-controls",Lt=".catalog-item-desktop",Tt=".catalog-item-regular-desktop__price",Ot=".bonus-percent";function kt(){rt(),V(document,"#app").then(function(e){var t=new MutationObserver(_(rt));t.observe(e,{childList:!0,subtree:!0})})}function rt(){V(document,Pt).then(function(e){i(e,At);var t=e.parentNode;if(!t.hasAttribute("observed")){var n=new MutationObserver(_(W,50));n.observe(t,{childList:!0,subtree:!0}),t.setAttribute("observed","")}})}function At(e,t){e.style="display: flex;grid-gap: 15px;padding: 14px 5px;";var n="display: flex;align-items: center;font-size: 14px;",r="border: 1px solid #e4ebf0;font-size: 14px;border-radius: 8px;margin-left: 7px;padding: 8px 14px;",o=r+"width: 180px;",l=r,f="margin-left: 7px;width: 23px;height: 23px;",d=_t(Je,v(n),v(o)),p=Ge(Ze,v(n),v(l)),S=Ue(Xe,v(n),v(l)),L=xt(et,v(n),v(l)),H=je("\u041F\u0440\u043E\u0434\u0430\u0432\u0435\u0446: ",tt,v(n),v(o)),Y=We(nt,v(n),v(f));e.append(d,p,S,L,H,Y),t.append(e)}function W(){var e=J(Lt);e.forEach(function(t){if(!nt.value){be(t);return}var n=T(".catalog-item-regular-desktop__title-link",t),r=T(Ot,t),o=T(".discount-percentage__value",t);if(!n){ye(t);return}var l=n.innerText,f=w(r,!0,!1,0),d=Math.abs(w(o,!0,!1,0)),p=Le(t,Tt,f),S=+p.getAttribute(fe),L=T(".merchant-info__name",t),H=L?Re(L.innerText,tt):!1,Y=Re(l,Je)||me(f,Ze)||he(S,Xe)||me(d,et)||H;Ie(t,Y)})}Ft()?Ct():kt();function Ft(){return Ae("details")}})()})();})();
