// ==UserScript==
// @name         MegaMarket product cards & offers filter
// @description  Hide product cards & offers by filter
// @grant        GM_addValueChangeListener
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://megamarket.ru/*
// @namespace    https://github.com/reliable-code/product-list-filters
// @version      0.1.73486360
// @icon         https://www.google.com/s2/favicons?sz=64&domain=megamarket.ru
// @author       reliable-code
// ==/UserScript==

(()=>{(()=>{var Q={6598:(E,m,e)=>{"use strict";e.d(m,{Bt:()=>u,_B:()=>f,dn:()=>s,wC:()=>p});var o=e(1002),d=e(6576),a=e(1557);function u(i,l,r){var t=y(i,"text",l);return t.value=r,t}function f(i,l,r,t,_,C){var T=y(i,"number",l);return T.value=r,T.step=t,T.min=_,T.max=C,T}function s(i,l,r){var t=y(i,"checkbox",l);return t.checked=r,t}function y(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,t=h("input",i);return l&&(t.type=l),r&&(t.addEventListener("keyup",(0,d.D)(r,200)),t.addEventListener("change",(0,d.D)(r,100))),t}function v(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h("span",i,l)}function b(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,t=h("a",i,l);return r&&(t.href=r),t}function R(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,t=h("button",i,l);return r&&(t.onclick=r),t}function p(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h("div",i,l)}function h(i,l){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if((0,o.Z)(l)!=="object"||l===null)throw new TypeError("styles should be an object");var t=document.createElement(i);return(0,a.Zs)(t,l),r&&(t.innerHTML=r),t}},1557:(E,m,e)=>{"use strict";e.d(m,{DJ:()=>a,NI:()=>s,Zs:()=>R,tk:()=>d});var o=e(1483);function d(i){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=l.querySelector(i);return r&&!t&&console.log("No element found for selector: ".concat(i)),t}function a(i){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=l.querySelectorAll(i);return r&&!t.length&&console.log("No elements found for selector: ".concat(i)),t}function u(i,l,r){return _toConsumableArray(i.querySelectorAll(l)).find(function(t){return t.textContent.trim().includes(r)})}function f(i,l){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,_=d(l,i,!0),C=s(_,r,t);return C}function s(i){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(!i)return t===null?(console.log("No element found"),null):t;var _=i.innerText;return b(_,l,r)}function y(i,l){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=i[l],_=s(t,r);return _}function v(i){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=i.textContent;return b(t,l,r)}function b(i,l,r){l&&(i=(0,o.g7)(i)),r&&(i=i.replace(",","."));var t=+i;return t}function R(i,l){Object.assign(i.style,l)}function p(i){return Object.entries(i).map(function(l){var r=_slicedToArray(l,2),t=r[0],_=r[1];return"".concat(t.replace(/([A-Z])/g,"-$1").toLowerCase(),": ").concat(_,";")}).join(" ")}function h(i){return i?i.split(";").filter(function(l){return l.trim()!==""}).reduce(function(l,r){var t=r.split(":").map(function(N){return N.trim()}),_=_slicedToArray(t,2),C=_[0],T=_[1],M=C.replace(/-([a-z])/g,function(N,x){return x.toUpperCase()});return l[M]=T,l},{}):{}}},9397:(E,m,e)=>{"use strict";e.d(m,{OQ:()=>u,V_:()=>a,e6:()=>d});function o(r,t){r.parentNode.insertBefore(t,r.nextSibling)}function d(r){y(r),f(r,"none")}function a(r,t){var _=t||s(r);f(r,_)}function u(r,t,_){t?d(r):a(r,_)}function f(r,t){r.style.display=t}function s(r){return y(r),r.getAttribute("display")}function y(r){if(!r.hasAttribute("display")){var t=getComputedStyle(r),_=t.display;r.setAttribute("display",_)}}function v(r,t){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.3;t?R(r,_):b(r)}function b(r){r.style.opacity=""}function R(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.3;r.style.opacity=t}function p(r){r.style.order=""}function h(r,t){r.style.order=t}function i(r,t){r.style.background=t}function l(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"custom-global-style",_=document.getElementById(t);_||(_=document.createElement("style"),_.id=t,_.type="text/css",document.head.appendChild(_)),_.textContent=r}},6576:(E,m,e)=>{"use strict";e.d(m,{D:()=>s,b:()=>u});var o=e(5861),d=e(4687),a=e.n(d);function u(y,v){return f.apply(this,arguments)}function f(){return f=(0,o.Z)(a().mark(function y(v,b){var R,p,h=arguments;return a().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(R=h.length>2&&h[2]!==void 0?h[2]:null,p=v.querySelector(b),!p){l.next=4;break}return l.abrupt("return",p);case 4:return l.abrupt("return",new Promise(function(r){var t=new MutationObserver(C);t.observe(v,{childList:!0,subtree:!0});var _=null;R&&(_=setTimeout(function(){t.disconnect(),console.log("No element found for selector: ".concat(b)),r(null)},R));function C(){var T=v.querySelector(b);T&&(_&&clearTimeout(_),t.disconnect(),r(T))}}));case 5:case"end":return l.stop()}},y)})),f.apply(this,arguments)}function s(y){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,b;return function(){for(var R=arguments.length,p=new Array(R),h=0;h<R;h++)p[h]=arguments[h];clearTimeout(b),b=setTimeout(function(){return y.apply(void 0,p)},v)}}},9144:(E,m,e)=>{"use strict";e.d(m,{E1:()=>a,J2:()=>o,YY:()=>u});function o(f,s){return!d(f,s)}function d(f,s){if(!s.value)return!0;var y=f.toLowerCase(),v=s.value.toLowerCase().split(",").map(function(p){return p.trim()}),b=[],R=[];return v.forEach(function(p){if(p.startsWith("!")){var h=p.substring(1);h&&R.push(h)}else b.push(p)}),b.every(function(p){return y.includes(p)})&&R.every(function(p){return!y.includes(p)})}function a(f,s){return s.value&&f<s.value}function u(f,s){return s.value&&f>s.value}},1928:(E,m,e)=>{"use strict";e.d(m,{Z:()=>d});var o=e(4830);function d(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return{createGlobalFilter:function(s){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a;return o.Yz.create(s,y,v)},createSectionFilter:function(s){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a;if(!u)throw new Error("sectionId must be provided to use createSectionFilter.");return o.Yz.createWithCompositeKey(u,s,y,v)}}}},2050:(E,m,e)=>{"use strict";e.d(m,{XF:()=>u,Xi:()=>d,xy:()=>a});var o=e(6598);function d(f,s){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b=(0,o.wC)(y,f),R=(0,o.Bt)(v,s.updateValueFromEvent,s.value);return b.append(R),b}function a(f,s,y,v,b){var R=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},p=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},h=(0,o.wC)(R,f),i=(0,o._B)(p,s.updateValueFromEvent,s.value,y,v,b);return h.append(i),h}function u(f,s){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},b=(0,o.wC)(y,f),R=(0,o.dn)(v,s.updateValueFromEvent,s.value);return b.append(R),b}},6332:(E,m,e)=>{"use strict";e.d(m,{Dj:()=>y,Ro:()=>R,T5:()=>d,gc:()=>b,iz:()=>h,kc:()=>a,pN:()=>r});var o=e(2050);function d(t){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,o.Xi)("\u041F\u043E\u0438\u0441\u043A: ",t,_,C)}function a(t){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.1;return(0,o.xy)("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",t,T,3,5,_,C)}function u(t){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",t,_,C)}function f(t){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return s("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",t,_,C)}function s(t,_){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return createNumberFilterControl(t,_,"1","1","999999",C,T)}function y(t){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return v("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",t,_,C)}function v(t,_){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(0,o.xy)(t,_,"5","0","100",C,T)}function b(t){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,o.xy)("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",t,"5","0","100",_,C)}function R(t,_){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},M=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"250";return(0,o.xy)(t,_,M,"0","1000000",C,T)}function p(t){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"25";return R("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",t,_,C,T)}function h(t){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"25";return R("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",t,_,C,T)}function i(t,_){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return createNumberFilterControl(t,_,"1","0","99999",C,T)}function l(t){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return createCheckboxFilterControl("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",t,_,C)}function r(t){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,o.XF)("\u0412\u043A\u043B: ",t,_,C)}},7798:(E,m,e)=>{"use strict";e.d(m,{C:()=>a});var o=e(6598),d=e(1557);function a(u,f){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"customFiltersContainer",v=(0,d.tk)("#".concat(y),u);if(v)if(s)v.remove();else return;v=(0,o.wC)(),v.id=y,f(v,u)}},6476:(E,m,e)=>{"use strict";e.d(m,{r:()=>o});function o(d){for(var a=2166136261,u=16777619,f=a,s=0;s<d.length;s+=1){var y=d.charCodeAt(s);f^=y,f=Math.imul(f,u)}return f>>>0}},5883:(E,m,e)=>{"use strict";e.d(m,{E:()=>a});var o=e(6476);function d(u){return(0,o.r)(u).toString(16).padStart(8,"0")}function a(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common";return u?d(u):f}},1469:(E,m,e)=>{"use strict";e.d(m,{F:()=>o});function o(d){var a=d.target,u=a.type;switch(u){case"text":return'"'.concat(a.value,'"');case"number":return a.value;case"checkbox":return a.checked;default:return console.log("Unknown input type: ".concat(u)),null}}},3324:(E,m,e)=>{"use strict";e.d(m,{u:()=>h});var o=e(3144),d=e(5671),a=e(2963),u=e(1120),f=e(136),s=e(4942),y=e(7047),v=e(1469),b=e(3295);function R(i,l,r){return l=(0,u.Z)(l),(0,a.Z)(i,p()?Reflect.construct(l,r||[],(0,u.Z)(i).constructor):l.apply(i,r))}function p(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p=function(){return!!i})()}var h=function(i){function l(){var r,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return(0,d.Z)(this,l),r=R(this,l,[t,_]),(0,s.Z)(r,"updateValueFromEvent",function(C){var T=(0,b.H)((0,v.F)(C));r.value!==T&&(r.value=T,r.onChangeIfDefined())}),r}return(0,f.Z)(l,i),(0,o.Z)(l)}(y.H)},7047:(E,m,e)=>{"use strict";e.d(m,{H:()=>u});var o=e(3144),d=e(5671),a=e(4942),u=(0,o.Z)(function f(s,y){var v=this;(0,d.Z)(this,f),(0,a.Z)(this,"onChangeIfDefined",function(){v.onChange&&v.onChange()}),this.value=s,this.onChange=y})},4830:(E,m,e)=>{"use strict";e.d(m,{Yz:()=>t});var o=e(5671),d=e(3144),a=e(2963),u=e(1120),f=e(136),s=e(4942),y=e(7047),v=e(1469),b=e(3295);function R(_,C,T){return C=(0,u.Z)(C),(0,a.Z)(_,p()?Reflect.construct(C,T||[],(0,u.Z)(_).constructor):C.apply(_,T))}function p(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p=function(){return!!_})()}var h=window.GM_setValue,i=window.GM.setValue,l=window.GM_getValue,r=window.GM_addValueChangeListener,t=function(_){function C(T){var M,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return(0,o.Z)(this,C),M=R(this,C,[l(T,N),x]),(0,s.Z)(M,"updateValueFromEvent",function(I){var w=(0,v.F)(I),F=(0,b.H)(w);M.updateValue(F)}),M.storageKey=T,M}return(0,f.Z)(C,_),(0,d.Z)(C,[{key:"updateValue",value:function(M){this.value!==M&&(h(this.storageKey,M),this.value=M,this.onChangeIfDefined())}},{key:"clearValue",value:function(){this.updateValue(null)}}],[{key:"create",value:function(M){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new C(M,N,x)}},{key:"createWithCompositeKey",value:function(M,N){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,w="".concat(M,"-").concat(N);return new C(w,x,I)}}])}(y.H)},3295:(E,m,e)=>{"use strict";e.d(m,{H:()=>o});function o(d){return d===""?null:JSON.parse(d)}},1483:(E,m,e)=>{"use strict";e.d(m,{g7:()=>d});function o(f){return f.replace(/\D/g,"")}function d(f){return f.replace(/[^\d.,-]/g,"")}function a(f){return f.replace(/\s/g,"")}function u(f){return f.charAt(0).toUpperCase()+f.slice(1)}},3950:(E,m,e)=>{"use strict";e.d(m,{ML:()=>a,lY:()=>v,uW:()=>o});function o(p){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=window.location.pathname;return d(l,p,h,i)}function d(p,h,i){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=p.split("/"),t=r[h]||i;return l&&console.log("Pathname element: ".concat(t)),t}function a(p){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=o(p,"",i);return u(l,h,i)}function u(p,h,i){if(!p)return h;var l=p.split("-").at(-1);return i&&console.log("Pathname element ending: ".concat(l)),l}function f(p,h){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"common",l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=d(p,h,"",l);return u(r,i,l)}function s(p){var h=window.location.search;return y(h,p)}function y(p,h){var i=new URLSearchParams(p);return i.get(h)}function v(p){return window.location.pathname.includes(p)}function b(p){return p.some(function(h){return v(h)})}function R(p){var h=window.location.pathname.split("/");return h.some(function(i){return i===p})}},7212:(E,m,e)=>{"use strict";e.a(E,async(o,d)=>{try{let s=function(){return(0,f.lY)("details")};var a=e(245),u=e(6770),f=e(3950);s()?await(0,a.T)():await(0,u.K)(),d()}catch(s){d(s)}},1)},5909:(E,m,e)=>{"use strict";e.d(m,{N:()=>o});var o={PRICE:"price",BALANCED_CASHBACK_PRICE:"balanced-cashback-price",COUPON:"applied-coupon",OBSERVED:"observed"}},4070:(E,m,e)=>{"use strict";e.d(m,{m:()=>a});var o=e(1557),d=e(5909);function a(v,b,R,p){var h=(0,o.tk)(b,v),i=u(h,p);return(i||!h.hasAttribute(d.N.BALANCED_CASHBACK_PRICE))&&f(h,R,p),h}function u(v,b){if(v.hasAttribute(d.N.COUPON)){var R=+v.getAttribute(d.N.COUPON);return b!==R}return!!b}function f(v,b,R){var p=s(v);v.setAttribute(d.N.PRICE,p),R?(R<1?p=(p*(1-R)).toFixed():p-=R,v.setAttribute(d.N.COUPON,R)):v.removeAttribute(d.N.COUPON);var h=y(p,b),i=p-h;v.setAttribute(d.N.BALANCED_CASHBACK_PRICE,i);var l="".concat(p.toLocaleString()," (").concat(i.toLocaleString(),") \u20BD");v.innerText=l,v.title="-".concat(h.toLocaleString())}function s(v){return v.hasAttribute(d.N.PRICE)?+v.getAttribute(d.N.PRICE):(0,o.NI)(v,!0)}function y(v,b){var R=b/100;return(v*R/(1+R)).toFixed(0)}},5469:(E,m,e)=>{"use strict";e.d(m,{x:()=>f});var o=e(4942);function d(s,y){var v=Object.keys(s);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(s);y&&(b=b.filter(function(R){return Object.getOwnPropertyDescriptor(s,R).enumerable})),v.push.apply(v,b)}return v}function a(s){for(var y=1;y<arguments.length;y++){var v=arguments[y]!=null?arguments[y]:{};y%2?d(Object(v),!0).forEach(function(b){(0,o.Z)(s,b,v[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(v)):d(Object(v)).forEach(function(b){Object.defineProperty(s,b,Object.getOwnPropertyDescriptor(v,b))})}return s}var u={INPUT:{border:"1px solid #e4ebf0",fontSize:"14px",borderRadius:"8px",marginLeft:"7px",padding:"8px 14px"}},f={CONTAINER:{display:"flex",gridGap:"15px",padding:"14px 5px"},CONTROL:{display:"flex",alignItems:"center",fontSize:"14px"},TEXT_INPUT:a(a({},u.INPUT),{},{width:"180px"}),NUMBER_INPUT:a({},u.INPUT),CHECKBOX_INPUT:{marginLeft:"7px",width:"23px",height:"23px"}}},6770:(E,m,e)=>{"use strict";e.d(m,{K:()=>j});var o=e(5861),d=e(4687),a=e.n(d),u=e(6576),f=e(7798),s=e(4070),y=e(3950),v=e(3324),b=e(9144),R=e(2050),p=e(9397),h=e(1557),i=e(6332),l=e(5909),r=e(5469),t=e(1928),_=e(5883),C={PRODUCT_CARD_LIST_HEADER:".catalog-listing-controls",PRODUCT_CARD:".catalog-item-desktop",PRODUCT_CARD_PRICE:".catalog-item-regular-desktop__price",PRODUCT_CARD_CASHBACK:".bonus-percent",PRODUCT_CARD_TITLE:".catalog-item-regular-desktop__title-link",PRODUCT_CARD_DISCOUNT:".discount-percentage__value",PRODUCT_CARD_SELLER_NAME:".merchant-info__name"},T=(0,_.E)((0,y.uW)(2)),M=(0,t.Z)(H,T),N=M.createSectionFilter,x=N("name-filter"),I=N("min-cashback-filter"),w=N("max-price-filter"),F=N("min-discount-filter"),U=N("seller-name-filter"),Y=new v.u(!1,H);function j(){return X.apply(this,arguments)}function X(){return X=(0,o.Z)(a().mark(function g(){var n,c;return a().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,Z();case 2:return D.next=4,(0,u.b)(document,"#app");case 4:n=D.sent,c=new MutationObserver((0,u.D)(Z)),c.observe(n,{childList:!0,subtree:!0});case 7:case"end":return D.stop()}},g)})),X.apply(this,arguments)}function Z(){return z.apply(this,arguments)}function z(){return z=(0,o.Z)(a().mark(function g(){var n,c,O;return a().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,u.b)(document,C.PRODUCT_CARD_LIST_HEADER);case 2:if(n=P.sent,(0,f.C)(n,V),c=n.parentNode,!c.hasAttribute(l.N.OBSERVED)){P.next=7;break}return P.abrupt("return");case 7:O=new MutationObserver((0,u.D)(H,50)),O.observe(c,{childList:!0,subtree:!0}),c.setAttribute(l.N.OBSERVED,"");case 10:case"end":return P.stop()}},g)})),z.apply(this,arguments)}function V(g,n){(0,h.Zs)(g,r.x.CONTAINER);var c=(0,i.T5)(x,r.x.CONTROL,r.x.TEXT_INPUT),O=(0,i.gc)(I,r.x.CONTROL,r.x.NUMBER_INPUT),D=(0,i.iz)(w,r.x.CONTROL,r.x.NUMBER_INPUT,"250"),P=(0,i.Dj)(F,r.x.CONTROL,r.x.NUMBER_INPUT),S=(0,R.Xi)("\u041F\u0440\u043E\u0434\u0430\u0432\u0435\u0446: ",U,r.x.CONTROL,r.x.TEXT_INPUT),L=(0,i.pN)(Y,r.x.CONTROL,r.x.CHECKBOX_INPUT);g.append(c,O,D,P,S,L),n.append(g)}function H(){var g=(0,h.DJ)(C.PRODUCT_CARD);g.forEach(k)}function k(g){if(!Y.value){(0,p.V_)(g);return}var n=(0,h.tk)(C.PRODUCT_CARD_TITLE,g),c=(0,h.tk)(C.PRODUCT_CARD_CASHBACK,g),O=(0,h.tk)(C.PRODUCT_CARD_DISCOUNT,g);if(!n){(0,p.e6)(g);return}var D=n.innerText,P=(0,h.NI)(c,!0,!1,0),S=Math.abs((0,h.NI)(O,!0,!1,0)),L=(0,s.m)(g,C.PRODUCT_CARD_PRICE,P),A=+L.getAttribute(l.N.BALANCED_CASHBACK_PRICE),B=(0,h.tk)(C.PRODUCT_CARD_SELLER_NAME,g),K=B?(0,b.J2)(B.innerText,U):!1,G=(0,b.J2)(D,x)||(0,b.E1)(P,I)||(0,b.YY)(A,w)||(0,b.E1)(S,F)||K;(0,p.OQ)(g,G)}},245:(E,m,e)=>{"use strict";e.d(m,{T:()=>X});var o=e(5861),d=e(4687),a=e.n(d),u=e(6576),f=e(5883),s=e(3950),y=e(7798),v=e(3324),b=e(9144),R=e(9397),p=e(1557),h=e(6332),i=e(2050),l=e(4070),r=e(5909),t=e(5469),_=e(1928),C={APP:"#app",OFFERS_FILTER:".pdp-prices-filter",OFFERS_CONTAINER:".pdp-prices",OFFER:".pdp-prices .product-offer",PRICE:".product-offer-price__amount",CASHBACK:".bonus-percent",SELLER_RATING:".pdp-merchant-rating-block__rating"},T=(0,f.E)((0,s.ML)(3)),M=(0,_.Z)(k,T),N=M.createGlobalFilter,x=M.createSectionFilter,I=x("min-cashback-filter"),w=x("max-price-filter"),F=x("max-discounted-price-filter"),U=N("min-seller-rating-filter"),Y=new v.u(null,k),j=N("filter-enabled",!1);function X(){return Z.apply(this,arguments)}function Z(){return Z=(0,o.Z)(a().mark(function n(){var c,O;return a().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,z();case 2:return P.next=4,(0,u.b)(document,C.APP);case 4:c=P.sent,O=new MutationObserver((0,u.D)(z)),O.observe(c,{childList:!0});case 7:case"end":return P.stop()}},n)})),Z.apply(this,arguments)}function z(){return V.apply(this,arguments)}function V(){return V=(0,o.Z)(a().mark(function n(){var c,O,D;return a().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,u.b)(document,C.OFFERS_FILTER);case 2:if(c=S.sent,(0,y.C)(c,H),k(),O=(0,p.tk)(C.OFFERS_CONTAINER),!O.hasAttribute(r.N.OBSERVED)){S.next=8;break}return S.abrupt("return");case 8:D=new MutationObserver((0,u.D)(k,50)),D.observe(O,{childList:!0,subtree:!0}),O.setAttribute(r.N.OBSERVED,"");case 11:case"end":return S.stop()}},n)})),V.apply(this,arguments)}function H(n,c){(0,p.Zs)(n,t.x.CONTAINER);var O=(0,h.gc)(I,t.x.CONTROL,t.x.NUMBER_INPUT),D=(0,h.iz)(w,t.x.CONTROL,t.x.NUMBER_INPUT,"250"),P=(0,h.Ro)("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430 \u0441\u043E \u0441\u043A\u0438\u0434\u043A\u043E\u0439: ",F,t.x.CONTROL,t.x.NUMBER_INPUT),S=(0,h.kc)(U,t.x.CONTROL,t.x.NUMBER_INPUT),L=(0,i.xy)("\u041A\u0443\u043F\u043E\u043D: ",Y,"500","0","100000",t.x.CONTROL,t.x.NUMBER_INPUT),A=(0,h.pN)(j,t.x.CONTROL,t.x.CHECKBOX_INPUT);n.append(O,D,P,S,L,A),c.append(n)}function k(){var n=(0,p.DJ)(C.OFFER);n.forEach(g)}function g(n){if(!j.value){(0,R.V_)(n);return}var c=(0,p.tk)(C.PRICE,n),O=(0,p.tk)(C.CASHBACK,n),D=(0,p.tk)(C.SELLER_RATING,n);if(!c||!O||!D){(0,R.e6)(n);return}var P=(0,p.NI)(O,!0),S=(0,l.m)(n,C.PRICE,P,Y.value),L=+S.getAttribute(r.N.PRICE),A=+S.getAttribute(r.N.BALANCED_CASHBACK_PRICE),B=(0,p.NI)(D,!0),K=(0,b.E1)(P,I)||(0,b.YY)(L,w)||(0,b.YY)(A,F)||(0,b.E1)(B,U);(0,R.OQ)(n,K)}},7061:(E,m,e)=>{var o=e(8698).default;function d(){"use strict";E.exports=d=function(){return u},E.exports.__esModule=!0,E.exports.default=E.exports;var a,u={},f=Object.prototype,s=f.hasOwnProperty,y=Object.defineProperty||function(g,n,c){g[n]=c.value},v=typeof Symbol=="function"?Symbol:{},b=v.iterator||"@@iterator",R=v.asyncIterator||"@@asyncIterator",p=v.toStringTag||"@@toStringTag";function h(g,n,c){return Object.defineProperty(g,n,{value:c,enumerable:!0,configurable:!0,writable:!0}),g[n]}try{h({},"")}catch{h=function(c,O,D){return c[O]=D}}function i(g,n,c,O){var D=n&&n.prototype instanceof M?n:M,P=Object.create(D.prototype),S=new H(O||[]);return y(P,"_invoke",{value:X(g,c,S)}),P}function l(g,n,c){try{return{type:"normal",arg:g.call(n,c)}}catch(O){return{type:"throw",arg:O}}}u.wrap=i;var r="suspendedStart",t="suspendedYield",_="executing",C="completed",T={};function M(){}function N(){}function x(){}var I={};h(I,b,function(){return this});var w=Object.getPrototypeOf,F=w&&w(w(k([])));F&&F!==f&&s.call(F,b)&&(I=F);var U=x.prototype=M.prototype=Object.create(I);function Y(g){["next","throw","return"].forEach(function(n){h(g,n,function(c){return this._invoke(n,c)})})}function j(g,n){function c(D,P,S,L){var A=l(g[D],g,P);if(A.type!=="throw"){var B=A.arg,K=B.value;return K&&o(K)=="object"&&s.call(K,"__await")?n.resolve(K.__await).then(function(G){c("next",G,S,L)},function(G){c("throw",G,S,L)}):n.resolve(K).then(function(G){B.value=G,S(B)},function(G){return c("throw",G,S,L)})}L(A.arg)}var O;y(this,"_invoke",{value:function(P,S){function L(){return new n(function(A,B){c(P,S,A,B)})}return O=O?O.then(L,L):L()}})}function X(g,n,c){var O=r;return function(D,P){if(O===_)throw Error("Generator is already running");if(O===C){if(D==="throw")throw P;return{value:a,done:!0}}for(c.method=D,c.arg=P;;){var S=c.delegate;if(S){var L=Z(S,c);if(L){if(L===T)continue;return L}}if(c.method==="next")c.sent=c._sent=c.arg;else if(c.method==="throw"){if(O===r)throw O=C,c.arg;c.dispatchException(c.arg)}else c.method==="return"&&c.abrupt("return",c.arg);O=_;var A=l(g,n,c);if(A.type==="normal"){if(O=c.done?C:t,A.arg===T)continue;return{value:A.arg,done:c.done}}A.type==="throw"&&(O=C,c.method="throw",c.arg=A.arg)}}}function Z(g,n){var c=n.method,O=g.iterator[c];if(O===a)return n.delegate=null,c==="throw"&&g.iterator.return&&(n.method="return",n.arg=a,Z(g,n),n.method==="throw")||c!=="return"&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+c+"' method")),T;var D=l(O,g.iterator,n.arg);if(D.type==="throw")return n.method="throw",n.arg=D.arg,n.delegate=null,T;var P=D.arg;return P?P.done?(n[g.resultName]=P.value,n.next=g.nextLoc,n.method!=="return"&&(n.method="next",n.arg=a),n.delegate=null,T):P:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,T)}function z(g){var n={tryLoc:g[0]};1 in g&&(n.catchLoc=g[1]),2 in g&&(n.finallyLoc=g[2],n.afterLoc=g[3]),this.tryEntries.push(n)}function V(g){var n=g.completion||{};n.type="normal",delete n.arg,g.completion=n}function H(g){this.tryEntries=[{tryLoc:"root"}],g.forEach(z,this),this.reset(!0)}function k(g){if(g||g===""){var n=g[b];if(n)return n.call(g);if(typeof g.next=="function")return g;if(!isNaN(g.length)){var c=-1,O=function D(){for(;++c<g.length;)if(s.call(g,c))return D.value=g[c],D.done=!1,D;return D.value=a,D.done=!0,D};return O.next=O}}throw new TypeError(o(g)+" is not iterable")}return N.prototype=x,y(U,"constructor",{value:x,configurable:!0}),y(x,"constructor",{value:N,configurable:!0}),N.displayName=h(x,p,"GeneratorFunction"),u.isGeneratorFunction=function(g){var n=typeof g=="function"&&g.constructor;return!!n&&(n===N||(n.displayName||n.name)==="GeneratorFunction")},u.mark=function(g){return Object.setPrototypeOf?Object.setPrototypeOf(g,x):(g.__proto__=x,h(g,p,"GeneratorFunction")),g.prototype=Object.create(U),g},u.awrap=function(g){return{__await:g}},Y(j.prototype),h(j.prototype,R,function(){return this}),u.AsyncIterator=j,u.async=function(g,n,c,O,D){D===void 0&&(D=Promise);var P=new j(i(g,n,c,O),D);return u.isGeneratorFunction(n)?P:P.next().then(function(S){return S.done?S.value:P.next()})},Y(U),h(U,p,"Generator"),h(U,b,function(){return this}),h(U,"toString",function(){return"[object Generator]"}),u.keys=function(g){var n=Object(g),c=[];for(var O in n)c.push(O);return c.reverse(),function D(){for(;c.length;){var P=c.pop();if(P in n)return D.value=P,D.done=!1,D}return D.done=!0,D}},u.values=k,H.prototype={constructor:H,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(V),!n)for(var c in this)c.charAt(0)==="t"&&s.call(this,c)&&!isNaN(+c.slice(1))&&(this[c]=a)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if(n.type==="throw")throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var c=this;function O(B,K){return S.type="throw",S.arg=n,c.next=B,K&&(c.method="next",c.arg=a),!!K}for(var D=this.tryEntries.length-1;D>=0;--D){var P=this.tryEntries[D],S=P.completion;if(P.tryLoc==="root")return O("end");if(P.tryLoc<=this.prev){var L=s.call(P,"catchLoc"),A=s.call(P,"finallyLoc");if(L&&A){if(this.prev<P.catchLoc)return O(P.catchLoc,!0);if(this.prev<P.finallyLoc)return O(P.finallyLoc)}else if(L){if(this.prev<P.catchLoc)return O(P.catchLoc,!0)}else{if(!A)throw Error("try statement without catch or finally");if(this.prev<P.finallyLoc)return O(P.finallyLoc)}}}},abrupt:function(n,c){for(var O=this.tryEntries.length-1;O>=0;--O){var D=this.tryEntries[O];if(D.tryLoc<=this.prev&&s.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var P=D;break}}P&&(n==="break"||n==="continue")&&P.tryLoc<=c&&c<=P.finallyLoc&&(P=null);var S=P?P.completion:{};return S.type=n,S.arg=c,P?(this.method="next",this.next=P.finallyLoc,T):this.complete(S)},complete:function(n,c){if(n.type==="throw")throw n.arg;return n.type==="break"||n.type==="continue"?this.next=n.arg:n.type==="return"?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):n.type==="normal"&&c&&(this.next=c),T},finish:function(n){for(var c=this.tryEntries.length-1;c>=0;--c){var O=this.tryEntries[c];if(O.finallyLoc===n)return this.complete(O.completion,O.afterLoc),V(O),T}},catch:function(n){for(var c=this.tryEntries.length-1;c>=0;--c){var O=this.tryEntries[c];if(O.tryLoc===n){var D=O.completion;if(D.type==="throw"){var P=D.arg;V(O)}return P}}throw Error("illegal catch attempt")},delegateYield:function(n,c,O){return this.delegate={iterator:k(n),resultName:c,nextLoc:O},this.method==="next"&&(this.arg=a),T}},u}E.exports=d,E.exports.__esModule=!0,E.exports.default=E.exports},8698:E=>{function m(e){"@babel/helpers - typeof";return E.exports=m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},E.exports.__esModule=!0,E.exports.default=E.exports,m(e)}E.exports=m,E.exports.__esModule=!0,E.exports.default=E.exports},4687:(E,m,e)=>{var o=e(7061)();E.exports=o;try{regeneratorRuntime=o}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},7326:(E,m,e)=>{"use strict";e.d(m,{Z:()=>o});function o(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}},5861:(E,m,e)=>{"use strict";e.d(m,{Z:()=>d});function o(a,u,f,s,y,v,b){try{var R=a[v](b),p=R.value}catch(h){return void f(h)}R.done?u(p):Promise.resolve(p).then(s,y)}function d(a){return function(){var u=this,f=arguments;return new Promise(function(s,y){var v=a.apply(u,f);function b(p){o(v,s,y,b,R,"next",p)}function R(p){o(v,s,y,b,R,"throw",p)}b(void 0)})}}},5671:(E,m,e)=>{"use strict";e.d(m,{Z:()=>o});function o(d,a){if(!(d instanceof a))throw new TypeError("Cannot call a class as a function")}},3144:(E,m,e)=>{"use strict";e.d(m,{Z:()=>a});var o=e(7343);function d(u,f){for(var s=0;s<f.length;s++){var y=f[s];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(u,(0,o.Z)(y.key),y)}}function a(u,f,s){return f&&d(u.prototype,f),s&&d(u,s),Object.defineProperty(u,"prototype",{writable:!1}),u}},4942:(E,m,e)=>{"use strict";e.d(m,{Z:()=>d});var o=e(7343);function d(a,u,f){return(u=(0,o.Z)(u))in a?Object.defineProperty(a,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):a[u]=f,a}},1120:(E,m,e)=>{"use strict";e.d(m,{Z:()=>o});function o(d){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},o(d)}},136:(E,m,e)=>{"use strict";e.d(m,{Z:()=>d});var o=e(9611);function d(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(u&&u.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),u&&(0,o.Z)(a,u)}},2963:(E,m,e)=>{"use strict";e.d(m,{Z:()=>a});var o=e(1002),d=e(7326);function a(u,f){if(f&&((0,o.Z)(f)=="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,d.Z)(u)}},9611:(E,m,e)=>{"use strict";e.d(m,{Z:()=>o});function o(d,a){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,f){return u.__proto__=f,u},o(d,a)}},5512:(E,m,e)=>{"use strict";e.d(m,{Z:()=>d});var o=e(1002);function d(a,u){if((0,o.Z)(a)!="object"||!a)return a;var f=a[Symbol.toPrimitive];if(f!==void 0){var s=f.call(a,u||"default");if((0,o.Z)(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(a)}},7343:(E,m,e)=>{"use strict";e.d(m,{Z:()=>a});var o=e(1002),d=e(5512);function a(u){var f=(0,d.Z)(u,"string");return(0,o.Z)(f)=="symbol"?f:f+""}},1002:(E,m,e)=>{"use strict";e.d(m,{Z:()=>o});function o(d){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},o(d)}}},$={};function W(E){var m=$[E];if(m!==void 0)return m.exports;var e=$[E]={exports:{}};return Q[E](e,e.exports,W),e.exports}(()=>{var E=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",m=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",e=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",o=a=>{a&&a.d<1&&(a.d=1,a.forEach(u=>u.r--),a.forEach(u=>u.r--?u.r++:u()))},d=a=>a.map(u=>{if(u!==null&&typeof u=="object"){if(u[E])return u;if(u.then){var f=[];f.d=0,u.then(v=>{s[m]=v,o(f)},v=>{s[e]=v,o(f)});var s={};return s[E]=v=>v(f),s}}var y={};return y[E]=v=>{},y[m]=u,y});W.a=(a,u,f)=>{var s;f&&((s=[]).d=-1);var y=new Set,v=a.exports,b,R,p,h=new Promise((i,l)=>{p=l,R=i});h[m]=v,h[E]=i=>(s&&i(s),y.forEach(i),h.catch(l=>{})),a.exports=h,u(i=>{b=d(i);var l,r=()=>b.map(_=>{if(_[e])throw _[e];return _[m]}),t=new Promise(_=>{l=()=>_(r),l.r=0;var C=T=>T!==s&&!y.has(T)&&(y.add(T),T&&!T.d&&(l.r++,T.push(l)));b.map(T=>T[E](C))});return l.r?t:r()},i=>(i?p(h[e]=i):R(v),o(s))),s&&s.d<0&&(s.d=0)}})(),W.n=E=>{var m=E&&E.__esModule?()=>E.default:()=>E;return W.d(m,{a:m}),m},W.d=(E,m)=>{for(var e in m)W.o(m,e)&&!W.o(E,e)&&Object.defineProperty(E,e,{enumerable:!0,get:m[e]})},W.o=(E,m)=>Object.prototype.hasOwnProperty.call(E,m);var J=W(7212)})();})();
