// ==UserScript==
// @name         MegaMarket product cards & offers filter
// @description  Hide product cards & offers by filter
// @grant        GM_addValueChangeListener
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://megamarket.ru/*
// @namespace    https://github.com/reliable-code/product-list-filters
// @version      0.1.73505217
// @icon         https://www.google.com/s2/favicons?sz=64&domain=megamarket.ru
// @author       reliable-code
// ==/UserScript==

(()=>{(()=>{var Q={6598:(C,f,e)=>{"use strict";e.d(f,{Bt:()=>a,_B:()=>l,dn:()=>i,wC:()=>v});var o=e(1002),m=e(6576),r=e(1557);function a(_,b,c){var u=O(_,"text",b);return u.value=c,u}function l(_,b,c,u,y,t){var g=O(_,"number",b);return g.value=c,g.step=u,g.min=y,g.max=t,g}function i(_,b,c){var u=O(_,"checkbox",b);return u.checked=c,u}function O(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,u=p("input",_);return b&&(u.type=b),c&&(u.addEventListener("keyup",(0,m.Ds)(c,200)),u.addEventListener("change",(0,m.Ds)(c,100))),u}function h(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return p("span",_,b)}function E(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,u=p("a",_,b);return c&&(u.href=c),u}function T(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,u=p("button",_,b);return c&&(u.onclick=c),u}function v(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return p("div",_,b)}function p(_,b){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if((0,o.Z)(b)!=="object"||b===null)throw new TypeError("styles should be an object");var u=document.createElement(_);return(0,r.Zs)(u,b),c&&(u.innerHTML=c),u}},1557:(C,f,e)=>{"use strict";e.d(f,{DJ:()=>r,NI:()=>i,Zs:()=>T,tk:()=>m});var o=e(1483);function m(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=u.querySelector(c);return y&&!t&&console.log("No element found for selector: ".concat(c)),t}function r(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=u.querySelectorAll(c);return y&&!t.length&&console.log("No elements found for selector: ".concat(c)),t}function a(c,u,y){return _toConsumableArray(c.querySelectorAll(u)).find(function(t){return t.textContent.trim().includes(y)})}function l(c,u){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,g=m(u,c,!0),S=i(g,y,t);return S}function i(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(!c)return t===null?(console.log("No element found"),null):t;var g=c.innerText;return E(g,u,y)}function O(c,u){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=c[u],g=i(t,y);return g}function h(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=c.textContent;return E(t,u,y)}function E(c,u,y){u&&(c=(0,o.g7)(c)),y&&(c=c.replace(",","."));var t=+c;return t}function T(c,u){Object.assign(c.style,u)}function v(c){return Object.entries(c).map(function(u){var y=_slicedToArray(u,2),t=y[0],g=y[1];return"".concat(t.replace(/([A-Z])/g,"-$1").toLowerCase(),": ").concat(g,";")}).join(" ")}function p(c){return c?c.split(";").filter(function(u){return u.trim()!==""}).reduce(function(u,y){var t=y.split(":").map(function(A){return A.trim()}),g=_slicedToArray(t,2),S=g[0],I=g[1],x=S.replace(/-([a-z])/g,function(A,w){return w.toUpperCase()});return u[x]=I,u},{}):{}}function _(c,u){var y=new RegExp("(".concat(u,")"),"gi");c.innerHTML=c.innerHTML.replace(y,'<span class="highlightedSubstring" style="background-color: yellow;">$1</span>')}function b(c){var u=r(".highlightedSubstring",c);u.forEach(function(y){y.replaceWith(y.textContent)})}},9397:(C,f,e)=>{"use strict";e.d(f,{OQ:()=>i,V_:()=>l,e6:()=>r});var o=e(6576);function m(t,g){t.parentNode.insertBefore(g,t.nextSibling)}function r(t){T(t),h(t,"none")}function a(t){t.intersectionObserver||runOnceOnIntersection(t,function(){return r(t)})}function l(t){var g=E(t);h(t,g)}function i(t,g){g?r(t):l(t)}function O(t,g){g?a(t):(clearIntersectionObserver(t),l(t))}function h(t,g){t.style.display=g}function E(t){return T(t),t.defaultDisplay}function T(t){if(!t.defaultDisplay){var g=getComputedStyle(t),S=g.display;t.defaultDisplay=S}}function v(t,g){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.3;g?_(t,S):p(t)}function p(t){t.style.opacity=""}function _(t){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.3;t.style.opacity=g}function b(t){t.style.order=""}function c(t,g){t.style.order=g}function u(t,g){t.style.background=g}function y(t){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"custom-global-style",S=document.getElementById(g);S||(S=document.createElement("style"),S.id=g,S.type="text/css",document.head.appendChild(S)),S.textContent=t}},6576:(C,f,e)=>{"use strict";e.d(f,{Ds:()=>i,br:()=>a});var o=e(5861),m=e(4687),r=e.n(m);function a(E,T){return l.apply(this,arguments)}function l(){return l=(0,o.Z)(r().mark(function E(T,v){var p,_,b=arguments;return r().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(p=b.length>2&&b[2]!==void 0?b[2]:null,_=T.querySelector(v),!_){u.next=4;break}return u.abrupt("return",_);case 4:return u.abrupt("return",new Promise(function(y){var t=new MutationObserver(S);t.observe(T,{childList:!0,subtree:!0});var g=null;p&&(g=setTimeout(function(){t.disconnect(),console.log("No element found for selector: ".concat(v)),y(null)},p));function S(){var I=T.querySelector(v);I&&(g&&clearTimeout(g),t.disconnect(),y(I))}}));case 5:case"end":return u.stop()}},E)})),l.apply(this,arguments)}function i(E){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,v;return function(){for(var p=arguments.length,_=new Array(p),b=0;b<p;b++)_[b]=arguments[b];clearTimeout(v),v=setTimeout(function(){return E.apply(void 0,_)},T)}}function O(E,T){var v=new IntersectionObserver(function(p){p.forEach(function(_){_.isIntersecting&&(T(),h(E))})});E.intersectionObserver=v,v.observe(E)}function h(E){E.intersectionObserver&&(E.intersectionObserver.disconnect(),E.intersectionObserver=null)}},9144:(C,f,e)=>{"use strict";e.d(f,{E1:()=>r,J2:()=>o,YY:()=>a});function o(l,i){return!m(l,i)}function m(l,i){if(!i.value)return!0;var O=l.toLowerCase(),h=i.value.toLowerCase().split(",").map(function(v){return v.trim()}),E=[],T=[];return h.forEach(function(v){if(v.startsWith("!")){var p=v.substring(1);p&&T.push(p)}else E.push(v)}),E.every(function(v){return O.includes(v)})&&T.every(function(v){return!O.includes(v)})}function r(l,i){return i.value&&l<i.value}function a(l,i){return i.value&&l>i.value}},1928:(C,f,e)=>{"use strict";e.d(f,{Z:()=>m});var o=e(4830);function m(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return{createGlobalFilter:function(i){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r;return o.Yz.create(i,O,h)},createSectionFilter:function(i){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r;if(!a)throw new Error("sectionId must be provided to use createSectionFilter.");return o.Yz.createWithCompositeKey(a,i,O,h)}}}},2050:(C,f,e)=>{"use strict";e.d(f,{XF:()=>a,Xi:()=>m,xy:()=>r});var o=e(6598);function m(l,i){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},E=(0,o.wC)(O,l),T=(0,o.Bt)(h,i.updateValueFromEvent,i.value);return E.append(T),E}function r(l,i,O,h,E){var T=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},v=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},p=(0,o.wC)(T,l),_=(0,o._B)(v,i.updateValueFromEvent,i.value,O,h,E);return p.append(_),p}function a(l,i){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},E=(0,o.wC)(O,l),T=(0,o.dn)(h,i.updateValueFromEvent,i.value);return E.append(T),E}},6332:(C,f,e)=>{"use strict";e.d(f,{Dj:()=>O,Ro:()=>T,T5:()=>m,gc:()=>E,iz:()=>p,kc:()=>r,pN:()=>c});var o=e(2050);function m(u){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,o.Xi)("\u041F\u043E\u0438\u0441\u043A: ",u,y,t)}function r(u){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.1;return(0,o.xy)("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",u,g,3,5,y,t)}function a(u){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return i("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",u,y,t)}function l(u){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return i("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",u,y,t)}function i(u,y){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return createNumberFilterControl(u,y,"1","1","999999",t,g)}function O(u){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return h("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",u,y,t)}function h(u,y){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(0,o.xy)(u,y,"5","0","100",t,g)}function E(u){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,o.xy)("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",u,"5","0","100",y,t)}function T(u,y){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},S=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"250";return(0,o.xy)(u,y,S,"0","1000000",t,g)}function v(u){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"25";return T("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",u,y,t,g)}function p(u){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"25";return T("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",u,y,t,g)}function _(u,y){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return createNumberFilterControl(u,y,"1","0","99999",t,g)}function b(u){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return createCheckboxFilterControl("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",u,y,t)}function c(u){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,o.XF)("\u0412\u043A\u043B: ",u,y,t)}},7798:(C,f,e)=>{"use strict";e.d(f,{C:()=>r});var o=e(6598),m=e(1557);function r(a,l){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"customFiltersContainer",h=(0,m.tk)("#".concat(O),a);if(h)if(i)h.remove();else return;h=(0,o.wC)(),h.id=O,l(h,a)}},6476:(C,f,e)=>{"use strict";e.d(f,{r:()=>o});function o(m){for(var r=2166136261,a=16777619,l=r,i=0;i<m.length;i+=1){var O=m.charCodeAt(i);l^=O,l=Math.imul(l,a)}return l>>>0}},5883:(C,f,e)=>{"use strict";e.d(f,{E:()=>r});var o=e(6476);function m(a){return(0,o.r)(a).toString(16).padStart(8,"0")}function r(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common";return a?m(a):l}},1469:(C,f,e)=>{"use strict";e.d(f,{F:()=>o});function o(m){var r=m.target,a=r.type;switch(a){case"text":return'"'.concat(r.value,'"');case"number":return r.value;case"checkbox":return r.checked;default:return console.log("Unknown input type: ".concat(a)),null}}},3324:(C,f,e)=>{"use strict";e.d(f,{u:()=>p});var o=e(3144),m=e(5671),r=e(2963),a=e(1120),l=e(136),i=e(4942),O=e(7047),h=e(1469),E=e(3295);function T(_,b,c){return b=(0,a.Z)(b),(0,r.Z)(_,v()?Reflect.construct(b,c||[],(0,a.Z)(_).constructor):b.apply(_,c))}function v(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v=function(){return!!_})()}var p=function(_){function b(){var c,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return(0,m.Z)(this,b),c=T(this,b,[u,y]),(0,i.Z)(c,"updateValueFromEvent",function(t){var g=(0,E.H)((0,h.F)(t));c.value!==g&&(c.value=g,c.onChangeIfDefined())}),c}return(0,l.Z)(b,_),(0,o.Z)(b)}(O.H)},7047:(C,f,e)=>{"use strict";e.d(f,{H:()=>a});var o=e(3144),m=e(5671),r=e(4942),a=(0,o.Z)(function l(i,O){var h=this;(0,m.Z)(this,l),(0,r.Z)(this,"onChangeIfDefined",function(){h.onChange&&h.onChange()}),this.value=i,this.onChange=O})},4830:(C,f,e)=>{"use strict";e.d(f,{Yz:()=>u});var o=e(5671),m=e(3144),r=e(2963),a=e(1120),l=e(136),i=e(4942),O=e(7047),h=e(1469),E=e(3295);function T(y,t,g){return t=(0,a.Z)(t),(0,r.Z)(y,v()?Reflect.construct(t,g||[],(0,a.Z)(y).constructor):t.apply(y,g))}function v(){try{var y=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v=function(){return!!y})()}var p=window.GM_setValue,_=window.GM.setValue,b=window.GM_getValue,c=window.GM_addValueChangeListener,u=function(y){function t(g){var S,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return(0,o.Z)(this,t),S=T(this,t,[b(g,I),x]),(0,i.Z)(S,"updateValueFromEvent",function(A){var w=(0,h.F)(A),F=(0,E.H)(w);S.updateValue(F)}),S.storageKey=g,S}return(0,l.Z)(t,y),(0,m.Z)(t,[{key:"updateValue",value:function(S){this.value!==S&&(p(this.storageKey,S),this.value=S,this.onChangeIfDefined())}},{key:"clearValue",value:function(){this.updateValue(null)}}],[{key:"create",value:function(S){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new t(S,I,x)}},{key:"createWithCompositeKey",value:function(S,I){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,w="".concat(S,"-").concat(I);return new t(w,x,A)}}])}(O.H)},3295:(C,f,e)=>{"use strict";e.d(f,{H:()=>o});function o(m){return m===""?null:JSON.parse(m)}},1483:(C,f,e)=>{"use strict";e.d(f,{g7:()=>m});function o(l){return l.replace(/\D/g,"")}function m(l){return l.replace(/[^\d.,-]/g,"")}function r(l){return l.replace(/\s/g,"")}function a(l){return l.charAt(0).toUpperCase()+l.slice(1)}},3950:(C,f,e)=>{"use strict";e.d(f,{ML:()=>r,lY:()=>h,uW:()=>o});function o(v){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common",_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,b=window.location.pathname;return m(b,v,p,_)}function m(v,p,_){var b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,c=v.split("/"),u=c[p]||_;return b&&console.log("Pathname element: ".concat(u)),u}function r(v){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common",_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,b=o(v,"",_);return a(b,p,_)}function a(v,p,_){if(!v)return p;var b=v.split("-").at(-1);return _&&console.log("Pathname element ending: ".concat(b)),b}function l(v,p){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"common",b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,c=m(v,p,"",b);return a(c,_,b)}function i(v){var p=window.location.search;return O(p,v)}function O(v,p){var _=new URLSearchParams(v);return _.get(p)}function h(v){return window.location.pathname.includes(v)}function E(v){return v.some(function(p){return h(p)})}function T(v){var p=window.location.pathname.split("/");return p.some(function(_){return _===v})}},7212:(C,f,e)=>{"use strict";e.a(C,async(o,m)=>{try{let i=function(){return(0,l.lY)("details")};var r=e(245),a=e(6770),l=e(3950);i()?await(0,r.T)():await(0,a.K)(),m()}catch(i){m(i)}},1)},5909:(C,f,e)=>{"use strict";e.d(f,{N:()=>o});var o={PRICE:"price",BALANCED_CASHBACK_PRICE:"balanced-cashback-price",COUPON:"applied-coupon",OBSERVED:"observed"}},4070:(C,f,e)=>{"use strict";e.d(f,{m:()=>r});var o=e(1557),m=e(5909);function r(h,E,T,v){var p=(0,o.tk)(E,h),_=a(p,v);return(_||!p.hasAttribute(m.N.BALANCED_CASHBACK_PRICE))&&l(p,T,v),p}function a(h,E){if(h.hasAttribute(m.N.COUPON)){var T=+h.getAttribute(m.N.COUPON);return E!==T}return!!E}function l(h,E,T){var v=i(h);h.setAttribute(m.N.PRICE,v),T?(T<1?v=(v*(1-T)).toFixed():v-=T,h.setAttribute(m.N.COUPON,T)):h.removeAttribute(m.N.COUPON);var p=O(v,E),_=v-p;h.setAttribute(m.N.BALANCED_CASHBACK_PRICE,_);var b="".concat(v.toLocaleString()," (").concat(_.toLocaleString(),") \u20BD");h.innerText=b,h.title="-".concat(p.toLocaleString())}function i(h){return h.hasAttribute(m.N.PRICE)?+h.getAttribute(m.N.PRICE):(0,o.NI)(h,!0)}function O(h,E){var T=E/100;return(h*T/(1+T)).toFixed(0)}},5469:(C,f,e)=>{"use strict";e.d(f,{x:()=>l});var o=e(4942);function m(i,O){var h=Object.keys(i);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(i);O&&(E=E.filter(function(T){return Object.getOwnPropertyDescriptor(i,T).enumerable})),h.push.apply(h,E)}return h}function r(i){for(var O=1;O<arguments.length;O++){var h=arguments[O]!=null?arguments[O]:{};O%2?m(Object(h),!0).forEach(function(E){(0,o.Z)(i,E,h[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(h)):m(Object(h)).forEach(function(E){Object.defineProperty(i,E,Object.getOwnPropertyDescriptor(h,E))})}return i}var a={INPUT:{border:"1px solid #e4ebf0",fontSize:"14px",borderRadius:"8px",marginLeft:"7px",padding:"8px 14px"}},l={CONTAINER:{display:"flex",gridGap:"15px",padding:"14px 5px"},CONTROL:{display:"flex",alignItems:"center",fontSize:"14px"},TEXT_INPUT:r(r({},a.INPUT),{},{width:"180px"}),NUMBER_INPUT:r({},a.INPUT),CHECKBOX_INPUT:{marginLeft:"7px",width:"23px",height:"23px"}}},6770:(C,f,e)=>{"use strict";e.d(f,{K:()=>j});var o=e(5861),m=e(4687),r=e.n(m),a=e(6576),l=e(7798),i=e(4070),O=e(3950),h=e(3324),E=e(9144),T=e(2050),v=e(9397),p=e(1557),_=e(6332),b=e(5909),c=e(5469),u=e(1928),y=e(5883),t={PRODUCT_CARD_LIST_HEADER:".catalog-listing-controls",PRODUCT_CARD:".catalog-item-desktop",PRODUCT_CARD_PRICE:".catalog-item-regular-desktop__price",PRODUCT_CARD_CASHBACK:".bonus-percent",PRODUCT_CARD_TITLE:".catalog-item-regular-desktop__title-link",PRODUCT_CARD_DISCOUNT:".discount-percentage__value",PRODUCT_CARD_SELLER_NAME:".merchant-info__name"},g=(0,y.E)((0,O.uW)(2)),S=(0,u.Z)(H,g),I=S.createSectionFilter,x=I("name-filter"),A=I("min-cashback-filter"),w=I("max-price-filter"),F=I("min-discount-filter"),U=I("seller-name-filter"),Y=new h.u(!1,H);function j(){return X.apply(this,arguments)}function X(){return X=(0,o.Z)(r().mark(function d(){var n,s;return r().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,Z();case 2:return R.next=4,(0,a.br)(document,"#app");case 4:n=R.sent,s=new MutationObserver((0,a.Ds)(Z)),s.observe(n,{childList:!0,subtree:!0});case 7:case"end":return R.stop()}},d)})),X.apply(this,arguments)}function Z(){return z.apply(this,arguments)}function z(){return z=(0,o.Z)(r().mark(function d(){var n,s,D;return r().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,a.br)(document,t.PRODUCT_CARD_LIST_HEADER);case 2:if(n=P.sent,(0,l.C)(n,V),s=n.parentNode,!s.hasAttribute(b.N.OBSERVED)){P.next=7;break}return P.abrupt("return");case 7:D=new MutationObserver((0,a.Ds)(H,50)),D.observe(s,{childList:!0,subtree:!0}),s.setAttribute(b.N.OBSERVED,"");case 10:case"end":return P.stop()}},d)})),z.apply(this,arguments)}function V(d,n){(0,p.Zs)(d,c.x.CONTAINER);var s=(0,_.T5)(x,c.x.CONTROL,c.x.TEXT_INPUT),D=(0,_.gc)(A,c.x.CONTROL,c.x.NUMBER_INPUT),R=(0,_.iz)(w,c.x.CONTROL,c.x.NUMBER_INPUT,"250"),P=(0,_.Dj)(F,c.x.CONTROL,c.x.NUMBER_INPUT),M=(0,T.Xi)("\u041F\u0440\u043E\u0434\u0430\u0432\u0435\u0446: ",U,c.x.CONTROL,c.x.TEXT_INPUT),L=(0,_.pN)(Y,c.x.CONTROL,c.x.CHECKBOX_INPUT);d.append(s,D,R,P,M,L),n.append(d)}function H(){var d=(0,p.DJ)(t.PRODUCT_CARD);d.forEach(k)}function k(d){if(!Y.value){(0,v.V_)(d);return}var n=(0,p.tk)(t.PRODUCT_CARD_TITLE,d),s=(0,p.tk)(t.PRODUCT_CARD_CASHBACK,d),D=(0,p.tk)(t.PRODUCT_CARD_DISCOUNT,d);if(!n){(0,v.e6)(d);return}var R=n.innerText,P=(0,p.NI)(s,!0,!1,0),M=Math.abs((0,p.NI)(D,!0,!1,0)),L=(0,i.m)(d,t.PRODUCT_CARD_PRICE,P),N=+L.getAttribute(b.N.BALANCED_CASHBACK_PRICE),B=(0,p.tk)(t.PRODUCT_CARD_SELLER_NAME,d),K=B?(0,E.J2)(B.innerText,U):!1,G=(0,E.J2)(R,x)||(0,E.E1)(P,A)||(0,E.YY)(N,w)||(0,E.E1)(M,F)||K;(0,v.OQ)(d,G)}},245:(C,f,e)=>{"use strict";e.d(f,{T:()=>X});var o=e(5861),m=e(4687),r=e.n(m),a=e(6576),l=e(5883),i=e(3950),O=e(7798),h=e(3324),E=e(9144),T=e(9397),v=e(1557),p=e(6332),_=e(2050),b=e(4070),c=e(5909),u=e(5469),y=e(1928),t={APP:"#app",OFFERS_FILTER:".pdp-prices-filter",OFFERS_CONTAINER:".pdp-prices",OFFER:".pdp-prices .product-offer",PRICE:".product-offer-price__amount",CASHBACK:".bonus-percent",SELLER_RATING:".pdp-merchant-rating-block__rating"},g=(0,l.E)((0,i.ML)(3)),S=(0,y.Z)(k,g),I=S.createGlobalFilter,x=S.createSectionFilter,A=x("min-cashback-filter"),w=x("max-price-filter"),F=x("max-discounted-price-filter"),U=I("min-seller-rating-filter"),Y=new h.u(null,k),j=I("filter-enabled",!1);function X(){return Z.apply(this,arguments)}function Z(){return Z=(0,o.Z)(r().mark(function n(){var s,D;return r().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,z();case 2:return P.next=4,(0,a.br)(document,t.APP);case 4:s=P.sent,D=new MutationObserver((0,a.Ds)(z)),D.observe(s,{childList:!0});case 7:case"end":return P.stop()}},n)})),Z.apply(this,arguments)}function z(){return V.apply(this,arguments)}function V(){return V=(0,o.Z)(r().mark(function n(){var s,D,R;return r().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,a.br)(document,t.OFFERS_FILTER);case 2:if(s=M.sent,(0,O.C)(s,H),k(),D=(0,v.tk)(t.OFFERS_CONTAINER),!D.hasAttribute(c.N.OBSERVED)){M.next=8;break}return M.abrupt("return");case 8:R=new MutationObserver((0,a.Ds)(k,50)),R.observe(D,{childList:!0,subtree:!0}),D.setAttribute(c.N.OBSERVED,"");case 11:case"end":return M.stop()}},n)})),V.apply(this,arguments)}function H(n,s){(0,v.Zs)(n,u.x.CONTAINER);var D=(0,p.gc)(A,u.x.CONTROL,u.x.NUMBER_INPUT),R=(0,p.iz)(w,u.x.CONTROL,u.x.NUMBER_INPUT,"250"),P=(0,p.Ro)("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430 \u0441\u043E \u0441\u043A\u0438\u0434\u043A\u043E\u0439: ",F,u.x.CONTROL,u.x.NUMBER_INPUT),M=(0,p.kc)(U,u.x.CONTROL,u.x.NUMBER_INPUT),L=(0,_.xy)("\u041A\u0443\u043F\u043E\u043D: ",Y,"500","0","100000",u.x.CONTROL,u.x.NUMBER_INPUT),N=(0,p.pN)(j,u.x.CONTROL,u.x.CHECKBOX_INPUT);n.append(D,R,P,M,L,N),s.append(n)}function k(){var n=(0,v.DJ)(t.OFFER);n.forEach(d)}function d(n){if(!j.value){(0,T.V_)(n);return}var s=(0,v.tk)(t.PRICE,n),D=(0,v.tk)(t.CASHBACK,n),R=(0,v.tk)(t.SELLER_RATING,n);if(!s||!D||!R){(0,T.e6)(n);return}var P=(0,v.NI)(D,!0),M=(0,b.m)(n,t.PRICE,P,Y.value),L=+M.getAttribute(c.N.PRICE),N=+M.getAttribute(c.N.BALANCED_CASHBACK_PRICE),B=(0,v.NI)(R,!0),K=(0,E.E1)(P,A)||(0,E.YY)(L,w)||(0,E.YY)(N,F)||(0,E.E1)(B,U);(0,T.OQ)(n,K)}},7061:(C,f,e)=>{var o=e(8698).default;function m(){"use strict";C.exports=m=function(){return a},C.exports.__esModule=!0,C.exports.default=C.exports;var r,a={},l=Object.prototype,i=l.hasOwnProperty,O=Object.defineProperty||function(d,n,s){d[n]=s.value},h=typeof Symbol=="function"?Symbol:{},E=h.iterator||"@@iterator",T=h.asyncIterator||"@@asyncIterator",v=h.toStringTag||"@@toStringTag";function p(d,n,s){return Object.defineProperty(d,n,{value:s,enumerable:!0,configurable:!0,writable:!0}),d[n]}try{p({},"")}catch{p=function(s,D,R){return s[D]=R}}function _(d,n,s,D){var R=n&&n.prototype instanceof S?n:S,P=Object.create(R.prototype),M=new H(D||[]);return O(P,"_invoke",{value:X(d,s,M)}),P}function b(d,n,s){try{return{type:"normal",arg:d.call(n,s)}}catch(D){return{type:"throw",arg:D}}}a.wrap=_;var c="suspendedStart",u="suspendedYield",y="executing",t="completed",g={};function S(){}function I(){}function x(){}var A={};p(A,E,function(){return this});var w=Object.getPrototypeOf,F=w&&w(w(k([])));F&&F!==l&&i.call(F,E)&&(A=F);var U=x.prototype=S.prototype=Object.create(A);function Y(d){["next","throw","return"].forEach(function(n){p(d,n,function(s){return this._invoke(n,s)})})}function j(d,n){function s(R,P,M,L){var N=b(d[R],d,P);if(N.type!=="throw"){var B=N.arg,K=B.value;return K&&o(K)=="object"&&i.call(K,"__await")?n.resolve(K.__await).then(function(G){s("next",G,M,L)},function(G){s("throw",G,M,L)}):n.resolve(K).then(function(G){B.value=G,M(B)},function(G){return s("throw",G,M,L)})}L(N.arg)}var D;O(this,"_invoke",{value:function(P,M){function L(){return new n(function(N,B){s(P,M,N,B)})}return D=D?D.then(L,L):L()}})}function X(d,n,s){var D=c;return function(R,P){if(D===y)throw Error("Generator is already running");if(D===t){if(R==="throw")throw P;return{value:r,done:!0}}for(s.method=R,s.arg=P;;){var M=s.delegate;if(M){var L=Z(M,s);if(L){if(L===g)continue;return L}}if(s.method==="next")s.sent=s._sent=s.arg;else if(s.method==="throw"){if(D===c)throw D=t,s.arg;s.dispatchException(s.arg)}else s.method==="return"&&s.abrupt("return",s.arg);D=y;var N=b(d,n,s);if(N.type==="normal"){if(D=s.done?t:u,N.arg===g)continue;return{value:N.arg,done:s.done}}N.type==="throw"&&(D=t,s.method="throw",s.arg=N.arg)}}}function Z(d,n){var s=n.method,D=d.iterator[s];if(D===r)return n.delegate=null,s==="throw"&&d.iterator.return&&(n.method="return",n.arg=r,Z(d,n),n.method==="throw")||s!=="return"&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+s+"' method")),g;var R=b(D,d.iterator,n.arg);if(R.type==="throw")return n.method="throw",n.arg=R.arg,n.delegate=null,g;var P=R.arg;return P?P.done?(n[d.resultName]=P.value,n.next=d.nextLoc,n.method!=="return"&&(n.method="next",n.arg=r),n.delegate=null,g):P:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function z(d){var n={tryLoc:d[0]};1 in d&&(n.catchLoc=d[1]),2 in d&&(n.finallyLoc=d[2],n.afterLoc=d[3]),this.tryEntries.push(n)}function V(d){var n=d.completion||{};n.type="normal",delete n.arg,d.completion=n}function H(d){this.tryEntries=[{tryLoc:"root"}],d.forEach(z,this),this.reset(!0)}function k(d){if(d||d===""){var n=d[E];if(n)return n.call(d);if(typeof d.next=="function")return d;if(!isNaN(d.length)){var s=-1,D=function R(){for(;++s<d.length;)if(i.call(d,s))return R.value=d[s],R.done=!1,R;return R.value=r,R.done=!0,R};return D.next=D}}throw new TypeError(o(d)+" is not iterable")}return I.prototype=x,O(U,"constructor",{value:x,configurable:!0}),O(x,"constructor",{value:I,configurable:!0}),I.displayName=p(x,v,"GeneratorFunction"),a.isGeneratorFunction=function(d){var n=typeof d=="function"&&d.constructor;return!!n&&(n===I||(n.displayName||n.name)==="GeneratorFunction")},a.mark=function(d){return Object.setPrototypeOf?Object.setPrototypeOf(d,x):(d.__proto__=x,p(d,v,"GeneratorFunction")),d.prototype=Object.create(U),d},a.awrap=function(d){return{__await:d}},Y(j.prototype),p(j.prototype,T,function(){return this}),a.AsyncIterator=j,a.async=function(d,n,s,D,R){R===void 0&&(R=Promise);var P=new j(_(d,n,s,D),R);return a.isGeneratorFunction(n)?P:P.next().then(function(M){return M.done?M.value:P.next()})},Y(U),p(U,v,"Generator"),p(U,E,function(){return this}),p(U,"toString",function(){return"[object Generator]"}),a.keys=function(d){var n=Object(d),s=[];for(var D in n)s.push(D);return s.reverse(),function R(){for(;s.length;){var P=s.pop();if(P in n)return R.value=P,R.done=!1,R}return R.done=!0,R}},a.values=k,H.prototype={constructor:H,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(V),!n)for(var s in this)s.charAt(0)==="t"&&i.call(this,s)&&!isNaN(+s.slice(1))&&(this[s]=r)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if(n.type==="throw")throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var s=this;function D(B,K){return M.type="throw",M.arg=n,s.next=B,K&&(s.method="next",s.arg=r),!!K}for(var R=this.tryEntries.length-1;R>=0;--R){var P=this.tryEntries[R],M=P.completion;if(P.tryLoc==="root")return D("end");if(P.tryLoc<=this.prev){var L=i.call(P,"catchLoc"),N=i.call(P,"finallyLoc");if(L&&N){if(this.prev<P.catchLoc)return D(P.catchLoc,!0);if(this.prev<P.finallyLoc)return D(P.finallyLoc)}else if(L){if(this.prev<P.catchLoc)return D(P.catchLoc,!0)}else{if(!N)throw Error("try statement without catch or finally");if(this.prev<P.finallyLoc)return D(P.finallyLoc)}}}},abrupt:function(n,s){for(var D=this.tryEntries.length-1;D>=0;--D){var R=this.tryEntries[D];if(R.tryLoc<=this.prev&&i.call(R,"finallyLoc")&&this.prev<R.finallyLoc){var P=R;break}}P&&(n==="break"||n==="continue")&&P.tryLoc<=s&&s<=P.finallyLoc&&(P=null);var M=P?P.completion:{};return M.type=n,M.arg=s,P?(this.method="next",this.next=P.finallyLoc,g):this.complete(M)},complete:function(n,s){if(n.type==="throw")throw n.arg;return n.type==="break"||n.type==="continue"?this.next=n.arg:n.type==="return"?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):n.type==="normal"&&s&&(this.next=s),g},finish:function(n){for(var s=this.tryEntries.length-1;s>=0;--s){var D=this.tryEntries[s];if(D.finallyLoc===n)return this.complete(D.completion,D.afterLoc),V(D),g}},catch:function(n){for(var s=this.tryEntries.length-1;s>=0;--s){var D=this.tryEntries[s];if(D.tryLoc===n){var R=D.completion;if(R.type==="throw"){var P=R.arg;V(D)}return P}}throw Error("illegal catch attempt")},delegateYield:function(n,s,D){return this.delegate={iterator:k(n),resultName:s,nextLoc:D},this.method==="next"&&(this.arg=r),g}},a}C.exports=m,C.exports.__esModule=!0,C.exports.default=C.exports},8698:C=>{function f(e){"@babel/helpers - typeof";return C.exports=f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},C.exports.__esModule=!0,C.exports.default=C.exports,f(e)}C.exports=f,C.exports.__esModule=!0,C.exports.default=C.exports},4687:(C,f,e)=>{var o=e(7061)();C.exports=o;try{regeneratorRuntime=o}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},7326:(C,f,e)=>{"use strict";e.d(f,{Z:()=>o});function o(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}},5861:(C,f,e)=>{"use strict";e.d(f,{Z:()=>m});function o(r,a,l,i,O,h,E){try{var T=r[h](E),v=T.value}catch(p){return void l(p)}T.done?a(v):Promise.resolve(v).then(i,O)}function m(r){return function(){var a=this,l=arguments;return new Promise(function(i,O){var h=r.apply(a,l);function E(v){o(h,i,O,E,T,"next",v)}function T(v){o(h,i,O,E,T,"throw",v)}E(void 0)})}}},5671:(C,f,e)=>{"use strict";e.d(f,{Z:()=>o});function o(m,r){if(!(m instanceof r))throw new TypeError("Cannot call a class as a function")}},3144:(C,f,e)=>{"use strict";e.d(f,{Z:()=>r});var o=e(7343);function m(a,l){for(var i=0;i<l.length;i++){var O=l[i];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(a,(0,o.Z)(O.key),O)}}function r(a,l,i){return l&&m(a.prototype,l),i&&m(a,i),Object.defineProperty(a,"prototype",{writable:!1}),a}},4942:(C,f,e)=>{"use strict";e.d(f,{Z:()=>m});var o=e(7343);function m(r,a,l){return(a=(0,o.Z)(a))in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l,r}},1120:(C,f,e)=>{"use strict";e.d(f,{Z:()=>o});function o(m){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},o(m)}},136:(C,f,e)=>{"use strict";e.d(f,{Z:()=>m});var o=e(9611);function m(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),a&&(0,o.Z)(r,a)}},2963:(C,f,e)=>{"use strict";e.d(f,{Z:()=>r});var o=e(1002),m=e(7326);function r(a,l){if(l&&((0,o.Z)(l)=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,m.Z)(a)}},9611:(C,f,e)=>{"use strict";e.d(f,{Z:()=>o});function o(m,r){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,l){return a.__proto__=l,a},o(m,r)}},5512:(C,f,e)=>{"use strict";e.d(f,{Z:()=>m});var o=e(1002);function m(r,a){if((0,o.Z)(r)!="object"||!r)return r;var l=r[Symbol.toPrimitive];if(l!==void 0){var i=l.call(r,a||"default");if((0,o.Z)(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}},7343:(C,f,e)=>{"use strict";e.d(f,{Z:()=>r});var o=e(1002),m=e(5512);function r(a){var l=(0,m.Z)(a,"string");return(0,o.Z)(l)=="symbol"?l:l+""}},1002:(C,f,e)=>{"use strict";e.d(f,{Z:()=>o});function o(m){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},o(m)}}},$={};function W(C){var f=$[C];if(f!==void 0)return f.exports;var e=$[C]={exports:{}};return Q[C](e,e.exports,W),e.exports}(()=>{var C=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",f=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",e=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",o=r=>{r&&r.d<1&&(r.d=1,r.forEach(a=>a.r--),r.forEach(a=>a.r--?a.r++:a()))},m=r=>r.map(a=>{if(a!==null&&typeof a=="object"){if(a[C])return a;if(a.then){var l=[];l.d=0,a.then(h=>{i[f]=h,o(l)},h=>{i[e]=h,o(l)});var i={};return i[C]=h=>h(l),i}}var O={};return O[C]=h=>{},O[f]=a,O});W.a=(r,a,l)=>{var i;l&&((i=[]).d=-1);var O=new Set,h=r.exports,E,T,v,p=new Promise((_,b)=>{v=b,T=_});p[f]=h,p[C]=_=>(i&&_(i),O.forEach(_),p.catch(b=>{})),r.exports=p,a(_=>{E=m(_);var b,c=()=>E.map(y=>{if(y[e])throw y[e];return y[f]}),u=new Promise(y=>{b=()=>y(c),b.r=0;var t=g=>g!==i&&!O.has(g)&&(O.add(g),g&&!g.d&&(b.r++,g.push(b)));E.map(g=>g[C](t))});return b.r?u:c()},_=>(_?v(p[e]=_):T(h),o(i))),i&&i.d<0&&(i.d=0)}})(),W.n=C=>{var f=C&&C.__esModule?()=>C.default:()=>C;return W.d(f,{a:f}),f},W.d=(C,f)=>{for(var e in f)W.o(f,e)&&!W.o(C,e)&&Object.defineProperty(C,e,{enumerable:!0,get:f[e]})},W.o=(C,f)=>Object.prototype.hasOwnProperty.call(C,f);var J=W(7212)})();})();
