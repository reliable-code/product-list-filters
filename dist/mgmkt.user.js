// ==UserScript==
// @name         MegaMarket product cards & offers filter
// @description  Hide product cards & offers by filter
// @grant        GM_addValueChangeListener
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://megamarket.ru/*
// @namespace    https://github.com/reliable-code/product-list-filters
// @version      0.1.73428802
// @icon         https://www.google.com/s2/favicons?sz=64&domain=megamarket.ru
// @author       reliable-code
// ==/UserScript==

(()=>{(()=>{var Q={6598:(y,d,e)=>{"use strict";e.d(d,{Bt:()=>u,_B:()=>l,dn:()=>c,wC:()=>h});var s=e(1002),g=e(6576),r=e(1557);function u(m,a,t){var i=_(m,"text",a);return i.value=t,i}function l(m,a,t,i,D,R){var T=_(m,"number",a);return T.value=t,T.step=i,T.min=D,T.max=R,T}function c(m,a,t){var i=_(m,"checkbox",a);return i.checked=t,i}function _(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=o("input",m);return a&&(i.type=a),t&&(i.addEventListener("keyup",(0,g.D)(t,200)),i.addEventListener("change",(0,g.D)(t,100))),i}function v(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return o("span",m,a)}function E(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=o("a",m,a);return t&&(i.href=t),i}function P(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=o("button",m,a);return t&&(i.onclick=t),i}function h(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return o("div",m,a)}function o(m,a){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if((0,s.Z)(a)!=="object"||a===null)throw new TypeError("styles should be an object");var i=document.createElement(m);return(0,r.Zs)(i,a),t&&(i.innerHTML=t),i}},1557:(y,d,e)=>{"use strict";e.d(d,{DJ:()=>r,NI:()=>l,Zs:()=>E,tk:()=>g});var s=e(1483);function g(o){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=m.querySelector(o);return a&&!t&&console.log("No element found for selector: ".concat(o)),t}function r(o){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=m.querySelectorAll(o);return a&&!t.length&&console.log("No elements found for selector: ".concat(o)),t}function u(o,m){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=g(m,o,!0),D=l(i,a,t);return D}function l(o){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(!o)return t===null?(console.log("No element found"),null):t;var i=o.innerText;return v(i,m,a)}function c(o,m){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=o[m],i=l(t,a);return i}function _(o){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,t=o.textContent;return v(t,m,a)}function v(o,m,a){m&&(o=(0,s.g7)(o)),a&&(o=o.replace(",","."));var t=+o;return t}function E(o,m){Object.assign(o.style,m)}function P(o){return Object.entries(o).map(function(m){var a=_slicedToArray(m,2),t=a[0],i=a[1];return"".concat(t.replace(/([A-Z])/g,"-$1").toLowerCase(),": ").concat(i,";")}).join(" ")}function h(o){return o?o.split(";").filter(function(m){return m.trim()!==""}).reduce(function(m,a){var t=a.split(":").map(function(M){return M.trim()}),i=_slicedToArray(t,2),D=i[0],R=i[1],T=D.replace(/-([a-z])/g,function(M,N){return N.toUpperCase()});return m[T]=R,m},{}):{}}},9397:(y,d,e)=>{"use strict";e.d(d,{OQ:()=>u,V_:()=>r,e6:()=>g});function s(t,i){t.parentNode.insertBefore(i,t.nextSibling)}function g(t){_(t),l(t,"none")}function r(t,i){var D=i||c(t);l(t,D)}function u(t,i,D){i?g(t):r(t,D)}function l(t,i){t.style.display=i}function c(t){return _(t),t.getAttribute("display")}function _(t){if(!t.hasAttribute("display")){var i=getComputedStyle(t),D=i.display;t.setAttribute("display",D)}}function v(t,i){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.2;i?P(t,D):E(t)}function E(t){t.style.opacity=""}function P(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.2;t.style.opacity=i}function h(t){t.style.order=""}function o(t,i){t.style.order=i}function m(t,i){t.style.background=i}function a(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"custom-global-style",D=document.getElementById(i);D||(D=document.createElement("style"),D.id=i,D.type="text/css",document.head.appendChild(D)),D.textContent=t}},6576:(y,d,e)=>{"use strict";e.d(d,{D:()=>c,b:()=>u});var s=e(5861),g=e(4687),r=e.n(g);function u(_,v){return l.apply(this,arguments)}function l(){return l=(0,s.Z)(r().mark(function _(v,E){var P,h,o=arguments;return r().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(P=o.length>2&&o[2]!==void 0?o[2]:null,h=v.querySelector(E),!h){a.next=4;break}return a.abrupt("return",h);case 4:return a.abrupt("return",new Promise(function(t){var i=new MutationObserver(R);i.observe(v,{childList:!0,subtree:!0});var D=null;P&&(D=setTimeout(function(){i.disconnect(),console.log("No element found for selector: ".concat(E)),t(null)},P));function R(){var T=v.querySelector(E);T&&(D&&clearTimeout(D),i.disconnect(),t(T))}}));case 5:case"end":return a.stop()}},_)})),l.apply(this,arguments)}function c(_){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,E;return function(){for(var P=arguments.length,h=new Array(P),o=0;o<P;o++)h[o]=arguments[o];clearTimeout(E),E=setTimeout(function(){return _.apply(void 0,h)},v)}}},9144:(y,d,e)=>{"use strict";e.d(d,{E1:()=>r,J2:()=>s,YY:()=>u});function s(l,c){return!g(l,c)}function g(l,c){if(!c.value)return!0;var _=l.toLowerCase(),v=c.value.toLowerCase().split(",").map(function(h){return h.trim()}),E=[],P=[];return v.forEach(function(h){if(h.startsWith("!")){var o=h.substring(1);o&&P.push(o)}else E.push(h)}),E.every(function(h){return _.includes(h)})&&P.every(function(h){return!_.includes(h)})}function r(l,c){return c.value&&l<c.value}function u(l,c){return c.value&&l>c.value}},1928:(y,d,e)=>{"use strict";e.d(d,{Z:()=>g});var s=e(4830);function g(r){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return{createGlobalFilter:function(c){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r;return s.Yz.create(c,_,v)},createSectionFilter:function(c){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r;if(!u)throw new Error("sectionId must be provided to use createSectionFilter.");return s.Yz.createWithCompositeKey(u,c,_,v)}}}},2050:(y,d,e)=>{"use strict";e.d(d,{XF:()=>u,Xi:()=>g,xy:()=>r});var s=e(6598);function g(l,c){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},E=(0,s.wC)(_,l),P=(0,s.Bt)(v,c.updateValueFromEvent,c.value);return E.append(P),E}function r(l,c,_,v,E){var P=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},o=(0,s.wC)(P,l),m=(0,s._B)(h,c.updateValueFromEvent,c.value,_,v,E);return o.append(m),o}function u(l,c){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},E=(0,s.wC)(_,l),P=(0,s.dn)(v,c.updateValueFromEvent,c.value);return E.append(P),E}},6332:(y,d,e)=>{"use strict";e.d(d,{Dj:()=>_,Ro:()=>P,T5:()=>g,gc:()=>E,iz:()=>h,kc:()=>r,pN:()=>m});var s=e(2050);function g(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,s.Xi)("\u041F\u043E\u0438\u0441\u043A: ",a,t,i)}function r(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.1;return(0,s.xy)("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",a,D,3,5,t,i)}function u(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return c("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",a,t,i)}function l(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return c("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",a,t,i)}function c(a,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return createNumberFilterControl(a,t,"1","1","999999",i,D)}function _(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return v("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",a,t,i)}function v(a,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(0,s.xy)(a,t,"5","0","100",i,D)}function E(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,s.xy)("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",a,"5","0","100",t,i)}function P(a,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"250";return(0,s.xy)(a,t,R,"0","1000000",i,D)}function h(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"250";return P("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",a,t,i,D)}function o(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return createCheckboxFilterControl("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",a,t,i)}function m(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,s.XF)("\u0412\u043A\u043B: ",a,t,i)}},7798:(y,d,e)=>{"use strict";e.d(d,{C:()=>r});var s=e(6598),g=e(1557);function r(u,l){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"customFiltersContainer",v=(0,g.tk)("#".concat(_),u);if(v)if(c)v.remove();else return;v=(0,s.wC)(),v.id=_,l(v,u)}},6476:(y,d,e)=>{"use strict";e.d(d,{r:()=>s});function s(g){for(var r=2166136261,u=16777619,l=r,c=0;c<g.length;c+=1){var _=g.charCodeAt(c);l^=_,l=Math.imul(l,u)}return l>>>0}},5883:(y,d,e)=>{"use strict";e.d(d,{E:()=>r});var s=e(6476);function g(u){return(0,s.r)(u).toString(16).padStart(8,"0")}function r(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common";return u?g(u):l}},1469:(y,d,e)=>{"use strict";e.d(d,{F:()=>s});function s(g){var r=g.target,u=r.type;switch(u){case"text":return'"'.concat(r.value,'"');case"number":return r.value;case"checkbox":return r.checked;default:return console.log("Unknown input type: ".concat(u)),null}}},3324:(y,d,e)=>{"use strict";e.d(d,{u:()=>o});var s=e(3144),g=e(5671),r=e(2963),u=e(1120),l=e(136),c=e(4942),_=e(7047),v=e(1469),E=e(3295);function P(m,a,t){return a=(0,u.Z)(a),(0,r.Z)(m,h()?Reflect.construct(a,t||[],(0,u.Z)(m).constructor):a.apply(m,t))}function h(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!m})()}var o=function(m){function a(){var t,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return(0,g.Z)(this,a),t=P(this,a,[i,D]),(0,c.Z)(t,"updateValueFromEvent",function(R){var T=(0,E.H)((0,v.F)(R));t.value!==T&&(t.value=T,t.onChangeIfDefined())}),t}return(0,l.Z)(a,m),(0,s.Z)(a)}(_.H)},7047:(y,d,e)=>{"use strict";e.d(d,{H:()=>u});var s=e(3144),g=e(5671),r=e(4942),u=(0,s.Z)(function l(c,_){var v=this;(0,g.Z)(this,l),(0,r.Z)(this,"onChangeIfDefined",function(){v.onChange&&v.onChange()}),this.value=c,this.onChange=_})},4830:(y,d,e)=>{"use strict";e.d(d,{Yz:()=>i});var s=e(5671),g=e(3144),r=e(2963),u=e(1120),l=e(136),c=e(4942),_=e(7047),v=e(1469),E=e(3295);function P(D,R,T){return R=(0,u.Z)(R),(0,r.Z)(D,h()?Reflect.construct(R,T||[],(0,u.Z)(D).constructor):R.apply(D,T))}function h(){try{var D=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!D})()}var o=window.GM_setValue,m=window.GM.setValue,a=window.GM_getValue,t=window.GM_addValueChangeListener,i=function(D){function R(T){var M,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return(0,s.Z)(this,R),M=P(this,R,[a(T,N),I]),(0,c.Z)(M,"updateValueFromEvent",function(w){var U=(0,v.F)(w),A=(0,E.H)(U);M.value!==A&&(o(M.storageKey,A),M.value=A,M.onChangeIfDefined())}),M.storageKey=T,M}return(0,l.Z)(R,D),(0,g.Z)(R,null,[{key:"create",value:function(M){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new R(M,N,I)}},{key:"createWithCompositeKey",value:function(M,N){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,U="".concat(M,"-").concat(N);return new R(U,I,w)}}])}(_.H)},3295:(y,d,e)=>{"use strict";e.d(d,{H:()=>s});function s(g){return g===""?null:JSON.parse(g)}},1483:(y,d,e)=>{"use strict";e.d(d,{g7:()=>g});function s(l){return l.replace(/\D/g,"")}function g(l){return l.replace(/[^\d.,-]/g,"")}function r(l){return l.replace(/\s/g,"")}function u(l){return l.charAt(0).toUpperCase()+l.slice(1)}},3950:(y,d,e)=>{"use strict";e.d(d,{ML:()=>r,lY:()=>v,uW:()=>s});function s(h){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common",m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=window.location.pathname;return g(a,h,o,m)}function g(h,o,m){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,t=h.split("/"),i=t[o]||m;return a&&console.log("Pathname element: ".concat(i)),i}function r(h){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common",m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=s(h,"",m);return u(a,o,m)}function u(h,o,m){if(!h)return o;var a=h.split("-").at(-1);return m&&console.log("Pathname element ending: ".concat(a)),a}function l(h,o){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"common",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,t=g(h,o,"",a);return u(t,m,a)}function c(h){var o=window.location.search;return _(o,h)}function _(h,o){var m=new URLSearchParams(h);return m.get(o)}function v(h){return window.location.pathname.includes(h)}function E(h){return h.some(function(o){return v(o)})}function P(h){var o=window.location.pathname.split("/");return o.some(function(m){return m===h})}},7212:(y,d,e)=>{"use strict";e.a(y,async(s,g)=>{try{let c=function(){return(0,l.lY)("details")};var r=e(245),u=e(6770),l=e(3950);c()?await(0,r.T)():await(0,u.K)(),g()}catch(c){g(c)}},1)},5909:(y,d,e)=>{"use strict";e.d(d,{N:()=>s});var s={PRICE:"price",BALANCED_CASHBACK_PRICE:"balanced-cashback-price",COUPON:"applied-coupon",OBSERVED:"observed"}},4070:(y,d,e)=>{"use strict";e.d(d,{m:()=>r});var s=e(1557),g=e(5909);function r(v,E,P,h){var o=(0,s.tk)(E,v),m=u(o,h);return(m||!o.hasAttribute(g.N.BALANCED_CASHBACK_PRICE))&&l(o,P,h),o}function u(v,E){if(v.hasAttribute(g.N.COUPON)){var P=+v.getAttribute(g.N.COUPON);return E!==P}return!!E}function l(v,E,P){var h=c(v);v.setAttribute(g.N.PRICE,h),P?(P<1?h=(h*(1-P)).toFixed():h-=P,v.setAttribute(g.N.COUPON,P)):v.removeAttribute(g.N.COUPON);var o=_(h,E),m=h-o;v.setAttribute(g.N.BALANCED_CASHBACK_PRICE,m);var a="".concat(h.toLocaleString()," (").concat(m.toLocaleString(),") \u20BD");v.innerText=a,v.title="-".concat(o.toLocaleString())}function c(v){return v.hasAttribute(g.N.PRICE)?+v.getAttribute(g.N.PRICE):(0,s.NI)(v,!0)}function _(v,E){var P=E/100;return(v*P/(1+P)).toFixed(0)}},5469:(y,d,e)=>{"use strict";e.d(d,{x:()=>l});var s=e(4942);function g(c,_){var v=Object.keys(c);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(c);_&&(E=E.filter(function(P){return Object.getOwnPropertyDescriptor(c,P).enumerable})),v.push.apply(v,E)}return v}function r(c){for(var _=1;_<arguments.length;_++){var v=arguments[_]!=null?arguments[_]:{};_%2?g(Object(v),!0).forEach(function(E){(0,s.Z)(c,E,v[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(v)):g(Object(v)).forEach(function(E){Object.defineProperty(c,E,Object.getOwnPropertyDescriptor(v,E))})}return c}var u={INPUT:{border:"1px solid #e4ebf0",fontSize:"14px",borderRadius:"8px",marginLeft:"7px",padding:"8px 14px"}},l={CONTAINER:{display:"flex",gridGap:"15px",padding:"14px 5px"},CONTROL:{display:"flex",alignItems:"center",fontSize:"14px"},TEXT_INPUT:r(r({},u.INPUT),{},{width:"180px"}),NUMBER_INPUT:r({},u.INPUT),CHECKBOX_INPUT:{marginLeft:"7px",width:"23px",height:"23px"}}},6770:(y,d,e)=>{"use strict";e.d(d,{K:()=>j});var s=e(5861),g=e(4687),r=e.n(g),u=e(6576),l=e(7798),c=e(4070),_=e(3950),v=e(3324),E=e(9144),P=e(2050),h=e(9397),o=e(1557),m=e(6332),a=e(5909),t=e(5469),i=e(1928),D=e(5883),R={PRODUCT_CARD_LIST_HEADER:".catalog-listing-controls",PRODUCT_CARD:".catalog-item-desktop",PRODUCT_CARD_PRICE:".catalog-item-regular-desktop__price",PRODUCT_CARD_CASHBACK:".bonus-percent",PRODUCT_CARD_TITLE:".catalog-item-regular-desktop__title-link",PRODUCT_CARD_DISCOUNT:".discount-percentage__value",PRODUCT_CARD_SELLER_NAME:".merchant-info__name"},T=(0,D.E)((0,_.uW)(2)),M=(0,i.Z)(H,T),N=M.createSectionFilter,I=N("name-filter"),w=N("min-cashback-filter"),U=N("max-price-filter"),A=N("min-discount-filter"),F=N("seller-name-filter"),Y=new v.u(!1,H);function j(){return X.apply(this,arguments)}function X(){return X=(0,s.Z)(r().mark(function p(){var n,f;return r().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,Z();case 2:return O.next=4,(0,u.b)(document,"#app");case 4:n=O.sent,f=new MutationObserver((0,u.D)(Z)),f.observe(n,{childList:!0,subtree:!0});case 7:case"end":return O.stop()}},p)})),X.apply(this,arguments)}function Z(){return z.apply(this,arguments)}function z(){return z=(0,s.Z)(r().mark(function p(){var n,f,C;return r().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(0,u.b)(document,R.PRODUCT_CARD_LIST_HEADER);case 2:if(n=b.sent,(0,l.C)(n,V),f=n.parentNode,!f.hasAttribute(a.N.OBSERVED)){b.next=7;break}return b.abrupt("return");case 7:C=new MutationObserver((0,u.D)(H,50)),C.observe(f,{childList:!0,subtree:!0}),f.setAttribute(a.N.OBSERVED,"");case 10:case"end":return b.stop()}},p)})),z.apply(this,arguments)}function V(p,n){(0,o.Zs)(p,t.x.CONTAINER);var f=(0,m.T5)(I,t.x.CONTROL,t.x.TEXT_INPUT),C=(0,m.gc)(w,t.x.CONTROL,t.x.NUMBER_INPUT),O=(0,m.iz)(U,t.x.CONTROL,t.x.NUMBER_INPUT),b=(0,m.Dj)(A,t.x.CONTROL,t.x.NUMBER_INPUT),S=(0,P.Xi)("\u041F\u0440\u043E\u0434\u0430\u0432\u0435\u0446: ",F,t.x.CONTROL,t.x.TEXT_INPUT),L=(0,m.pN)(Y,t.x.CONTROL,t.x.CHECKBOX_INPUT);p.append(f,C,O,b,S,L),n.append(p)}function H(){var p=(0,o.DJ)(R.PRODUCT_CARD);p.forEach(k)}function k(p){if(!Y.value){(0,h.V_)(p);return}var n=(0,o.tk)(R.PRODUCT_CARD_TITLE,p),f=(0,o.tk)(R.PRODUCT_CARD_CASHBACK,p),C=(0,o.tk)(R.PRODUCT_CARD_DISCOUNT,p);if(!n){(0,h.e6)(p);return}var O=n.innerText,b=(0,o.NI)(f,!0,!1,0),S=Math.abs((0,o.NI)(C,!0,!1,0)),L=(0,c.m)(p,R.PRODUCT_CARD_PRICE,b),x=+L.getAttribute(a.N.BALANCED_CASHBACK_PRICE),B=(0,o.tk)(R.PRODUCT_CARD_SELLER_NAME,p),K=B?(0,E.J2)(B.innerText,F):!1,G=(0,E.J2)(O,I)||(0,E.E1)(b,w)||(0,E.YY)(x,U)||(0,E.E1)(S,A)||K;(0,h.OQ)(p,G)}},245:(y,d,e)=>{"use strict";e.d(d,{T:()=>X});var s=e(5861),g=e(4687),r=e.n(g),u=e(6576),l=e(5883),c=e(3950),_=e(7798),v=e(3324),E=e(9144),P=e(9397),h=e(1557),o=e(6332),m=e(2050),a=e(4070),t=e(5909),i=e(5469),D=e(1928),R={APP:"#app",OFFERS_FILTER:".pdp-prices-filter",OFFERS_CONTAINER:".pdp-prices",OFFER:".pdp-prices .product-offer",PRICE:".product-offer-price__amount",CASHBACK:".bonus-percent",SELLER_RATING:".pdp-merchant-rating-block__rating"},T=(0,l.E)((0,c.ML)(3)),M=(0,D.Z)(k,T),N=M.createGlobalFilter,I=M.createSectionFilter,w=I("min-cashback-filter"),U=I("max-price-filter"),A=I("max-discounted-price-filter"),F=N("min-seller-rating-filter"),Y=new v.u(null,k),j=N("filter-enabled",!1);function X(){return Z.apply(this,arguments)}function Z(){return Z=(0,s.Z)(r().mark(function n(){var f,C;return r().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,z();case 2:return b.next=4,(0,u.b)(document,R.APP);case 4:f=b.sent,C=new MutationObserver((0,u.D)(z)),C.observe(f,{childList:!0});case 7:case"end":return b.stop()}},n)})),Z.apply(this,arguments)}function z(){return V.apply(this,arguments)}function V(){return V=(0,s.Z)(r().mark(function n(){var f,C,O;return r().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,u.b)(document,R.OFFERS_FILTER);case 2:if(f=S.sent,(0,_.C)(f,H),k(),C=(0,h.tk)(R.OFFERS_CONTAINER),!C.hasAttribute(t.N.OBSERVED)){S.next=8;break}return S.abrupt("return");case 8:O=new MutationObserver((0,u.D)(k,50)),O.observe(C,{childList:!0,subtree:!0}),C.setAttribute(t.N.OBSERVED,"");case 11:case"end":return S.stop()}},n)})),V.apply(this,arguments)}function H(n,f){(0,h.Zs)(n,i.x.CONTAINER);var C=(0,o.gc)(w,i.x.CONTROL,i.x.NUMBER_INPUT),O=(0,o.iz)(U,i.x.CONTROL,i.x.NUMBER_INPUT),b=(0,o.Ro)("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430 \u0441\u043E \u0441\u043A\u0438\u0434\u043A\u043E\u0439: ",A,i.x.CONTROL,i.x.NUMBER_INPUT),S=(0,o.kc)(F,i.x.CONTROL,i.x.NUMBER_INPUT),L=(0,m.xy)("\u041A\u0443\u043F\u043E\u043D: ",Y,"500","0","100000",i.x.CONTROL,i.x.NUMBER_INPUT),x=(0,o.pN)(j,i.x.CONTROL,i.x.CHECKBOX_INPUT);n.append(C,O,b,S,L,x),f.append(n)}function k(){var n=(0,h.DJ)(R.OFFER);n.forEach(p)}function p(n){if(!j.value){(0,P.V_)(n);return}var f=(0,h.tk)(R.PRICE,n),C=(0,h.tk)(R.CASHBACK,n),O=(0,h.tk)(R.SELLER_RATING,n);if(!f||!C||!O){(0,P.e6)(n);return}var b=(0,h.NI)(C,!0),S=(0,a.m)(n,R.PRICE,b,Y.value),L=+S.getAttribute(t.N.PRICE),x=+S.getAttribute(t.N.BALANCED_CASHBACK_PRICE),B=(0,h.NI)(O,!0),K=(0,E.E1)(b,w)||(0,E.YY)(L,U)||(0,E.YY)(x,A)||(0,E.E1)(B,F);(0,P.OQ)(n,K)}},7061:(y,d,e)=>{var s=e(8698).default;function g(){"use strict";y.exports=g=function(){return u},y.exports.__esModule=!0,y.exports.default=y.exports;var r,u={},l=Object.prototype,c=l.hasOwnProperty,_=Object.defineProperty||function(p,n,f){p[n]=f.value},v=typeof Symbol=="function"?Symbol:{},E=v.iterator||"@@iterator",P=v.asyncIterator||"@@asyncIterator",h=v.toStringTag||"@@toStringTag";function o(p,n,f){return Object.defineProperty(p,n,{value:f,enumerable:!0,configurable:!0,writable:!0}),p[n]}try{o({},"")}catch{o=function(f,C,O){return f[C]=O}}function m(p,n,f,C){var O=n&&n.prototype instanceof M?n:M,b=Object.create(O.prototype),S=new H(C||[]);return _(b,"_invoke",{value:X(p,f,S)}),b}function a(p,n,f){try{return{type:"normal",arg:p.call(n,f)}}catch(C){return{type:"throw",arg:C}}}u.wrap=m;var t="suspendedStart",i="suspendedYield",D="executing",R="completed",T={};function M(){}function N(){}function I(){}var w={};o(w,E,function(){return this});var U=Object.getPrototypeOf,A=U&&U(U(k([])));A&&A!==l&&c.call(A,E)&&(w=A);var F=I.prototype=M.prototype=Object.create(w);function Y(p){["next","throw","return"].forEach(function(n){o(p,n,function(f){return this._invoke(n,f)})})}function j(p,n){function f(O,b,S,L){var x=a(p[O],p,b);if(x.type!=="throw"){var B=x.arg,K=B.value;return K&&s(K)=="object"&&c.call(K,"__await")?n.resolve(K.__await).then(function(G){f("next",G,S,L)},function(G){f("throw",G,S,L)}):n.resolve(K).then(function(G){B.value=G,S(B)},function(G){return f("throw",G,S,L)})}L(x.arg)}var C;_(this,"_invoke",{value:function(b,S){function L(){return new n(function(x,B){f(b,S,x,B)})}return C=C?C.then(L,L):L()}})}function X(p,n,f){var C=t;return function(O,b){if(C===D)throw Error("Generator is already running");if(C===R){if(O==="throw")throw b;return{value:r,done:!0}}for(f.method=O,f.arg=b;;){var S=f.delegate;if(S){var L=Z(S,f);if(L){if(L===T)continue;return L}}if(f.method==="next")f.sent=f._sent=f.arg;else if(f.method==="throw"){if(C===t)throw C=R,f.arg;f.dispatchException(f.arg)}else f.method==="return"&&f.abrupt("return",f.arg);C=D;var x=a(p,n,f);if(x.type==="normal"){if(C=f.done?R:i,x.arg===T)continue;return{value:x.arg,done:f.done}}x.type==="throw"&&(C=R,f.method="throw",f.arg=x.arg)}}}function Z(p,n){var f=n.method,C=p.iterator[f];if(C===r)return n.delegate=null,f==="throw"&&p.iterator.return&&(n.method="return",n.arg=r,Z(p,n),n.method==="throw")||f!=="return"&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+f+"' method")),T;var O=a(C,p.iterator,n.arg);if(O.type==="throw")return n.method="throw",n.arg=O.arg,n.delegate=null,T;var b=O.arg;return b?b.done?(n[p.resultName]=b.value,n.next=p.nextLoc,n.method!=="return"&&(n.method="next",n.arg=r),n.delegate=null,T):b:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,T)}function z(p){var n={tryLoc:p[0]};1 in p&&(n.catchLoc=p[1]),2 in p&&(n.finallyLoc=p[2],n.afterLoc=p[3]),this.tryEntries.push(n)}function V(p){var n=p.completion||{};n.type="normal",delete n.arg,p.completion=n}function H(p){this.tryEntries=[{tryLoc:"root"}],p.forEach(z,this),this.reset(!0)}function k(p){if(p||p===""){var n=p[E];if(n)return n.call(p);if(typeof p.next=="function")return p;if(!isNaN(p.length)){var f=-1,C=function O(){for(;++f<p.length;)if(c.call(p,f))return O.value=p[f],O.done=!1,O;return O.value=r,O.done=!0,O};return C.next=C}}throw new TypeError(s(p)+" is not iterable")}return N.prototype=I,_(F,"constructor",{value:I,configurable:!0}),_(I,"constructor",{value:N,configurable:!0}),N.displayName=o(I,h,"GeneratorFunction"),u.isGeneratorFunction=function(p){var n=typeof p=="function"&&p.constructor;return!!n&&(n===N||(n.displayName||n.name)==="GeneratorFunction")},u.mark=function(p){return Object.setPrototypeOf?Object.setPrototypeOf(p,I):(p.__proto__=I,o(p,h,"GeneratorFunction")),p.prototype=Object.create(F),p},u.awrap=function(p){return{__await:p}},Y(j.prototype),o(j.prototype,P,function(){return this}),u.AsyncIterator=j,u.async=function(p,n,f,C,O){O===void 0&&(O=Promise);var b=new j(m(p,n,f,C),O);return u.isGeneratorFunction(n)?b:b.next().then(function(S){return S.done?S.value:b.next()})},Y(F),o(F,h,"Generator"),o(F,E,function(){return this}),o(F,"toString",function(){return"[object Generator]"}),u.keys=function(p){var n=Object(p),f=[];for(var C in n)f.push(C);return f.reverse(),function O(){for(;f.length;){var b=f.pop();if(b in n)return O.value=b,O.done=!1,O}return O.done=!0,O}},u.values=k,H.prototype={constructor:H,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(V),!n)for(var f in this)f.charAt(0)==="t"&&c.call(this,f)&&!isNaN(+f.slice(1))&&(this[f]=r)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if(n.type==="throw")throw n.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var f=this;function C(B,K){return S.type="throw",S.arg=n,f.next=B,K&&(f.method="next",f.arg=r),!!K}for(var O=this.tryEntries.length-1;O>=0;--O){var b=this.tryEntries[O],S=b.completion;if(b.tryLoc==="root")return C("end");if(b.tryLoc<=this.prev){var L=c.call(b,"catchLoc"),x=c.call(b,"finallyLoc");if(L&&x){if(this.prev<b.catchLoc)return C(b.catchLoc,!0);if(this.prev<b.finallyLoc)return C(b.finallyLoc)}else if(L){if(this.prev<b.catchLoc)return C(b.catchLoc,!0)}else{if(!x)throw Error("try statement without catch or finally");if(this.prev<b.finallyLoc)return C(b.finallyLoc)}}}},abrupt:function(n,f){for(var C=this.tryEntries.length-1;C>=0;--C){var O=this.tryEntries[C];if(O.tryLoc<=this.prev&&c.call(O,"finallyLoc")&&this.prev<O.finallyLoc){var b=O;break}}b&&(n==="break"||n==="continue")&&b.tryLoc<=f&&f<=b.finallyLoc&&(b=null);var S=b?b.completion:{};return S.type=n,S.arg=f,b?(this.method="next",this.next=b.finallyLoc,T):this.complete(S)},complete:function(n,f){if(n.type==="throw")throw n.arg;return n.type==="break"||n.type==="continue"?this.next=n.arg:n.type==="return"?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):n.type==="normal"&&f&&(this.next=f),T},finish:function(n){for(var f=this.tryEntries.length-1;f>=0;--f){var C=this.tryEntries[f];if(C.finallyLoc===n)return this.complete(C.completion,C.afterLoc),V(C),T}},catch:function(n){for(var f=this.tryEntries.length-1;f>=0;--f){var C=this.tryEntries[f];if(C.tryLoc===n){var O=C.completion;if(O.type==="throw"){var b=O.arg;V(C)}return b}}throw Error("illegal catch attempt")},delegateYield:function(n,f,C){return this.delegate={iterator:k(n),resultName:f,nextLoc:C},this.method==="next"&&(this.arg=r),T}},u}y.exports=g,y.exports.__esModule=!0,y.exports.default=y.exports},8698:y=>{function d(e){"@babel/helpers - typeof";return y.exports=d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},y.exports.__esModule=!0,y.exports.default=y.exports,d(e)}y.exports=d,y.exports.__esModule=!0,y.exports.default=y.exports},4687:(y,d,e)=>{var s=e(7061)();y.exports=s;try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}},7326:(y,d,e)=>{"use strict";e.d(d,{Z:()=>s});function s(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}},5861:(y,d,e)=>{"use strict";e.d(d,{Z:()=>g});function s(r,u,l,c,_,v,E){try{var P=r[v](E),h=P.value}catch(o){return void l(o)}P.done?u(h):Promise.resolve(h).then(c,_)}function g(r){return function(){var u=this,l=arguments;return new Promise(function(c,_){var v=r.apply(u,l);function E(h){s(v,c,_,E,P,"next",h)}function P(h){s(v,c,_,E,P,"throw",h)}E(void 0)})}}},5671:(y,d,e)=>{"use strict";e.d(d,{Z:()=>s});function s(g,r){if(!(g instanceof r))throw new TypeError("Cannot call a class as a function")}},3144:(y,d,e)=>{"use strict";e.d(d,{Z:()=>r});var s=e(7343);function g(u,l){for(var c=0;c<l.length;c++){var _=l[c];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(u,(0,s.Z)(_.key),_)}}function r(u,l,c){return l&&g(u.prototype,l),c&&g(u,c),Object.defineProperty(u,"prototype",{writable:!1}),u}},4942:(y,d,e)=>{"use strict";e.d(d,{Z:()=>g});var s=e(7343);function g(r,u,l){return(u=(0,s.Z)(u))in r?Object.defineProperty(r,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[u]=l,r}},1120:(y,d,e)=>{"use strict";e.d(d,{Z:()=>s});function s(g){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s(g)}},136:(y,d,e)=>{"use strict";e.d(d,{Z:()=>g});var s=e(9611);function g(r,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(u&&u.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),u&&(0,s.Z)(r,u)}},2963:(y,d,e)=>{"use strict";e.d(d,{Z:()=>r});var s=e(1002),g=e(7326);function r(u,l){if(l&&((0,s.Z)(l)=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,g.Z)(u)}},9611:(y,d,e)=>{"use strict";e.d(d,{Z:()=>s});function s(g,r){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,l){return u.__proto__=l,u},s(g,r)}},5512:(y,d,e)=>{"use strict";e.d(d,{Z:()=>g});var s=e(1002);function g(r,u){if((0,s.Z)(r)!="object"||!r)return r;var l=r[Symbol.toPrimitive];if(l!==void 0){var c=l.call(r,u||"default");if((0,s.Z)(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(r)}},7343:(y,d,e)=>{"use strict";e.d(d,{Z:()=>r});var s=e(1002),g=e(5512);function r(u){var l=(0,g.Z)(u,"string");return(0,s.Z)(l)=="symbol"?l:l+""}},1002:(y,d,e)=>{"use strict";e.d(d,{Z:()=>s});function s(g){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},s(g)}}},$={};function W(y){var d=$[y];if(d!==void 0)return d.exports;var e=$[y]={exports:{}};return Q[y](e,e.exports,W),e.exports}(()=>{var y=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",d=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",e=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",s=r=>{r&&r.d<1&&(r.d=1,r.forEach(u=>u.r--),r.forEach(u=>u.r--?u.r++:u()))},g=r=>r.map(u=>{if(u!==null&&typeof u=="object"){if(u[y])return u;if(u.then){var l=[];l.d=0,u.then(v=>{c[d]=v,s(l)},v=>{c[e]=v,s(l)});var c={};return c[y]=v=>v(l),c}}var _={};return _[y]=v=>{},_[d]=u,_});W.a=(r,u,l)=>{var c;l&&((c=[]).d=-1);var _=new Set,v=r.exports,E,P,h,o=new Promise((m,a)=>{h=a,P=m});o[d]=v,o[y]=m=>(c&&m(c),_.forEach(m),o.catch(a=>{})),r.exports=o,u(m=>{E=g(m);var a,t=()=>E.map(D=>{if(D[e])throw D[e];return D[d]}),i=new Promise(D=>{a=()=>D(t),a.r=0;var R=T=>T!==c&&!_.has(T)&&(_.add(T),T&&!T.d&&(a.r++,T.push(a)));E.map(T=>T[y](R))});return a.r?i:t()},m=>(m?h(o[e]=m):P(v),s(c))),c&&c.d<0&&(c.d=0)}})(),W.n=y=>{var d=y&&y.__esModule?()=>y.default:()=>y;return W.d(d,{a:d}),d},W.d=(y,d)=>{for(var e in d)W.o(d,e)&&!W.o(y,e)&&Object.defineProperty(y,e,{enumerable:!0,get:d[e]})},W.o=(y,d)=>Object.prototype.hasOwnProperty.call(y,d);var J=W(7212)})();})();
