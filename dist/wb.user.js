// ==UserScript==
// @name         WB List Clean
// @description  Remove product cards by filter
// @grant        GM_deleteValue
// @grant        GM_listValues
// @grant        GM_addValueChangeListener
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://www.wildberries.ru/*
// @namespace    https://github.com/reliable-code/product-list-filters
// @version      0.7.73244666
// @icon         https://www.google.com/s2/favicons?sz=64&domain=wildberries.ru
// @author       reliable-code
// ==/UserScript==

(()=>{(()=>{var en={7061:(v,h,T)=>{var p=T(8698).default;function K(){"use strict";v.exports=K=function(){return L},v.exports.__esModule=!0,v.exports.default=v.exports;var x,L={},me=Object.prototype,R=me.hasOwnProperty,$=Object.defineProperty||function(l,o,s){l[o]=s.value},re=typeof Symbol=="function"?Symbol:{},H=re.iterator||"@@iterator",Xe=re.asyncIterator||"@@asyncIterator",ae=re.toStringTag||"@@toStringTag";function D(l,o,s){return Object.defineProperty(l,o,{value:s,enumerable:!0,configurable:!0,writable:!0}),l[o]}try{D({},"")}catch{D=function(s,g,m){return s[g]=m}}function pe(l,o,s,g){var m=o&&o.prototype instanceof J?o:J,d=Object.create(m.prototype),y=new I(g||[]);return $(d,"_invoke",{value:te(l,s,y)}),d}function E(l,o,s){try{return{type:"normal",arg:l.call(o,s)}}catch(g){return{type:"throw",arg:g}}}L.wrap=pe;var ue="suspendedStart",ie="suspendedYield",X="executing",oe="completed",O={};function J(){}function Z(){}function j(){}var se={};D(se,H,function(){return this});var le=Object.getPrototypeOf,G=le&&le(le(ce([])));G&&G!==me&&R.call(G,H)&&(se=G);var Y=j.prototype=J.prototype=Object.create(se);function Le(l){["next","throw","return"].forEach(function(o){D(l,o,function(s){return this._invoke(o,s)})})}function ee(l,o){function s(m,d,y,P){var S=E(l[m],l,d);if(S.type!=="throw"){var A=S.arg,F=A.value;return F&&p(F)=="object"&&R.call(F,"__await")?o.resolve(F.__await).then(function(B){s("next",B,y,P)},function(B){s("throw",B,y,P)}):o.resolve(F).then(function(B){A.value=B,y(A)},function(B){return s("throw",B,y,P)})}P(S.arg)}var g;$(this,"_invoke",{value:function(d,y){function P(){return new o(function(S,A){s(d,y,S,A)})}return g=g?g.then(P,P):P()}})}function te(l,o,s){var g=ue;return function(m,d){if(g===X)throw Error("Generator is already running");if(g===oe){if(m==="throw")throw d;return{value:x,done:!0}}for(s.method=m,s.arg=d;;){var y=s.delegate;if(y){var P=U(y,s);if(P){if(P===O)continue;return P}}if(s.method==="next")s.sent=s._sent=s.arg;else if(s.method==="throw"){if(g===ue)throw g=oe,s.arg;s.dispatchException(s.arg)}else s.method==="return"&&s.abrupt("return",s.arg);g=X;var S=E(l,o,s);if(S.type==="normal"){if(g=s.done?oe:ie,S.arg===O)continue;return{value:S.arg,done:s.done}}S.type==="throw"&&(g=oe,s.method="throw",s.arg=S.arg)}}}function U(l,o){var s=o.method,g=l.iterator[s];if(g===x)return o.delegate=null,s==="throw"&&l.iterator.return&&(o.method="return",o.arg=x,U(l,o),o.method==="throw")||s!=="return"&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+s+"' method")),O;var m=E(g,l.iterator,o.arg);if(m.type==="throw")return o.method="throw",o.arg=m.arg,o.delegate=null,O;var d=m.arg;return d?d.done?(o[l.resultName]=d.value,o.next=l.nextLoc,o.method!=="return"&&(o.method="next",o.arg=x),o.delegate=null,O):d:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,O)}function q(l){var o={tryLoc:l[0]};1 in l&&(o.catchLoc=l[1]),2 in l&&(o.finallyLoc=l[2],o.afterLoc=l[3]),this.tryEntries.push(o)}function ne(l){var o=l.completion||{};o.type="normal",delete o.arg,l.completion=o}function I(l){this.tryEntries=[{tryLoc:"root"}],l.forEach(q,this),this.reset(!0)}function ce(l){if(l||l===""){var o=l[H];if(o)return o.call(l);if(typeof l.next=="function")return l;if(!isNaN(l.length)){var s=-1,g=function m(){for(;++s<l.length;)if(R.call(l,s))return m.value=l[s],m.done=!1,m;return m.value=x,m.done=!0,m};return g.next=g}}throw new TypeError(p(l)+" is not iterable")}return Z.prototype=j,$(Y,"constructor",{value:j,configurable:!0}),$(j,"constructor",{value:Z,configurable:!0}),Z.displayName=D(j,ae,"GeneratorFunction"),L.isGeneratorFunction=function(l){var o=typeof l=="function"&&l.constructor;return!!o&&(o===Z||(o.displayName||o.name)==="GeneratorFunction")},L.mark=function(l){return Object.setPrototypeOf?Object.setPrototypeOf(l,j):(l.__proto__=j,D(l,ae,"GeneratorFunction")),l.prototype=Object.create(Y),l},L.awrap=function(l){return{__await:l}},Le(ee.prototype),D(ee.prototype,Xe,function(){return this}),L.AsyncIterator=ee,L.async=function(l,o,s,g,m){m===void 0&&(m=Promise);var d=new ee(pe(l,o,s,g),m);return L.isGeneratorFunction(o)?d:d.next().then(function(y){return y.done?y.value:d.next()})},Le(Y),D(Y,ae,"Generator"),D(Y,H,function(){return this}),D(Y,"toString",function(){return"[object Generator]"}),L.keys=function(l){var o=Object(l),s=[];for(var g in o)s.push(g);return s.reverse(),function m(){for(;s.length;){var d=s.pop();if(d in o)return m.value=d,m.done=!1,m}return m.done=!0,m}},L.values=ce,I.prototype={constructor:I,reset:function(o){if(this.prev=0,this.next=0,this.sent=this._sent=x,this.done=!1,this.delegate=null,this.method="next",this.arg=x,this.tryEntries.forEach(ne),!o)for(var s in this)s.charAt(0)==="t"&&R.call(this,s)&&!isNaN(+s.slice(1))&&(this[s]=x)},stop:function(){this.done=!0;var o=this.tryEntries[0].completion;if(o.type==="throw")throw o.arg;return this.rval},dispatchException:function(o){if(this.done)throw o;var s=this;function g(A,F){return y.type="throw",y.arg=o,s.next=A,F&&(s.method="next",s.arg=x),!!F}for(var m=this.tryEntries.length-1;m>=0;--m){var d=this.tryEntries[m],y=d.completion;if(d.tryLoc==="root")return g("end");if(d.tryLoc<=this.prev){var P=R.call(d,"catchLoc"),S=R.call(d,"finallyLoc");if(P&&S){if(this.prev<d.catchLoc)return g(d.catchLoc,!0);if(this.prev<d.finallyLoc)return g(d.finallyLoc)}else if(P){if(this.prev<d.catchLoc)return g(d.catchLoc,!0)}else{if(!S)throw Error("try statement without catch or finally");if(this.prev<d.finallyLoc)return g(d.finallyLoc)}}}},abrupt:function(o,s){for(var g=this.tryEntries.length-1;g>=0;--g){var m=this.tryEntries[g];if(m.tryLoc<=this.prev&&R.call(m,"finallyLoc")&&this.prev<m.finallyLoc){var d=m;break}}d&&(o==="break"||o==="continue")&&d.tryLoc<=s&&s<=d.finallyLoc&&(d=null);var y=d?d.completion:{};return y.type=o,y.arg=s,d?(this.method="next",this.next=d.finallyLoc,O):this.complete(y)},complete:function(o,s){if(o.type==="throw")throw o.arg;return o.type==="break"||o.type==="continue"?this.next=o.arg:o.type==="return"?(this.rval=this.arg=o.arg,this.method="return",this.next="end"):o.type==="normal"&&s&&(this.next=s),O},finish:function(o){for(var s=this.tryEntries.length-1;s>=0;--s){var g=this.tryEntries[s];if(g.finallyLoc===o)return this.complete(g.completion,g.afterLoc),ne(g),O}},catch:function(o){for(var s=this.tryEntries.length-1;s>=0;--s){var g=this.tryEntries[s];if(g.tryLoc===o){var m=g.completion;if(m.type==="throw"){var d=m.arg;ne(g)}return d}}throw Error("illegal catch attempt")},delegateYield:function(o,s,g){return this.delegate={iterator:ce(o),resultName:s,nextLoc:g},this.method==="next"&&(this.arg=x),O}},L}v.exports=K,v.exports.__esModule=!0,v.exports.default=v.exports},8698:v=>{function h(T){"@babel/helpers - typeof";return v.exports=h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},v.exports.__esModule=!0,v.exports.default=v.exports,h(T)}v.exports=h,v.exports.__esModule=!0,v.exports.default=v.exports},4687:(v,h,T)=>{var p=T(7061)();v.exports=p;try{regeneratorRuntime=p}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=p:Function("r","regeneratorRuntime = r")(p)}}},ze={};function V(v){var h=ze[v];if(h!==void 0)return h.exports;var T=ze[v]={exports:{}};return en[v](T,T.exports,V),T.exports}V.n=v=>{var h=v&&v.__esModule?()=>v.default:()=>v;return V.d(h,{a:h}),h},V.d=(v,h)=>{for(var T in h)V.o(h,T)&&!V.o(v,T)&&Object.defineProperty(v,T,{enumerable:!0,get:h[T]})},V.o=(v,h)=>Object.prototype.hasOwnProperty.call(v,h);var xr={};(()=>{"use strict";function v(e,t,n,r,a,u,i){try{var c=e[u](i),f=c.value}catch(b){return void n(b)}c.done?t(f):Promise.resolve(f).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var u=e.apply(t,n);function i(f){v(u,r,a,i,c,"next",f)}function c(f){v(u,r,a,i,c,"throw",f)}i(void 0)})}}var T=V(4687),p=V.n(T);function K(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new Promise(function(r){var a=e.querySelector(t);if(a){r(a);return}var u=new MutationObserver(c);u.observe(e,{childList:!0,subtree:!0});var i=null;n&&(i=setTimeout(function(){u.disconnect(),console.log("No element found for selector: ".concat(t)),r(null)},n));function c(){e.querySelector(t)&&(i&&clearTimeout(i),u.disconnect(),r(e.querySelector(t)))}})}function x(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,n;return function(){for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];clearTimeout(n),n=setTimeout(function(){return e.apply(void 0,a)},t)}}function L(e){if(Array.isArray(e))return e}function me(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,u,i,c=[],f=!0,b=!1;try{if(u=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=u.call(n)).done)&&(c.push(r.value),c.length!==t);f=!0);}catch(w){b=!0,a=w}finally{try{if(!f&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(b)throw a}}return c}}function R(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function $(e,t){if(e){if(typeof e=="string")return R(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function re(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H(e,t){return L(e)||me(e,t)||$(e,t)||re()}function Xe(e){return e.replace(/\D/g,"")}function ae(e){return e.replace(/[^\d.,-]/g,"")}function D(e){return e.replace(/\s/g,"")}function pe(e){return e.charAt(0).toUpperCase()+e.slice(1)}function E(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=t.querySelector(e);return n&&!r&&console.log("No element found for selector: ".concat(e)),r}function ue(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=t.querySelectorAll(e);return n&&!r.length&&console.log("No elements found for selector: ".concat(e)),r}function ie(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=E(t,e,!0),u=X(a,n,r);return u}function X(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(!e)if(r===null)console.log("No element found");else return r;var a=e.innerText;return J(a,t,n)}function oe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e[t],a=X(r,n);return a}function O(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e.textContent;return J(r,t,n)}function J(e,t,n){t&&(e=ae(e)),n&&(e=e.replace(",","."));var r=+e;return r}function Z(e,t){Object.entries(t).forEach(function(n){var r=H(n,2),a=r[0],u=r[1];e.style[a]=u})}function j(e,t,n){var r=G("text",e,t);return r.value=n,r}function se(e,t,n,r,a,u){var i=G("number",e,t);return i.value=n,i.step=r,i.min=a,i.max=u,i}function le(e,t,n){var r=G("checkbox",e,t);return r.checked=n,r}function G(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=document.createElement("input");return e&&(r.type=e),t&&(r.addEventListener("keyup",x(t,200)),r.addEventListener("change",x(t,100))),n&&(r.style=n),r}function Y(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return q("span",e,t)}function Le(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=q("a",e,t);return n&&(r.href=n),r}function ee(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=q("button",e,t);return n&&(r.onclick=n),r}function te(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=document.createElement("div");return e&&(n.textContent=e),t&&(n.style=t),n}function U(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return q("div",e,t)}function q(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=document.createElement(e);return Object.keys(t).length>0&&Z(r,t),n&&(r.innerHTML=n),r}function ne(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"customFiltersContainer",a=E("#".concat(r),e);if(a)if(n)a.remove();else return;a=U(),a.id=r,t(a,e)}function I(e){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(e)}function ce(e,t){if(I(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(I(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l(e){var t=ce(e,"string");return I(t)=="symbol"?t:t+""}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){if(t&&(I(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(e)}function P(e,t){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},P(e,t)}function S(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}function A(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=s(function e(t,n){var r=this;g(this,e),A(this,"onChangeIfDefined",function(){r.onChange&&r.onChange()}),this.value=t,this.onChange=n});function B(e){var t=e.target,n=t.type;switch(n){case"text":return'"'.concat(t.value,'"');case"number":return t.value;case"checkbox":return t.checked;default:return console.log("Unknown input type: ".concat(n)),null}}function tn(e){return e===""?null:JSON.parse(e)}function nn(e,t,n){return t=y(t),d(e,Je()?Reflect.construct(t,n||[],y(e).constructor):t.apply(e,n))}function Je(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Je=function(){return!!e})()}var ve=window.GM_setValue,rn=window.GM.setValue,he=window.GM_getValue,Lr=window.GM_addValueChangeListener,M=function(e){function t(n){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return g(this,t),r=nn(this,t,[he(n,a),u]),A(r,"updateValueFromEvent",function(i){var c=B(i),f=tn(c);r.value!==f&&(ve(r.storageKey,f),r.value=f,r.onChangeIfDefined())}),r.storageKey=n,r}return S(t,e),s(t)}(F);function an(e){for(var t=2166136261,n=16777619,r=t,a=0;a<e.length;a+=1){var u=e.charCodeAt(a);r^=u,r=Math.imul(r,n)}return(r>>>0).toString(16).padStart(8,"0")}function Ze(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=window.location.pathname;return Re(r,e,t,n)}function Re(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=e.split("/"),u=a[t]||n;return r&&console.log("Pathname element: ".concat(u)),u}function un(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=Ze(e,"",n);return et(r,t,n)}function et(e,t,n){if(!e)return t;var r=e.split("-").at(-1);return n&&console.log("Pathname element ending: ".concat(r)),r}function Rr(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"common",r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=Re(e,t,"",r);return et(a,n,r)}function Dr(e){var t=window.location.search;return on(t,e)}function on(e,t){var n=new URLSearchParams(e);return n.get(t)}function sn(e){return window.location.pathname.includes(e)}function ye(e){var t=window.location.pathname.split("/");return t.some(function(n){return n===e})}function tt(e,t){return!ln(e,t)}function ln(e,t){if(!t.value)return!0;var n=e.toLowerCase(),r=t.value.toLowerCase().split(",").map(function(c){return c.trim()}),a=r.reduce(function(c,f){if(!f.startsWith("!"))c.include.push(f);else{var b=f.substring(1);b.length&&c.notInclude.push(b)}return c},{include:[],notInclude:[]}),u=a.include,i=a.notInclude;return u.every(function(c){return n.includes(c)})&&i.every(function(c){return!n.includes(c)})}function nt(e,t){return t.value&&e<t.value}function cn(e,t){return t.value&&e>t.value}function rt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=te(e,n),u=j(t.updateValueFromEvent,r,t.value);return a.append(u),a}function W(e,t,n,r,a){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,i=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,c=te(e,u),f=se(t.updateValueFromEvent,i,t.value,n,r,a);return c.append(f),c}function be(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=te(e,n),u=le(t.updateValueFromEvent,r,t.value);return a.append(u),a}function at(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return rt("\u0421\u043E\u0434\u0435\u0440\u0436\u0438\u0442: ",e,t,n)}function Or(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return rt("\u041F\u0440\u043E\u0434\u0430\u0432\u0435\u0446: ",e,t,n)}function fn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.1;return W("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",e,r,3,5,t,n)}function gn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return ut("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",e,t,n)}function dn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return ut("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",e,t,n)}function ut(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return W(e,t,"1","1","999999",n,r)}function Ar(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return it("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",e,t,n)}function kr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return it("\u0421\u043A\u0438\u0434\u043A\u0430: ",e,t,n)}function it(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return W(e,t,"5","0","100",n,r)}function Nr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return W("\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u043E \u0433\u043E\u043B\u043E\u0441\u043E\u0432: ",e,"50","0","10000",t,n)}function Ir(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return W("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",e,"5","0","100",t,n)}function ot(e,t,n,r,a){return W(e,t,a,"0","1000000",n,r)}function Fr(e,t,n){return W("\u041A\u0443\u043F\u043E\u043D: ",e,"500","0","100000",t,n)}function Mr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"250";return ot("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",e,t,n,r)}function Vr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return ot("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430 \u0441\u043E \u0441\u043A\u0438\u0434\u043A\u043E\u0439: ",e,t,n,"250")}function Hr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return be("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",e,t,n)}function st(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return be("\u0412\u043A\u043B: ",e,t,n)}function jr(e,t){e.parentNode.insertBefore(t,e.nextSibling)}function lt(e){gt(e),ct(e,"none")}function De(e,t){t=t||ft(e),ct(e,t)}function Oe(e,t,n){t?lt(e):(n=n||ft(e),De(e,n))}function ct(e,t){e.style.display=t}function ft(e){return gt(e),e.getAttribute("display")}function gt(e){if(!e.hasAttribute("display")){var t=getComputedStyle(e),n=t.display;e.setAttribute("display",n)}}function Ur(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.2;t?pn(e,n):mn(e)}function mn(e){e.style.opacity=""}function pn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.2;e.style.opacity=t}function Br(e){e.style.order=""}function Gr(e,t){e.style.order=t}function Yr(e,t){e.style.background=t}function Wr(e){var t=document.createElement("style");t.type="text/css",t.textContent=e,document.head.appendChild(t)}var vn=".favorites-card__brand-wrap",dt="margin-left: 4px;",we=dt+"width: 60px;",mt=dt+"width: 180px;",k="display: flex;align-items: center;",_e="margin-left: 5px;width: 25px;height: 25px;";function pt(e){e.style="display: flex;grid-gap: 15px;margin-top: 14px;"}function hn(e){var t=e.getAttribute("href");return Re(t,4,"")}function vt(e,t){return E(t.WALLET_PRICE,e)||E(t.PRICE,e)}var yn=".filters-block__wrap",bn=".product-card-list",wn=".product-card",_n=".product-card__brand-wrap",Pn=".product-card__count",En=".address-rate-mini",Sn=".price__lower-price",ht="priceU",fe=Cn(),yt=new M("".concat(fe,"-name-filter"),null,Q),bt=new M("".concat(fe,"-min-reviews-filter"),null,Q),wt=new M("".concat(fe,"-max-reviews-filter"),null,Q),_t=new M("".concat(fe,"-min-rating-filter"),4.8,Q),Pt=new M("".concat(fe,"-filter-enabled"),!0,Q),Pe=St(),Et=function(){return"\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u0430\u044F \u0446\u0435\u043D\u0430: ".concat(Pe)};function Cn(){var e=ye("brands")?2:3,t=Ze(e,""),n;return t&&t!=="search.aspx"?n=an(t):n="common",n}function St(){var e=new URLSearchParams(window.location.search);if(!e.has(ht))return 0;var t=e.get(ht),n=t.split(";"),r=n[0],a=r/100;return a}function Tn(){K(document,yn).then(function(e){xn(),ne(e,Ln),Q();var t=E(bn),n=new MutationObserver(x(Q,150));n.observe(t,{childList:!0})})}function xn(){var e=E(".j-recent-items");if(e){var t=e.parentNode;t.remove()}}function Ln(e,t){pt(e);var n=k+"margin-right: 37px;",r=at(yt,k,mt),a=gn(bt,k,we),u=dn(wt,k,we),i=fn(_t,k,we),c=te(Et(),n),f=st(Pt,k,_e);setInterval(function(){return Rn(c)},500),e.append(r,a,u,i,c,f),t.append(e)}function Rn(e){var t=St();Pe!==t&&(Pe=t,e.textContent=Et())}function Kr(){waitForElement(document,".pagination",1e4).then(function(e){var t=new MutationObserver(function(){return Dn(e)});t.observe(e,{childList:!0,subtree:!0})})}function Dn(e){var t=getFirstElement(".paginationCopy");t&&t.remove(),t=e.cloneNode(!0),t.classList.add("paginationCopy"),t.style.margin="-15px 0 20px";var n=getFirstElement(".catalog-page__main");n.parentNode.insertBefore(t,n)}function Q(){var e=ue(wn);e.forEach(function(t){if(!Pt.value){De(t);return}var n=E(_n,t),r=n.innerText;n.title=r,n.style.whiteSpace="normal";var a=ie(t,Pn,!0),u=ie(t,En,!0,!0),i=ie(t,Sn,!0),c=tt(r,yt)||nt(a,bt)||cn(a,wt)||nt(u,_t)||i<Pe;Oe(t,c)})}var Ct="appendPriceHistoryPassed",Ae="appendStoredPriceValuesPassed",Ee="currentPrice",Se="lowestPrice",ke="goodPrice",Ne=function(){function e(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Date.now(),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};g(this,e),A(this,"updateLastCheckDate",function(){t.lastCheckDate=Date.now()}),this.lastCheckDate=n,this.lowestPrice=r,this.highestPrice=a,this.priceHistory=u}return s(e,[{key:"lowestPriceValue",get:function(){return this.lowestPrice?this.lowestPrice.value:0}},{key:"highestPriceValue",get:function(){return this.highestPrice?this.highestPrice.value:0}}],[{key:"fromObject",value:function(n){var r=n.lastCheckDate,a=n.lowestPrice,u=n.highestPrice,i=n.priceHistory;return new e(r,a,u,i)}}])}();function On(e,t,n){return t=y(t),d(e,Tt()?Reflect.construct(t,n||[],y(e).constructor):t.apply(e,n))}function Tt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tt=function(){return!!e})()}var An=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Date.now(),a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;return g(this,t),n=On(this,t,[r,a,u,i]),n.rating=c,n}return S(t,e),s(t,null,[{key:"fromObject",value:function(r){var a=r.lastCheckDate,u=r.lowestPrice,i=r.highestPrice,c=r.priceHistory,f=r.rating;return new t(a,u,i,c,f)}}])}(Ne),kn=s(function e(t,n,r){g(this,e),this.current=t,this.lowest=n,this.highest=r});function xt(){var e=new Date;return e.setHours(0,0,0,0),e.getTime()}function Nn(e){return new Date(e).toLocaleDateString()}function In(e){var t=new Date;return t.setMonth(t.getMonth()-e),t}var Fn=s(function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xt();g(this,e),this.value=t,this.date=n}),Mn=["table","tr","th","td"],Ce=Object.fromEntries(Mn.map(function(e){return["create".concat(pe(e)),function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return q(e,t,n)}]})),Vn=Ce.createTable,Lt=Ce.createTr,Hn=Ce.createTh,jn=Ce.createTd;function Un(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=Vn(e),u=Lt(t);return r.forEach(function(i){var c=Hn(n,i);u.appendChild(c)}),a.appendChild(u),a}function Bn(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:50,r=Math.abs(e-t)/e*100,a=Math.min(1,Math.max(0,r/n)),u=e>t?0:90,i=100,c=35;return"hsla(".concat(u,", ").concat(i,"%, ").concat(c,"%, ").concat(a,")")}var Rt={position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"1px solid #ccc",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",maxWidth:"80%",maxHeight:"70%",zIndex:"1000"},Dt={margin:"40px 0 30px",padding:"5px 25px 0",overflowY:"auto",maxHeight:"calc(70vh - 75px)"},Gn={position:"absolute",padding:"0",top:"0px",right:"11px",fontFamily:"system-ui",fontSize:"24px",cursor:"pointer",color:"#000",border:"none",background:"none"},Te=null;function Yn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rt,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dt,r=Kn(e,t,n);Wn(r)}function Wn(e){return Te&&Ie(Te),Te=e,document.addEventListener("click",function(t){return Ot(t,e)}),e.addEventListener("click",function(t){t.stopPropagation()}),document.body.appendChild(e),e}function Kn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rt,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Dt,r=U(t),a=$n(r);r.appendChild(a);var u=U(n);return e&&u.appendChild(e),r.appendChild(u),r}function $n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gn,n=ee(t,"\xD7");return n.addEventListener("click",function(){Ie(e)}),n}function Ie(e){e.remove(),document.removeEventListener("click",function(t){return Ot(t,e)}),Te=null}function Ot(e,t){t.contains(e.target)||Ie(t)}function qn(e){var t=e.slice().sort(function(r,a){return r-a}),n=Math.floor(t.length/2);return t.length%2!==0?t[n]:(t[n-1]+t[n])/2}function At(e){return"".concat(e.toLocaleString()," \u20BD")}function kt(e,t,n){return Fe.apply(this,arguments)}function Fe(){return Fe=h(p().mark(function e(t,n,r){var a,u,i,c,f,b,w,C,N;return p().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(a=X(n,!0),a){_.next=3;break}return _.abrupt("return",null);case 3:return u="product-".concat(r),i=he(u),c=Qn(i),f="lowestPrice",b="highestPrice",c=Nt(c,f,function(de){return a<=de.value},a,"\u041C\u0438\u043D. \u0446\u0435\u043D\u0430","#d6f5b1",t),c=Nt(c,b,function(de){return a>=de.value},a,"\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430","#fed2ea",t),c=Jn(c,a),c.updateLastCheckDate(),w=c,C=w.lowestPriceValue,N=w.highestPriceValue,_.next=15,rn(u,c);case 15:return _.abrupt("return",new kn(a,C,N));case 16:case"end":return _.stop()}},e)})),Fe.apply(this,arguments)}function Qn(e){return e?e.rating?An.fromObject(e):Ne.fromObject(e):new Ne}function Nt(e,t,n,r,a,u,i){var c=e[t];if(r){if(!c||n(c)){var f=new Fn(r);e[t]=f,c=f}}else if(!c)return e;var b=e.priceHistory;return zn(a,c,u,i,b,r),e}function zn(e,t,n,r,a,u){var i="".concat(e,": "),c={color:"#000",fontSize:"16px",padding:"17px 0px 7px"},f=U(c,i),b=At(t.value),w={fontWeight:"bold",padding:"6px 12px",borderRadius:"8px",cursor:"pointer",background:n},C=Y(w,b);C.addEventListener("mouseover",function(){C.textContent=Nn(t.date)}),C.addEventListener("mouseleave",function(){C.textContent=b}),C.addEventListener("click",function(N){N.stopPropagation(),N.preventDefault(),Xn(a,u)}),f.append(C),r.parentNode.append(f)}function Xn(e,t){var n={width:"100%",borderCollapse:"collapse"},r={borderTop:"1px solid #ccc"},a={padding:"8px",textAlign:"left"},u={borderTop:"1px solid #ccc"},i={padding:"8px"},c={padding:"0px 8px 12px",fontSize:"20px"},f=["\u0414\u0430\u0442\u0430","\u041C\u0438\u043D. \u0446\u0435\u043D\u0430","\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430"],b=Un(n,r,a,f),w=[],C=In(6);Object.entries(e).reverse().forEach(function(Pr){var Kt=H(Pr,2),Er=Kt[0],$t=Kt[1],qt=$t.lowest,Qt=$t.highest,zt=new Date(+Er);zt>=C&&w.push(qt,Qt);var Sr=zt.toLocaleDateString(),Cr=[Sr,qt,Qt],Xt=Lt(u);Cr.forEach(function(Jt,Tr){var Zt=jn(i,Jt);Tr!==0&&(Zt.style.background=Bn(Jt,t)),Xt.appendChild(Zt)}),b.appendChild(Xt)});var N=qn(w);console.log(N);var ge=U(),_="\u041C\u0435\u0434\u0438\u0430\u043D\u0430 \u0437\u0430 6 \u043C\u0435\u0441: ".concat(At(N)),de=U(c,_);ge.appendChild(de),ge.appendChild(b),Yn(ge)}function Jn(e,t){var n,r,a=e.priceHistory,u=xt(),i=a[u]||{},c=Math.min((n=i.lowest)!==null&&n!==void 0?n:t,t),f=Math.max((r=i.highest)!==null&&r!==void 0?r:t,t);return e.priceHistory[u]={lowest:c,highest:f},e}function It(e,t,n){var r=t.getAttribute(Ee),a=t.getAttribute(Se),u=1+n/100,i=a*u;if(r<=i)e.style.border="3px solid rgb(214, 245, 177)",e.style.borderRadius="14px",e.style.padding="4px 10px 6px",e.style.marginBottom="5px",e.style.width="-webkit-fill-available",t.setAttribute(ke,"");else{var c=["border","borderRadius","padding","marginBottom","width"];c.forEach(function(f){return e.style.removeProperty(f)}),t.removeAttribute(ke)}}function $r(e){for(var t={},n=0;n<e;n++){var r=Date.now()-n*1e3*60,a=Math.floor(Math.random()*100)+50,u=a+Math.floor(Math.random()*50)+50;t[r]={lowest:a,highest:u}}return t}var Me={SIDE_CONTAINER:".product-page__aside-container",PRICE_CONTAINER:".price-block__content",WALLET_PRICE:".price-block__wallet-price",PRICE:".price-block__price"};function Zn(){return Ve.apply(this,arguments)}function Ve(){return Ve=h(p().mark(function e(){return p().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,er();case 2:case"end":return n.stop()}},e)})),Ve.apply(this,arguments)}function er(){return He.apply(this,arguments)}function He(){return He=h(p().mark(function e(){var t,n,r,a;return p().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,K(document,Me.SIDE_CONTAINER);case 2:if(t=i.sent,t){i.next=5;break}return i.abrupt("return");case 5:if(n=E(Me.PRICE_CONTAINER,t),n){i.next=8;break}return i.abrupt("return");case 8:if(r=vt(n,Me),r){i.next=11;break}return i.abrupt("return");case 11:return a=nr(),i.next=14,tr(n,r,a);case 14:case"end":return i.stop()}},e)})),He.apply(this,arguments)}function tr(e,t,n){return je.apply(this,arguments)}function je(){return je=h(p().mark(function e(t,n,r){var a;return p().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(a=t.parentNode,!a.hasAttribute(Ct)){i.next=3;break}return i.abrupt("return");case 3:return i.next=5,kt(t,n,r);case 5:a.setAttribute(Ct,"");case 6:case"end":return i.stop()}},e)})),je.apply(this,arguments)}function nr(){return un(2,"unknown")}function rr(e){if(Array.isArray(e))return R(e)}function ar(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ur(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ir(e){return rr(e)||ar(e)||$(e)||ur()}var xe={FILTER_CONTAINER:".favorites-goods__head",PRODUCT_LIST_CONTAINER:".favorites-goods",PRODUCT_CARDS:".favorites-goods__list > .goods-card",WALLET_PRICE:".wallet-price",PRICE:".goods-card__price-now"},Ft=new M("favorites-name-filter",null,z),Mt=new M("best-price-filter",!1,z),or=function(){return z(!0)},Ue=new M("price-tolerance-percent",3,or),Vt=new M("in-stock-only-filter",!0,z),Ht=new M("favorites-filter-enabled",!0,z),jt=Promise.resolve();function sr(){return Be.apply(this,arguments)}function Be(){return Be=h(p().mark(function e(){var t,n,r;return p().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,K(document,xe.FILTER_CONTAINER);case 2:return t=u.sent,ne(t,lr),u.next=6,z();case 6:n=new MutationObserver(x(z)),r=E(xe.PRODUCT_LIST_CONTAINER),n.observe(r,{childList:!0,subtree:!0});case 9:case"end":return u.stop()}},e)})),Be.apply(this,arguments)}function lr(e,t){pt(e);var n=at(Ft,k,mt),r=be("\u041B\u0443\u0447\u0448\u0430\u044F \u0446\u0435\u043D\u0430: ",Mt,k,_e),a=W("\u0414\u043E\u043F\u0443\u0441\u043A \u0446\u0435\u043D\u044B, %: ",Ue,1,0,100,k,we),u=be("\u0412 \u043D\u0430\u043B\u0438\u0447\u0438\u0438: ",Vt,k,_e),i=st(Ht,k,_e);e.append(n,r,a,u,i),t.append(e)}function z(){return Ge.apply(this,arguments)}function Ge(){return Ge=h(p().mark(function e(){var t,n=arguments;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t=n.length>0&&n[0]!==void 0?n[0]:!1,jt=jt.then(function(){return cr(t)});case 2:case"end":return a.stop()}},e)})),Ge.apply(this,arguments)}function cr(){return Ye.apply(this,arguments)}function Ye(){return Ye=h(p().mark(function e(){var t,n,r=arguments;return p().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return t=r.length>0&&r[0]!==void 0?r[0]:!1,n=ir(ue(xe.PRODUCT_CARDS)),u.next=4,Promise.all(n.map(function(){var i=h(p().mark(function c(f){var b,w,C,N;return p().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(Ht.value){_.next=3;break}return De(f),_.abrupt("return");case 3:if(b=E(".goods-card__price",f),b){_.next=7;break}return Oe(f,Vt.value),_.abrupt("return");case 7:return _.next=9,dr(f,b,t);case 9:if(w=E(vn,f),w){_.next=13;break}return lt(f),_.abrupt("return");case 13:C=w.innerText,w.title=C,N=tt(C,Ft)||mr(f),Oe(f,N);case 17:case"end":return _.stop()}},c)}));return function(c){return i.apply(this,arguments)}}()));case 4:case"end":return u.stop()}},e)})),Ye.apply(this,arguments)}function fr(e,t){return We.apply(this,arguments)}function We(){return We=h(p().mark(function e(t,n){var r,a;return p().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!t.hasAttribute(Ae)){i.next=2;break}return i.abrupt("return");case 2:if(r=E(".goods-card__out-stock",t),!r){i.next=6;break}return t.setAttribute(Ae,""),i.abrupt("return");case 6:return a=n.parentNode,i.next=9,gr(n,t,a);case 9:t.hasAttribute(Ee)&&t.hasAttribute(Se)&&It(a,t,Ue.value);case 10:case"end":return i.stop()}},e)})),We.apply(this,arguments)}function gr(e,t,n){return Ke.apply(this,arguments)}function Ke(){return Ke=h(p().mark(function e(t,n,r){var a,u,i,c,f;return p().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(u=vt(n,xe),i=E("a",n),!(!u||!i)){w.next=4;break}return w.abrupt("return");case 4:return c=hn(i),w.next=7,kt(t,u,c);case 7:f=w.sent,f&&(n.setAttribute(Ee,f.current),n.setAttribute(Se,f.lowest),r.style.display="block"),(a=E(".goods-card__similar",r))===null||a===void 0||a.remove(),n.setAttribute(Ae,"");case 11:case"end":return w.stop()}},e)})),Ke.apply(this,arguments)}function dr(e,t,n){return $e.apply(this,arguments)}function $e(){return $e=h(p().mark(function e(t,n,r){var a;return p().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fr(t,n);case 2:if(!(!r||!t.hasAttribute(Ee)||!t.hasAttribute(Se))){i.next=4;break}return i.abrupt("return");case 4:a=n.parentNode,It(a,t,Ue.value);case 6:case"end":return i.stop()}},e)})),$e.apply(this,arguments)}function mr(e){return Mt.value?!e.hasAttribute(ke):!1}var Ut=window.GM_listValues;function pr(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=he("dbVersion");r!==t&&(e(),!n&&ve("dbVersion",t))}function qr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=Ut();Gt(n,e,t)}function Bt(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=Ut(),a=r.filter(e);Gt(a,t,n)}function Gt(e,t,n){var r=0;e.forEach(function(a){var u=he(a);n&&console.log("".concat(a,": ").concat(u)),t(a,u),r+=1}),n&&console.log("Total entries processed: ".concat(r))}function Qr(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=function(a){t||window.GM_deleteValue(a)};Bt(e,n)}var vr=1;function hr(){pr(yr,vr,!1)}function yr(){var e=function(r){return r.startsWith("product-")},t=function(r,a){br(r,"lastCheckDate",a),Yt(r,"lowestPrice",a),Yt(r,"highestPrice",a)};Bt(e,t,!0)}function br(e,t,n){var r=n[t];if(r){var a=r.split(".").map(Number),u=H(a,3),i=u[0],c=u[1],f=u[2],b=new Date(f,c-1,i),w=b.getTime();n[t]=w,ve(e,n)}}function Yt(e,t,n){var r=n[t];if(r){var a=r.date,u=a.split(".").map(Number),i=H(u,3),c=i[0],f=i[1],b=i[2],w=new Date(b,f-1,c),C=w.getTime();r.date=C,n[t]=r,ve(e,n)}}hr(),function(){var t=document,n=t.head,r=new MutationObserver(x(wr,750));r.observe(n,{childList:!0})}();var Wt=Promise.resolve();function wr(){return qe.apply(this,arguments)}function qe(){return qe=h(p().mark(function e(){return p().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:Wt=Wt.then(_r);case 1:case"end":return n.stop()}},e)})),qe.apply(this,arguments)}function _r(){return Qe.apply(this,arguments)}function Qe(){return Qe=h(p().mark(function e(){return p().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!(ye("catalog")||ye("brands"))){n.next=10;break}if(!sn("detail")){n.next=7;break}return n.next=5,Zn();case 5:n.next=8;break;case 7:Tn();case 8:n.next=13;break;case 10:if(!ye("favorites")){n.next=13;break}return n.next=13,sr();case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),console.error("Error in initMods:",n.t0);case 18:case"end":return n.stop()}},e,null,[[0,15]])})),Qe.apply(this,arguments)}})()})();})();
