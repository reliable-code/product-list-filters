// ==UserScript==
// @name         Ozon enhancer
// @description  Hide product cards by filter, enhance product page, store price history & rating
// @grant        GM_addStyle
// @grant        GM_deleteValue
// @grant        GM_listValues
// @grant        GM_addValueChangeListener
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://www.ozon.ru/*
// @namespace    https://github.com/reliable-code/product-list-filters
// @version      2.0.73628133
// @icon         https://www.google.com/s2/favicons?sz=64&domain=ozon.ru
// @author       reliable-code
// ==/UserScript==

(()=>{(()=>{var Ys={1474:(ut,X,x)=>{"use strict";x.d(X,{GJ:()=>D,fS:()=>S,zy:()=>c});function c(){var T=new Date;return T.setHours(0,0,0,0),T.getTime()}function S(T){return new Date(T).toLocaleDateString()}function D(T){var F=new Date;return F.setMonth(F.getMonth()-T),F}},9944:(ut,X,x)=>{"use strict";x.d(X,{C:()=>T});var c=x(9085),S=x(7282),D=x(6598);c.ZP.register(S.Z);function T(F,W,V){var J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},at=(0,D.wC)(J),gt=document.createElement("canvas");return at.appendChild(gt),new c.ZP(gt,{type:F,data:W,options:V}),at}},6598:(ut,X,x)=>{"use strict";x.d(X,{Bt:()=>T,EW:()=>at,_B:()=>F,ax:()=>gt,az:()=>tt,dn:()=>W,kQ:()=>J,wC:()=>et});var c=x(1002),S=x(6576),D=x(1557);function T(z,q,bt){var Z=V(z,"text",q);return Z.value=bt,Z}function F(z,q,bt,Z,ht,I){var B=V(z,"number",q);return B.value=bt,B.step=Z,B.min=ht,B.max=I,B}function W(z,q,bt){var Z=V(z,"checkbox",q);return Z.checked=bt,Z}function V(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Z=tt("input",z);return q&&(Z.type=q),bt&&(Z.addEventListener("keyup",(0,S.Ds)(bt,200)),Z.addEventListener("change",(0,S.Ds)(bt,100))),Z}function J(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return tt("span",z,q)}function at(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Z=tt("a",z,q);return bt&&(Z.href=bt),Z}function gt(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Z=tt("button",z,q);return bt&&(Z.onclick=bt),Z}function et(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return tt("div",z,q)}function tt(z,q){var bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if((0,c.Z)(q)!=="object"||q===null)throw new TypeError("styles should be an object");var Z=document.createElement(z);return(0,D.Zs)(Z,q),bt&&(Z.innerHTML=bt),Z}},5261:(ut,X,x)=>{"use strict";x.d(X,{y8:()=>V});var c=x(6598),S={position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"1px solid #ccc",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",maxWidth:"60%",maxHeight:"75%",zIndex:"1000"},D={margin:"40px 0 30px",padding:"5px 25px 0",overflowY:"auto",maxHeight:"calc(75vh - 75px)"},T={position:"absolute",padding:"0",top:"0px",right:"11px",fontFamily:"system-ui",fontSize:"24px",cursor:"pointer",color:"#000",border:"none",background:"none",opacity:"1"},F={opacity:"0.6"},W=null;function V(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S,bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D,Z=at(z,q,bt);J(Z)}function J(z){return W&&et(W),W=z,document.addEventListener("click",function(q){return tt(q,z)}),z.addEventListener("click",function(q){q.stopPropagation()}),document.body.appendChild(z),z}function at(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S,bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D,Z=(0,c.wC)(q),ht=gt(Z);Z.appendChild(ht);var I=(0,c.wC)(bt);return z&&I.appendChild(z),Z.appendChild(I),Z}function gt(z){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T,bt=(0,c.ax)(q,"\xD7");bt.addEventListener("click",function(){et(z)});var Z=function(I){Object.assign(bt.style,I?F:T)};return bt.addEventListener("mouseenter",function(){return Z(!0)}),bt.addEventListener("mouseleave",function(){return Z(!1)}),bt}function et(z){z.remove(),document.removeEventListener("click",function(q){return tt(q,z)}),W=null}function tt(z,q){q.contains(z.target)||et(q)}},5694:(ut,X,x)=>{"use strict";x.d(X,{b3:()=>J,s_:()=>gt,yt:()=>et});var c=x(6598),S=x(1483),D=["table","thead","tbody","tr","th","td"],T=Object.fromEntries(D.map(function(tt){return["create".concat((0,S.kC)(tt)),function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return(0,c.az)(tt,z,q)}]})),F=T.createTable,W=T.createThead,V=T.createTbody,J=T.createTr,at=T.createTh,gt=T.createTd;function et(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},bt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Z=F(tt),ht=W(tt),I=V(tt),B=J(z);return bt.forEach(function(ot){var yt=at(q,ot);B.appendChild(yt)}),ht.appendChild(B),Z.appendChild(ht),Z.appendChild(I),Z}},1557:(ut,X,x)=>{"use strict";x.d(X,{DJ:()=>F,NI:()=>J,Zs:()=>tt,fZ:()=>W,qS:()=>D,qX:()=>at,tk:()=>T});var c=x(9062),S=x(1483);function D(Z){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return!!ht.querySelector(Z)}function T(Z){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,B=ht.querySelector(Z);return I&&!B&&console.log("No element found for selector: ".concat(Z)),B}function F(Z){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,B=ht.querySelectorAll(Z);return I&&!B.length&&console.log("No elements found for selector: ".concat(Z)),B}function W(Z,ht,I){return(0,c.Z)(Z.querySelectorAll(ht)).find(function(B){return B.textContent.trim().includes(I)})}function V(Z,ht){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,ot=T(ht,Z,!0),yt=J(ot,I,B);return yt}function J(Z){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(!Z)return B===null?(console.log("No element found"),null):B;var ot=Z.innerText;return et(ot,ht,I)}function at(Z,ht){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,B=Z[ht],ot=J(B,I);return ot}function gt(Z){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,B=Z.textContent;return et(B,ht,I)}function et(Z,ht,I){ht&&(Z=(0,S.g7)(Z)),I&&(Z=Z.replace(",","."));var B=+Z;return B}function tt(Z,ht){Object.assign(Z.style,ht)}function z(Z){return Object.entries(Z).map(function(ht){var I=_slicedToArray(ht,2),B=I[0],ot=I[1];return"".concat(B.replace(/([A-Z])/g,"-$1").toLowerCase(),": ").concat(ot,";")}).join(" ")}function q(Z){return Z?Z.split(";").filter(function(ht){return ht.trim()!==""}).reduce(function(ht,I){var B=I.split(":").map(function(Ht){return Ht.trim()}),ot=_slicedToArray(B,2),yt=ot[0],At=ot[1],Wt=yt.replace(/-([a-z])/g,function(Ht,Zt){return Zt.toUpperCase()});return ht[Wt]=At,ht},{}):{}}function bt(Z){var ht=function(B){return B.nodeType===Node.TEXT_NODE&&B.textContent.trim()!==""?[B]:_toConsumableArray(B.childNodes).flatMap(ht)};return ht(Z)}},9397:(ut,X,x)=>{"use strict";x.d(X,{BE:()=>S,OQ:()=>W,V_:()=>F,e6:()=>D});var c=x(6576);function S(I,B){I.parentNode.insertBefore(B,I.nextSibling)}function D(I){gt(I),J(I,"none")}function T(I){I.intersectionObserver||runOnceOnIntersection(I,function(){return D(I)})}function F(I){var B=at(I);J(I,B)}function W(I,B){B?D(I):F(I)}function V(I,B){B?T(I):(clearIntersectionObserver(I),F(I))}function J(I,B){I.style.display=B}function at(I){return gt(I),I.defaultDisplay}function gt(I){if(!I.defaultDisplay){var B=getComputedStyle(I),ot=B.display;I.defaultDisplay=ot}}function et(I,B){var ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.3;B?z(I,ot):tt(I)}function tt(I){I.style.opacity=""}function z(I){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.3;I.style.opacity=B}function q(I){I.style.order=""}function bt(I,B){I.style.order=B}function Z(I,B){I.style.background=B}function ht(I){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"custom-global-style",ot=document.getElementById(B);ot||(ot=document.createElement("style"),ot.id=B,ot.type="text/css",document.head.appendChild(ot)),ot.textContent=I}},6576:(ut,X,x)=>{"use strict";x.d(X,{Ds:()=>J,br:()=>T});var c=x(5861),S=x(4687),D=x.n(S);function T(et,tt){return F.apply(this,arguments)}function F(){return F=(0,c.Z)(D().mark(function et(tt,z){var q,bt,Z=arguments;return D().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(q=Z.length>2&&Z[2]!==void 0?Z[2]:null,bt=tt.querySelector(z),!bt){I.next=4;break}return I.abrupt("return",Promise.resolve(bt));case 4:return I.abrupt("return",new Promise(function(B){var ot=new MutationObserver(At);ot.observe(tt,{childList:!0,subtree:!0});var yt=null;q&&(yt=setTimeout(function(){ot.disconnect(),console.log("No element found for selector: ".concat(z)),B(null)},q));function At(){var Wt=tt.querySelector(z);Wt&&(yt&&clearTimeout(yt),ot.disconnect(),B(Wt))}}));case 5:case"end":return I.stop()}},et)})),F.apply(this,arguments)}function W(et,tt){return V.apply(this,arguments)}function V(){return V=_asyncToGenerator(_regeneratorRuntime.mark(function et(tt,z){var q;return _regeneratorRuntime.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(q=tt.querySelector(z),q){Z.next=3;break}return Z.abrupt("return",Promise.resolve());case 3:return Z.abrupt("return",new Promise(function(ht){var I=new MutationObserver(B);I.observe(tt,{childList:!0,subtree:!0});function B(){tt.querySelector(z)||(I.disconnect(),ht())}}));case 4:case"end":return Z.stop()}},et)})),V.apply(this,arguments)}function J(et){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,z;return function(){for(var q=arguments.length,bt=new Array(q),Z=0;Z<q;Z++)bt[Z]=arguments[Z];clearTimeout(z),z=setTimeout(function(){return et.apply(void 0,bt)},tt)}}function at(et,tt){var z=new IntersectionObserver(function(q){q.forEach(function(bt){bt.isIntersecting&&(tt(),gt(et))})});et.intersectionObserver=z,z.observe(et)}function gt(et){et.intersectionObserver&&(et.intersectionObserver.disconnect(),et.intersectionObserver=null)}},9144:(ut,X,x)=>{"use strict";x.d(X,{E1:()=>T,J2:()=>S,RC:()=>W,YY:()=>F});var c=x(2231);function S(V,J){return!D(V,J)}function D(V,J){if(!J.value)return!0;var at=V.toLowerCase(),gt=(0,c.W)(J),et=[],tt=[];return gt.forEach(function(z){if(z.startsWith("!")){var q=z.substring(1);q&&tt.push(q)}else et.push(z)}),et.every(function(z){return at.includes(z)})&&tt.every(function(z){return!at.includes(z)})}function T(V,J){return J.value!=null&&V<J.value}function F(V,J){return J.value!=null&&V>J.value}function W(V,J){return J.value!=null&&V!==J.value}},1928:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>S});var c=x(4830);function S(D){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return{createGlobalFilter:function(W){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D;return c.Yz.create(W,V,J)},createSectionFilter:function(W){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D;if(!T)throw new Error("sectionId must be provided to use createSectionFilter.");return c.Yz.createWithCompositeKey(T,W,V,J)}}}},2050:(ut,X,x)=>{"use strict";x.d(X,{XF:()=>T,Xi:()=>S,xy:()=>D});var c=x(6598);function S(F,W){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},at=(0,c.wC)(V,F),gt=(0,c.Bt)(J,W.updateValueFromEvent,W.value);return at.append(gt),at}function D(F,W,V,J,at){var gt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},et=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},tt=(0,c.wC)(gt,F),z=(0,c._B)(et,W.updateValueFromEvent,W.value,V,J,at);return tt.append(z),tt}function T(F,W){var V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},at=(0,c.wC)(V,F),gt=(0,c.dn)(J,W.updateValueFromEvent,W.value);return at.append(gt),at}},4868:(ut,X,x)=>{"use strict";x.d(X,{X:()=>W,r:()=>T});var c=x(1465),S=x(6598),D=x(5585);function T(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,S.wC)(V,"|")}function F(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:75,at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"customFiltersContainer",gt=document.getElementById(at);if(!gt)return console.log('Element with id="'.concat(at,'" not found.')),null;var et=(0,S.ax)(V,"".concat(D.Z,"\u041A \u0444\u0438\u043B\u044C\u0442\u0440\u0430\u043C"));return et.addEventListener("mouseover",function(){et.style.filter="brightness(0.9)"}),et.addEventListener("mouseout",function(){et.style.filter="brightness(1)"}),et.addEventListener("click",function(){var tt=gt.getBoundingClientRect();window.scrollTo({top:tt.top+window.scrollY-J})}),new IntersectionObserver(function(tt){var z=(0,c.Z)(tt,1),q=z[0];et.style.display=q.isIntersecting?"none":"flex"},{threshold:.5}).observe(gt),et}function W(V){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},at=F(J);at&&V.appendChild(at)}},5585:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>c});var c=`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up">
        <line x1="12" y1="19" x2="12" y2="5"></line>
        <polyline points="5 12 12 5 19 12"></polyline>
    </svg>`},6332:(ut,X,x)=>{"use strict";x.d(X,{Cf:()=>W,Pw:()=>Z,T5:()=>S,ZX:()=>q,b3:()=>bt,iz:()=>z,kc:()=>D,pN:()=>ht,tn:()=>F});var c=x(2050);function S(I){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,c.Xi)("\u041F\u043E\u0438\u0441\u043A: ",I,B,ot)}function D(I){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},yt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.1,At=arguments.length>4&&arguments[4]!==void 0?arguments[4]:3;return(0,c.xy)("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",I,yt,At,5,B,ot)}function T(I){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},yt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.1,At=arguments.length>4&&arguments[4]!==void 0?arguments[4]:3;return createNumberFilterControl("\u041C\u0430\u043A\u0441. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",I,yt,At,5,B,ot)}function F(I){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return V("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",I,B,ot)}function W(I){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return V("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",I,B,ot)}function V(I,B){var ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},yt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(0,c.xy)(I,B,"1","1","999999",ot,yt)}function J(I){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return at("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",I,B,ot)}function at(I,B){var ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},yt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return createNumberFilterControl(I,B,"5","0","100",ot,yt)}function gt(I){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return createNumberFilterControl("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",I,"5","0","100",B,ot)}function et(I,B){var ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},yt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},At=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"250";return(0,c.xy)(I,B,At,"0","1000000",ot,yt)}function tt(I){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},yt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"25";return et("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",I,B,ot,yt)}function z(I){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},yt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"25";return et("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",I,B,ot,yt)}function q(I,B){var ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},yt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(0,c.xy)(I,B,"1","0","99999",ot,yt)}function bt(I){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,c.XF)("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",I,B,ot)}function Z(I){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,c.XF)("\u0421 \u0444\u043E\u0442\u043E: ",I,B,ot)}function ht(I){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,c.XF)("\u0412\u043A\u043B: ",I,B,ot)}},2231:(ut,X,x)=>{"use strict";x.d(X,{W:()=>c,z:()=>S});function c(D){return D.value.toLowerCase().split(",").map(function(T){return T.trim()}).filter(function(T){return T!==""})}function S(D){return c(D).filter(function(T){return!T.startsWith("!")})}},7798:(ut,X,x)=>{"use strict";x.d(X,{C:()=>D});var c=x(6598),S=x(1557);function D(T,F){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"customFiltersContainer",J=(0,S.tk)("#".concat(V),T);if(J)if(W)J.remove();else return;J=(0,c.wC)(),J.id=V,F(J,T)}},8743:(ut,X,x)=>{"use strict";x.d(X,{r:()=>c});function c(D){var T=D.slice().sort(function(W,V){return W-V}),F=Math.floor(T.length/2);return T.length%2!==0?T[F]:(T[F-1]+T[F])/2}function S(D,T){return Math.random()*(T-D)+D}},8162:(ut,X,x)=>{"use strict";x.d(X,{u:()=>T});var c=x(3144),S=x(5671),D=x(1474),T=(0,c.Z)(function F(W){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(0,D.zy)();(0,S.Z)(this,F),this.value=W,this.date=V})},2022:(ut,X,x)=>{"use strict";x.d(X,{X:()=>D});var c=x(3144),S=x(5671),D=(0,c.Z)(function T(F,W,V){(0,S.Z)(this,T),this.current=F,this.lowest=W,this.highest=V})},1026:(ut,X,x)=>{"use strict";x.d(X,{e:()=>T});var c=x(5671),S=x(3144),D=x(4942),T=function(){function F(){var W=this,V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Date.now(),J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,gt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};(0,c.Z)(this,F),(0,D.Z)(this,"updateLastCheckDate",function(){W.lastCheckDate=Date.now()}),this.lastCheckDate=V,this.lowestPrice=J,this.highestPrice=at,this.priceHistory=gt}return(0,S.Z)(F,[{key:"lowestPriceValue",get:function(){return this.lowestPrice?this.lowestPrice.value:0}},{key:"highestPriceValue",get:function(){return this.highestPrice?this.highestPrice.value:0}}],[{key:"fromObject",value:function(V){var J=V.lastCheckDate,at=V.lowestPrice,gt=V.highestPrice,et=V.priceHistory;return new F(J,at,gt,et)}}])}()},3832:(ut,X,x)=>{"use strict";x.d(X,{u:()=>at});var c=x(5671),S=x(3144),D=x(2963),T=x(1120),F=x(136),W=x(1026);function V(gt,et,tt){return et=(0,T.Z)(et),(0,D.Z)(gt,J()?Reflect.construct(et,tt||[],(0,T.Z)(gt).constructor):et.apply(gt,tt))}function J(){try{var gt=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J=function(){return!!gt})()}var at=function(gt){function et(){var tt,z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Date.now(),q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ht=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;return(0,c.Z)(this,et),tt=V(this,et,[z,q,bt,Z]),tt.rating=ht,tt}return(0,F.Z)(et,gt),(0,S.Z)(et,null,[{key:"fromObject",value:function(z){var q=z.lastCheckDate,bt=z.lowestPrice,Z=z.highestPrice,ht=z.priceHistory,I=z.rating;return new et(q,bt,Z,ht,I)}}])}(W.e)},5433:(ut,X,x)=>{"use strict";x.d(X,{N:()=>c});var c={APPEND_PRICE_HISTORY_PASSED:"appendPriceHistoryPassed",CURRENT_PRICE:"currentPrice",LOWEST_PRICE:"lowestPrice",GOOD_PRICE:"goodPrice"}},7085:(ut,X,x)=>{"use strict";x.d(X,{r:()=>c});function c(S,D){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:50,F=Math.abs(S-D)/S*100,W=Math.min(1,Math.max(0,F/T)),V=S>D?0:90,J=100,at=35;return"hsla(".concat(V,", ").concat(J,"%, ").concat(at,"%, ").concat(W,")")}},9924:(ut,X,x)=>{"use strict";x.d(X,{J:()=>ne,L:()=>ot});var c=x(1465),S=x(5861),D=x(4687),T=x.n(D),F=x(6598),W=x(5433),V=x(1557),J=x(4830),at=x(1026),gt=x(3832),et=x(2022),tt=x(8162),z=x(1474),q=x(5694),bt=x(7085),Z=x(5261),ht=x(8743),I=x(2447),B=x(9944);function ot(Bt,dt,Ut){return yt.apply(this,arguments)}function yt(){return yt=(0,S.Z)(T().mark(function Bt(dt,Ut,re){var Pt,G,H,U,lt,Ct,Ot,St,vt;return T().wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:if(Pt=(0,V.NI)(Ut,!0),Pt){$t.next=3;break}return $t.abrupt("return",null);case 3:return G="product-".concat(re),H=(0,J.su)(G),U=At(H),lt="lowestPrice",Ct="highestPrice",U=Wt(U,lt,Pt,function(Rt){return Pt<=Rt.value},"\u041C\u0438\u043D. \u0446\u0435\u043D\u0430","#d6f5b1",dt),U=Wt(U,Ct,Pt,function(Rt){return Pt>=Rt.value},"\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430","#fed2ea",dt),U=se(U,Pt),U.updateLastCheckDate(),Ot=U,St=Ot.lowestPriceValue,vt=Ot.highestPriceValue,$t.next=15,(0,J.EA)(G,U);case 15:return $t.abrupt("return",new et.X(Pt,St,vt));case 16:case"end":return $t.stop()}},Bt)})),yt.apply(this,arguments)}function At(Bt){return Bt?Bt.rating?gt.u.fromObject(Bt):at.e.fromObject(Bt):new at.e}function Wt(Bt,dt,Ut,re,Pt,G,H){var U=Bt[dt];if(Ut){if(!U||re(U)){var lt=new tt.u(Ut);Bt[dt]=lt,U=lt}}else if(!U)return Bt;var Ct=Bt.priceHistory;return Ht(Pt,U,G,Ct,Ut,H),Bt}function Ht(Bt,dt,Ut,re,Pt,G){var H="".concat(Bt,": "),U={color:"#000",fontSize:"16px",padding:"17px 0px 7px"},lt=(0,F.wC)(U,H),Ct=(0,I.A)(dt.value),Ot={fontWeight:"bold",padding:"6px 12px",borderRadius:"8px",cursor:"pointer",background:Ut},St=(0,F.kQ)(Ot,Ct);St.addEventListener("mouseover",function(){St.textContent=(0,z.fS)(dt.date)}),St.addEventListener("mouseleave",function(){St.textContent=Ct}),St.addEventListener("click",function(vt){vt.stopPropagation(),vt.preventDefault(),Zt(re,Pt)}),lt.append(St),G.parentNode.append(lt)}function Zt(Bt,dt){var Ut={width:"100%",borderCollapse:"collapse"},re={borderTop:"1px solid #ccc"},Pt={padding:"8px",textAlign:"left"},G={borderTop:"1px solid #ccc"},H={padding:"8px"},U=["\u0414\u0430\u0442\u0430","\u041C\u0438\u043D. \u0446\u0435\u043D\u0430","\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430"],lt=(0,q.yt)(Ut,re,Pt,U),Ct=lt.tBodies[0],Ot=[],St=[],vt=[],Ft=[],$t=(0,z.GJ)(6);Object.entries(Bt).forEach(function(K){var pt=(0,c.Z)(K,2),kt=pt[0],Kt=pt[1],jt=Kt.lowest,Et=Kt.highest,Vt=new Date(+kt),mt=Vt.toLocaleDateString();Vt>=$t&&(Ot.push(jt,Et),St.push(mt),vt.push(jt),Ft.push(Et));var _t=[mt,jt,Et],Tt=(0,q.b3)(G);_t.forEach(function(Lt,de){var ce=(0,q.s_)(H,Lt);de!==0&&(ce.style.background=(0,bt.r)(Lt,dt)),Tt.appendChild(ce)}),Ct.insertBefore(Tt,Ct.firstChild)});var Rt=(0,F.wC)(),ie=(0,ht.r)(Ot),ue=te(dt,ie),j=oe(St,vt,Ft,dt);Rt.appendChild(ue),Rt.appendChild(j),Rt.appendChild(lt),(0,Z.y8)(Rt)}function te(Bt,dt){var Ut={display:"flex",justifyContent:"center",gap:"70px",marginBottom:"10px",fontSize:"20px"},re=(0,F.kQ)({},"\u0422\u0435\u043A\u0443\u0449\u0430\u044F \u0446\u0435\u043D\u0430: <b>".concat((0,I.A)(Bt),"</b>")),Pt=(0,F.kQ)({},"\u041C\u0435\u0434\u0438\u0430\u043D\u0430 \u0437\u0430 6 \u043C\u0435\u0441: <b>".concat((0,I.A)(dt),"</b>")),G=(0,F.wC)(Ut);return G.append(re,Pt),G}function oe(Bt,dt,Ut,re){var Pt="line",G={labels:Bt,datasets:[{label:"\u041C\u0438\u043D. \u0446\u0435\u043D\u0430",data:dt,borderColor:"hsl(90, 100%, 35%)",fill:!1},{label:"\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430",data:Ut,borderColor:"hsl(0, 100%, 35%)",fill:!1,hidden:!0}]},H={animation:!1,responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{boxHeight:1,font:{size:15}}},annotation:{annotations:{baseLine:{type:"line",scaleID:"y",value:re,borderColor:"#4872D8",borderWidth:3}}}}},U={width:"calc(60vw - 60px)",height:"45vh",marginBottom:"30px"},lt=(0,B.C)(Pt,G,H,U);return lt}function se(Bt,dt){var Ut,re,Pt=Bt.priceHistory,G=(0,z.zy)(),H=Pt[G]||{},U=Math.min((Ut=H.lowest)!==null&&Ut!==void 0?Ut:dt,dt),lt=Math.max((re=H.highest)!==null&&re!==void 0?re:dt,dt);return Bt.priceHistory[G]={lowest:U,highest:lt},Bt}function ne(Bt,dt,Ut){var re=dt.getAttribute(W.N.CURRENT_PRICE),Pt=dt.getAttribute(W.N.LOWEST_PRICE),G=1+Ut/100,H=Pt*G;if(re<=H)Bt.style.border="3px solid rgb(214, 245, 177)",Bt.style.borderRadius="14px",Bt.style.padding="4px 10px 6px",Bt.style.marginBottom="5px",Bt.style.width="-webkit-fill-available",dt.setAttribute(W.N.GOOD_PRICE,"");else{var U=["border","borderRadius","padding","marginBottom","width"];U.forEach(function(lt){return Bt.style.removeProperty(lt)}),dt.removeAttribute(W.N.GOOD_PRICE)}}},2447:(ut,X,x)=>{"use strict";x.d(X,{A:()=>c});function c(S){return"".concat(S.toLocaleString()," \u20BD")}},1469:(ut,X,x)=>{"use strict";x.d(X,{F:()=>c});function c(S){var D=S.target,T=D.type;switch(T){case"text":return'"'.concat(D.value,'"');case"number":return D.value;case"checkbox":return D.checked;default:return console.log("Unknown input type: ".concat(T)),null}}},7047:(ut,X,x)=>{"use strict";x.d(X,{H:()=>T});var c=x(3144),S=x(5671),D=x(4942),T=(0,c.Z)(function F(W,V){var J=this;(0,S.Z)(this,F),(0,D.Z)(this,"onChangeIfDefined",function(){J.onChange&&J.onChange()}),this.value=W,this.onChange=V})},4830:(ut,X,x)=>{"use strict";x.d(X,{Cj:()=>tt,EA:()=>z,Yz:()=>Z,su:()=>q,vV:()=>bt});var c=x(5671),S=x(3144),D=x(2963),T=x(1120),F=x(136),W=x(4942),V=x(7047),J=x(1469),at=x(3295);function gt(ht,I,B){return I=(0,T.Z)(I),(0,D.Z)(ht,et()?Reflect.construct(I,B||[],(0,T.Z)(ht).constructor):I.apply(ht,B))}function et(){try{var ht=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(et=function(){return!!ht})()}var tt=window.GM_setValue,z=window.GM.setValue,q=window.GM_getValue,bt=window.GM_addValueChangeListener,Z=function(ht){function I(B){var ot,yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,At=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return(0,c.Z)(this,I),ot=gt(this,I,[q(B,yt),At]),(0,W.Z)(ot,"updateValueFromEvent",function(Wt){var Ht=(0,J.F)(Wt),Zt=(0,at.H)(Ht);ot.updateValue(Zt)}),ot.storageKey=B,ot.defaultValue=yt,ot}return(0,F.Z)(I,ht),(0,S.Z)(I,[{key:"updateValue",value:function(ot){this.value!==ot&&(tt(this.storageKey,ot),this.value=ot,this.onChangeIfDefined())}},{key:"clearValue",value:function(){this.updateValue(null)}},{key:"resetValue",value:function(){this.updateValue(this.defaultValue)}}],[{key:"create",value:function(ot){var yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,At=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new I(ot,yt,At)}},{key:"createWithCompositeKey",value:function(ot,yt){var At=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Wt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,Ht="".concat(ot,"-").concat(yt);return new I(Ht,At,Wt)}}])}(V.H)},3295:(ut,X,x)=>{"use strict";x.d(X,{H:()=>c});function c(S){return S===""?null:JSON.parse(S)}},1483:(ut,X,x)=>{"use strict";x.d(X,{g7:()=>S,kC:()=>T});function c(F){return F.replace(/\D/g,"")}function S(F){return F.replace(/[^\d.,-]/g,"")}function D(F){return F.replace(/\s/g,"")}function T(F){return F.charAt(0).toUpperCase()+F.slice(1)}},3950:(ut,X,x)=>{"use strict";x.d(X,{ML:()=>D,MP:()=>F,Ul:()=>gt,jw:()=>W,uW:()=>c});function c(et){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common",z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,q=window.location.pathname;return S(q,et,tt,z)}function S(et,tt,z){var q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,bt=et.split("/"),Z=bt[tt]||z;return q&&console.log("Pathname element: ".concat(Z)),Z}function D(et){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common",z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,q=c(et,"",z);return T(q,tt,z)}function T(et,tt,z){if(!et)return tt;var q=et.split("-").at(-1);return z&&console.log("Pathname element ending: ".concat(q)),q}function F(et,tt){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"common",q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,bt=S(et,tt,"",q);return T(bt,z,q)}function W(et){var tt=window.location.search;return V(tt,et)}function V(et,tt){var z=new URLSearchParams(et);return z.get(tt)}function J(et){return window.location.pathname.includes(et)}function at(et){return et.some(function(tt){return J(tt)})}function gt(et){var tt=window.location.pathname.split("/");return tt.some(function(z){return z===et})}},6610:(ut,X,x)=>{"use strict";x.d(X,{tA:()=>ot,Z9:()=>Z,Z6:()=>et,uL:()=>B,IW:()=>bt});var c=x(1465),S=x(4830),D=window.GM_listValues;function T(yt,At){var Wt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Ht=(0,S.su)("dbVersion");Ht!==At&&(yt(),!Wt&&(0,S.Cj)("dbVersion",At))}function F(yt){var At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Wt=D();V(Wt,yt,At)}function W(yt,At){var Wt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,Ht=D(),Zt=Ht.filter(yt);V(Zt,At,Wt)}function V(yt,At,Wt){var Ht=0;yt.forEach(function(Zt){var te=(0,S.su)(Zt);Wt&&console.log("".concat(Zt,": ").concat(te)),At(Zt,te),Ht+=1}),Wt&&console.log("Total entries processed: ".concat(Ht))}function J(yt){var At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Wt=function(Zt){At||window.GM_deleteValue(Zt)};W(yt,Wt)}var at=x(3832),gt=6;function et(){T(tt,gt,!1)}function tt(){var yt=function(Ht){return Ht.startsWith("product-")},At=function(Ht,Zt){z(Ht,"lastCheckDate",Zt),q(Ht,"lowestPrice",Zt),q(Ht,"highestPrice",Zt)};W(yt,At,!0)}function z(yt,At,Wt){var Ht=Wt[At];if(Ht){var Zt=Ht.split(".").map(Number),te=(0,c.Z)(Zt,3),oe=te[0],se=te[1],ne=te[2],Bt=new Date(ne,se-1,oe),dt=Bt.getTime();Wt[At]=dt,(0,S.Cj)(yt,Wt)}}function q(yt,At,Wt){var Ht=Wt[At];if(Ht){var Zt=Ht.date,te=Zt.split(".").map(Number),oe=(0,c.Z)(te,3),se=oe[0],ne=oe[1],Bt=oe[2],dt=new Date(Bt,ne-1,se),Ut=dt.getTime();Ht.date=Ut,Wt[At]=Ht,(0,S.Cj)(yt,Wt)}}function bt(yt,At){var Wt=I(yt),Ht=(0,S.su)(Wt),Zt=Ht?at.u.fromObject(Ht):new at.u;Zt.rating=At,Zt.updateLastCheckDate(),(0,S.Cj)(Wt,Zt),(0,S.Cj)("last-rate-update",Date.now())}function Z(yt){var At,Wt=ht(yt);return(At=Wt?.rating)!==null&&At!==void 0?At:null}function ht(yt){var At=I(yt);return(0,S.su)(At)}function I(yt){return"product-".concat(yt)}function B(yt){return(0,S.Cj)("reviews-last-product-article",yt)}function ot(){return(0,S.su)("reviews-last-product-article")}},7733:(ut,X,x)=>{"use strict";x.a(ut,async(c,S)=>{try{let ot=function(){return yt.apply(this,arguments)},yt=function(){return yt=(0,D.Z)(F().mark(function se(){return F().wrap(function(Bt){for(;;)switch(Bt.prev=Bt.next){case 0:ht=ht.then(Ht);case 1:case"end":return Bt.stop()}},se)})),yt.apply(this,arguments)},At=function(){return B.classList.contains("vsc-initialized")},Wt=function(){var se=new MutationObserver((0,D.Z)(F().mark(function ne(){return F().wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:if(!At()){dt.next=4;break}return se.disconnect(),dt.next=4,ot();case 4:case"end":return dt.stop()}},ne)})));se.observe(B,{attributes:!0,attributeFilter:["class"]})},Ht=function(){return Zt.apply(this,arguments)},Zt=function(){return Zt=(0,D.Z)(F().mark(function se(){var ne;return F().wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:if(!(0,q.Ul)("gocheckout")){dt.next=3;break}return(0,z.U)(),dt.abrupt("return");case 3:if(!(0,q.Ul)("cart")){dt.next=6;break}return(0,z.A)(),dt.abrupt("return");case 6:return dt.next=8,te();case 8:if(ne=(0,bt.tk)(Z.I.PAGINATOR_CONTENT),!ne){dt.next=13;break}return dt.next=12,(0,gt.K)(ne);case 12:return dt.abrupt("return");case 13:if(!(0,q.Ul)("reviews")){dt.next=17;break}return dt.next=16,(0,tt.F)();case 16:return dt.abrupt("return");case 17:if(!(0,q.Ul)("product")){dt.next=21;break}return dt.next=20,(0,et.T)();case 20:return dt.abrupt("return");case 21:if(!(0,q.Ul)("favorites")){dt.next=24;break}return dt.next=24,(0,at.O)();case 24:case"end":return dt.stop()}},se)})),Zt.apply(this,arguments)},te=function(){return oe.apply(this,arguments)},oe=function(){return oe=(0,D.Z)(F().mark(function se(){var ne;return F().wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:return dt.next=2,(0,J.br)(document,Z.I.FAVORITES_LINK);case 2:ne=dt.sent,ne&&(ne.href+="?avail=inStock");case 4:case"end":return dt.stop()}},se)})),oe.apply(this,arguments)};var D=x(5861),T=x(4687),F=x.n(T),W=x(6610),V=x(147),J=x(6576),at=x(4959),gt=x(1846),et=x(7128),tt=x(6813),z=x(8514),q=x(3950),bt=x(1557),Z=x(9608);(0,W.Z6)(),(0,V.Dn)();var ht=Promise.resolve(),I=document,B=I.body;At()?await ot():Wt(),S()}catch(ot){S(ot)}},1)},8514:(ut,X,x)=>{"use strict";x.d(X,{A:()=>at,U:()=>J});var c=x(1557),S={AUTO_CHECKOUT:"autoCheckout",AUTO_SKIP_CART:"autoSkipCart",AUTO_RELOAD_CHECKOUT:"autoReloadCheckout",AUTO_CHECKOUT_PROD:"autoCheckoutProd",AUTO_CHECKOUT_GOOD_PRICE:"autoCheckoutGoodPrice"},D=function(){return V(S.AUTO_CHECKOUT)},T=function(){return V(S.AUTO_SKIP_CART)},F=function(){return V(S.AUTO_RELOAD_CHECKOUT)},W=function(){return V(S.AUTO_CHECKOUT_PROD)};function V(Z){return gt(Z)==="1"}function J(){D()&&z()}function at(){if(T()){et();return}D()&&tt()}function gt(Z){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",I=localStorage.getItem(Z);return I!==null?I:(localStorage.setItem(Z,ht),ht)}function et(){var Z=q(),ht=bt(Z);ht.hasAttribute("disabled")?setTimeout(function(){return window.location.reload()},1500):ht.click()}function tt(){var Z=localStorage.getItem(S.AUTO_CHECKOUT_GOOD_PRICE);if(Z!==null){console.log("autoCheckoutGoodPrice: ",Z);return}if(confirm("\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C \u0446\u0435\u043D\u0443 \u0434\u043B\u044F \u0430\u0432\u0442\u043E\u043F\u043E\u043A\u0443\u043F\u043A\u0438?")){var ht=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u0443\u044E \u0446\u0435\u043D\u0443:");localStorage.setItem(S.AUTO_CHECKOUT_GOOD_PRICE,ht)}}function z(){var Z=q(),ht=bt(Z);if(ht.hasAttribute("disabled")&&F()){setTimeout(function(){return window.location.reload()},1500);return}var I=Z.children[1].lastElementChild.children[1],B=(0,c.NI)(I,!0),ot=localStorage.getItem(S.AUTO_CHECKOUT_GOOD_PRICE);if(ot===null){console.log("No autoCheckoutGoodPrice in localStorage");return}var yt=+ot;B<=yt?(W()?(ht.click(),console.log("\u0420\u0435\u0430\u043B\u044C\u043D\u0430\u044F \u043F\u043E\u043A\u0443\u043F\u043A\u0430")):console.log("\u0422\u0435\u0441\u0442\u043E\u0432\u0430\u044F \u043F\u043E\u043A\u0443\u043F\u043A\u0430"),console.log("autoCheckoutGoodPrice: ",yt),console.log("price: ",B)):(console.log("autoCheckoutGoodPrice: ",yt),console.log("price: ",B),console.log("\u0414\u043E\u0440\u043E\u0433\u043E!"),F()&&setTimeout(function(){return window.location.reload()},1500))}function q(){var Z=(0,c.tk)('[data-widget="total"]');return Z.children[0]}function bt(Z){return(0,c.tk)("button",Z)}},4675:(ut,X,x)=>{"use strict";x.d(X,{N$:()=>D,jB:()=>c});var c=`
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M8 14V4M8 14L4 14V4.00002L8 4M8 14L13.1956 20.0615C13.6886 20.6367 14.4642 20.884 15.1992 20.7002L15.2467 20.6883C16.5885 20.3529 17.1929 18.7894 16.4258 17.6387L14 14H18.5604C19.8225 14 20.7691 12.8454 20.5216 11.6078L19.3216 5.60779C19.1346 4.67294 18.3138 4.00002 17.3604 4.00002L8 4" 
            stroke="#001a3499" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,S=`
    <svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="48" height="48" fill="#001a3499" fill-opacity="0.01"/>
        <path d="M24 31L21 26L28 20L19 15L20 9.19942C18.4999 8.43256 16.8004 8 15 8C8.92487 8 4 12.9249 4 19C4 30 17 40 24 42C31 40 44 30 44 19C44 12.9249 39.0751 8 33 8C31.1996 8 29.5001 8.43256 28 9.19942" 
            stroke="#001a3499" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,D=`
    <svg fill="#001a3499" width="16" height="16" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
        <path d="M417.84,448a15.94,15.94,0,0,1-11.35-4.72L40.65,75.26A16,16,0,0,1,63.35,52.7l365.83,368A16,16,0,0,1,417.84,448Z"/>
        <path d="M364.92,80c-48.09,0-80,29.55-96.92,51-16.88-21.48-48.83-51-96.92-51a107.37,107.37,0,0,0-31,4.55L168,112c22.26,0,45.81,9,63.94,26.67a123,123,0,0,1,21.75,28.47,16,16,0,0,0,28.6,0,123,123,0,0,1,21.77-28.51C322.19,121,342.66,112,364.92,112c43.15,0,78.62,36.33,79.07,81,.54,53.69-22.75,99.55-57.38,139.52l22.63,22.77c3-3.44,5.7-6.64,8.14-9.6,40-48.75,59.15-98.8,58.61-153C475.37,130.52,425.54,80,364.92,80Z"/>
        <path d="M268,432C180.38,372.51,91,297.6,92,193a83.69,83.69,0,0,1,2.24-18.39L69,149.14a115.1,115.1,0,0,0-9,43.49c-.54,54.22,18.63,104.27,58.61,153,18.77,22.87,52.8,59.45,131.39,112.8a31.84,31.84,0,0,0,36,0c20.35-13.81,37.7-26.5,52.58-38.11l-22.66-22.81C300.25,409.6,284.09,421.05,268,432Z"/>
    </svg>`},147:(ut,X,x)=>{"use strict";x.d(X,{Dn:()=>Z,Ki:()=>gt,Ub:()=>tt,YR:()=>q,ir:()=>at,kq:()=>ht,xe:()=>J,yV:()=>et,zw:()=>z});var c=x(4675),S=x(3950),D=x(6598),T=x(1557),F=x(7313),W=x(38),V=x(4868);function J(I){var B=I.getAttribute("href");return(0,S.MP)(B,2)}function at(){return(0,S.ML)(2,"unknown")}function gt(I){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ot=(0,D.EW)(F.x.DISLIKE_BUTTON,c.N$);if(ot.onclick=function(){window.confirm("\u0412\u044B\u0441\u0442\u0430\u0432\u0438\u0442\u044C \u043D\u0438\u0437\u043A\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043D\u0433?")&&I()},B){var yt=(0,D.kQ)({paddingLeft:"8px"},"\u0414\u0438\u0437\u043B\u0430\u0439\u043A");ot.append(yt)}return ot}function et(I){tt(),(0,T.Zs)(I,F.x.FILTERS_CONTAINER)}function tt(){window.GM_addStyle(`
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: auto;
        }
    `)}function z(){return(0,T.tk)(W.I.PRODUCT_CARDS_WRAP)}function q(I,B){I.forEach(function(ot){bt(ot,B)})}function bt(I,B){I.parentNode!==B&&B.appendChild(I)}function Z(){window.GM_addStyle(`
        [data-widget="bannerCarousel"],
        [data-widget="bigPromoPDP"],
        [data-widget="blackFridayStatus"],
        [data-widget="cellList"],
        [data-widget="feedbackTile"],
        [data-widget="skuGrid"],
        [data-widget="skuShelfGoods"],
        [data-widget="tagList"],
        [data-widget="webInstallmentPurchase"],
        [data-widget="webOneClickButton"] {
            display: none !important;
        }
    `)}function ht(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.body;(0,V.X)(I,F.x.SCROLL_TO_FILTERS_BUTTON)}},38:(ut,X,x)=>{"use strict";x.d(X,{I:()=>c});var c={SEARCH_RESULTS_SORT:'[data-widget="searchResultsSort"]',PRODUCT_CARDS:".widget-search-result-container > div > div.tile-root",PRODUCT_CARD_NAME:".tsBody500Medium",PRODUCT_CARDS_WRAP:".widget-search-result-container > :first-child"}},7313:(ut,X,x)=>{"use strict";x.d(X,{r:()=>T,x:()=>F});var c=x(4942);function S(W,V){var J=Object.keys(W);if(Object.getOwnPropertySymbols){var at=Object.getOwnPropertySymbols(W);V&&(at=at.filter(function(gt){return Object.getOwnPropertyDescriptor(W,gt).enumerable})),J.push.apply(J,at)}return J}function D(W){for(var V=1;V<arguments.length;V++){var J=arguments[V]!=null?arguments[V]:{};V%2?S(Object(J),!0).forEach(function(at){(0,c.Z)(W,at,J[at])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(J)):S(Object(J)).forEach(function(at){Object.defineProperty(W,at,Object.getOwnPropertyDescriptor(J,at))})}return W}var T={INPUT:{marginLeft:"5px",border:"2px solid #b3bcc5",borderRadius:"6px",padding:"6px 10px"},FILTERS_CONTAINER:{display:"flex",flexFlow:"wrap",gap:"15px",paddingBottom:"14px"}},F={FILTERS_CONTAINER:D(D({},T.FILTERS_CONTAINER),{},{minWidth:"1250px"}),NUMBER_INPUT:D(D({},T.INPUT),{},{width:"75px"}),TEXT_INPUT:D(D({},T.INPUT),{},{width:"180px"}),CONTROL:{display:"flex",alignItems:"center"},CHECKBOX_INPUT:{marginLeft:"5px",width:"25px",height:"25px"},DISLIKE_BUTTON:{display:"inline-flex",alignItems:"center",marginLeft:"auto",color:"rgba(0, 26, 52, 0.6)",cursor:"pointer"},SCROLL_TO_FILTERS_BUTTON:{position:"fixed",bottom:"20px",right:"20px",padding:"10px 20px 10px 14px",backgroundColor:"#005bff",color:"white",border:"none",borderRadius:"8px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.2)",cursor:"pointer",fontSize:"14px",transition:"background-color 0.3s",display:"none",gap:"4px"}}},4959:(ut,X,x)=>{"use strict";x.d(X,{O:()=>oe});var c=x(9062),S=x(5861),D=x(4687),T=x.n(D),F=x(6576),W=x(147),V=x(7798),J=x(9144),at=x(2050),gt=x(9397),et=x(1557),tt=x(5433),z=x(9924),q=x(6332),bt=x(38),Z=x(7313),ht={PAGINATOR:'[data-widget="paginator"]',ADDITIONAL_INFO:".tsBodyControl400Small"},I=x(1928),B=(0,I.Z)(Bt),ot=B.createGlobalFilter,yt=function(){return Bt(!0)},At=ot("favorites-name-filter"),Wt=ot("best-price-filter",!1),Ht=ot("price-tolerance-percent",3,yt),Zt=ot("favorites-filter-enabled",!0),te=Promise.resolve();function oe(){return se.apply(this,arguments)}function se(){return se=(0,S.Z)(T().mark(function St(){var vt,Ft,$t;return T().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,(0,F.br)(document,bt.I.SEARCH_RESULTS_SORT);case 2:return vt=ie.sent,(0,V.C)(vt,ne),ie.next=6,Bt();case 6:Ft=new MutationObserver((0,F.Ds)(Bt)),$t=(0,et.tk)(ht.PAGINATOR),Ft.observe($t,{childList:!0,subtree:!0});case 9:case"end":return ie.stop()}},St)})),se.apply(this,arguments)}function ne(St,vt){(0,W.yV)(St);var Ft=(0,q.T5)(At,Z.x.CONTROL,Z.x.TEXT_INPUT),$t=(0,at.XF)("\u041B\u0443\u0447\u0448\u0430\u044F \u0446\u0435\u043D\u0430: ",Wt,Z.x.CONTROL,Z.x.CHECKBOX_INPUT),Rt=(0,at.xy)("\u0414\u043E\u043F\u0443\u0441\u043A \u0446\u0435\u043D\u044B, %: ",Ht,1,0,100,Z.x.CONTROL,Z.x.NUMBER_INPUT),ie=(0,q.pN)(Zt,Z.x.CONTROL,Z.x.CHECKBOX_INPUT);St.append(Ft,$t,Rt,ie),vt.append(St),(0,W.kq)(vt)}function Bt(){return dt.apply(this,arguments)}function dt(){return dt=(0,S.Z)(T().mark(function St(){var vt,Ft=arguments;return T().wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:vt=Ft.length>0&&Ft[0]!==void 0?Ft[0]:!1,te=te.then(function(){return Ut(vt)});case 2:case"end":return Rt.stop()}},St)})),dt.apply(this,arguments)}function Ut(){return re.apply(this,arguments)}function re(){return re=(0,S.Z)(T().mark(function St(){var vt,Ft,$t,Rt=arguments;return T().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return vt=Rt.length>0&&Rt[0]!==void 0?Rt[0]:!1,Ft=(0,c.Z)((0,et.DJ)(bt.I.PRODUCT_CARDS)),$t=(0,W.zw)(),(0,W.YR)(Ft,$t),ue.next=6,Promise.all(Ft.map(function(j){return Pt(j,vt)}));case 6:case"end":return ue.stop()}},St)})),re.apply(this,arguments)}function Pt(St,vt){return G.apply(this,arguments)}function G(){return G=(0,S.Z)(T().mark(function St(vt,Ft){var $t,Rt,ie,ue,j;return T().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(Zt.value){pt.next=3;break}return(0,gt.V_)(vt),pt.abrupt("return");case 3:return pt.next=5,H(vt);case 5:if(Ft&&vt.hasAttribute(tt.N.CURRENT_PRICE)&&vt.hasAttribute(tt.N.LOWEST_PRICE)&&($t=lt(vt).parentNode,(0,z.J)($t,vt,Ht.value)),Rt=(0,et.tk)(bt.I.PRODUCT_CARD_NAME,vt),Rt){pt.next=10;break}return(0,gt.e6)(vt),pt.abrupt("return");case 10:ie=Rt.innerText,Rt.title=ie,ue=Wt.value?!vt.hasAttribute(tt.N.GOOD_PRICE):!1,j=(0,J.J2)(ie,At)||ue,(0,gt.OQ)(vt,j);case 15:case"end":return pt.stop()}},St)})),G.apply(this,arguments)}function H(St){return U.apply(this,arguments)}function U(){return U=(0,S.Z)(T().mark(function St(vt){var Ft,$t,Rt;return T().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(!vt.hasAttribute(tt.N.APPEND_PRICE_HISTORY_PASSED)){ue.next=2;break}return ue.abrupt("return");case 2:if(Ft=(0,et.tk)(ht.ADDITIONAL_INFO,vt),Ft?.innerText!=="\u041D\u0435\u0442 \u0432 \u043D\u0430\u043B\u0438\u0447\u0438\u0438"){ue.next=6;break}return vt.setAttribute(tt.N.APPEND_PRICE_HISTORY_PASSED,""),ue.abrupt("return");case 6:return $t=lt(vt),Rt=$t.parentNode,ue.next=10,Ct($t,vt,Rt);case 10:vt.hasAttribute(tt.N.CURRENT_PRICE)&&vt.hasAttribute(tt.N.LOWEST_PRICE)&&(0,z.J)(Rt,vt,Ht.value);case 11:case"end":return ue.stop()}},St)})),U.apply(this,arguments)}function lt(St){var vt;return(St==null||(vt=St.children[0])===null||vt===void 0||(vt=vt.children[1])===null||vt===void 0||(vt=vt.children[0])===null||vt===void 0?void 0:vt.children[0])||null}function Ct(St,vt,Ft){return Ot.apply(this,arguments)}function Ot(){return Ot=(0,S.Z)(T().mark(function St(vt,Ft,$t){var Rt,ie,ue,j;return T().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(Rt=(0,et.tk)("a",Ft),Rt){pt.next=3;break}return pt.abrupt("return");case 3:return ie=(0,W.xe)(Rt),ue=(0,et.tk)("span",vt),pt.next=7,(0,z.L)(vt,ue,ie);case 7:j=pt.sent,j&&(Ft.setAttribute(tt.N.CURRENT_PRICE,j.current),Ft.setAttribute(tt.N.LOWEST_PRICE,j.lowest),$t.style.display="block"),Ft.setAttribute(tt.N.APPEND_PRICE_HISTORY_PASSED,"");case 10:case"end":return pt.stop()}},St)})),Ot.apply(this,arguments)}},1846:(ut,X,x)=>{"use strict";x.d(X,{K:()=>lt});var c=x(9062),S=x(5861),D=x(4687),T=x.n(D),F=x(4830),W=x(6576),V=x(7798),J=x(147),at=x(3950),gt=x(9144),et=x(2050),tt=x(9397),z=x(1557),q=x(6610),bt=x(6332);function Z(Et){for(var Vt=2166136261,mt=16777619,_t=Vt,Tt=0;Tt<Et.length;Tt+=1){var Lt=Et.charCodeAt(Tt);_t^=Lt,_t=Math.imul(_t,mt)}return _t>>>0}function ht(Et){return Z(Et).toString(16).padStart(8,"0")}function I(Et){var Vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common";return Et?ht(Et):Vt}var B=x(7313),ot=x(38),yt={PRODUCT_CARD_PRICE:".tsHeadline500Medium",PRODUCT_CARD_RATING_WRAP:".tsBodyMBold"},At={DISLIKE_BUTTON_ADDED:"dislikeButtonAdded"},Wt=x(1928),Ht=U(),Zt=(0,Wt.Z)(St,Ht),te=Zt.createGlobalFilter,oe=Zt.createSectionFilter,se=oe("name-filter"),ne=oe("min-reviews-filter"),Bt=oe("max-reviews-filter"),dt=oe("min-rating-filter",4.8),Ut=oe("no-rating-filter",!1),re=oe("max-price-filter"),Pt=oe("filter-enabled",!0),G=te("name-lines-number",2),H=Promise.resolve();function U(){var Et=(0,at.Ul)("search")?(0,at.jw)("text"):(0,at.uW)(2,"");return I(Et)}function lt(Et){return Ct.apply(this,arguments)}function Ct(){return Ct=(0,S.Z)(T().mark(function Et(Vt){var mt,_t;return T().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:return Lt.next=2,(0,W.br)(document,ot.I.SEARCH_RESULTS_SORT);case 2:return mt=Lt.sent,(0,V.C)(mt,Ot),(0,F.vV)("last-rate-update",St),Lt.next=7,St();case 7:_t=new MutationObserver((0,W.Ds)(St,150)),_t.observe(Vt,{childList:!0,subtree:!0});case 9:case"end":return Lt.stop()}},Et)})),Ct.apply(this,arguments)}function Ot(Et,Vt){(0,J.yV)(Et),(0,z.Zs)(Vt,{position:"relative"});var mt=(0,bt.T5)(se,B.x.CONTROL,B.x.TEXT_INPUT),_t=(0,bt.tn)(ne,B.x.CONTROL,B.x.NUMBER_INPUT),Tt=(0,bt.Cf)(Bt,B.x.CONTROL,B.x.NUMBER_INPUT),Lt=(0,bt.kc)(dt,B.x.CONTROL,B.x.NUMBER_INPUT),de=(0,bt.b3)(Ut,B.x.CONTROL,B.x.CHECKBOX_INPUT),ce=(0,bt.iz)(re,B.x.CONTROL,B.x.NUMBER_INPUT),Ce=(0,bt.pN)(Pt,B.x.CONTROL,B.x.CHECKBOX_INPUT),Se=(0,et.xy)("\u0421\u0442\u0440\u043E\u043A: ",G,1,1,10,B.x.CONTROL,B.x.NUMBER_INPUT);Et.append(mt,_t,Tt,Lt,de,ce,Ce,Se),Vt.append(Et),(0,J.kq)(Vt)}function St(){return vt.apply(this,arguments)}function vt(){return vt=(0,S.Z)(T().mark(function Et(){return T().wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:H=H.then(Ft);case 1:case"end":return mt.stop()}},Et)})),vt.apply(this,arguments)}function Ft(){return $t.apply(this,arguments)}function $t(){return $t=(0,S.Z)(T().mark(function Et(){var Vt,mt;return T().wrap(function(Tt){for(;;)switch(Tt.prev=Tt.next){case 0:return Vt=(0,c.Z)((0,z.DJ)(ot.I.PRODUCT_CARDS)),mt=(0,J.zw)(),(0,J.YR)(Vt,mt),Tt.next=5,Promise.all(Vt.map(Rt));case 5:case"end":return Tt.stop()}},Et)})),$t.apply(this,arguments)}function Rt(Et){if(!Pt.value){(0,tt.V_)(Et);return}var Vt=(0,z.tk)("a",Et);if(!Vt){(0,tt.e6)(Et);return}var mt=(0,J.xe)(Vt),_t=(0,z.tk)(ot.I.PRODUCT_CARD_NAME,Et),Tt=(0,z.tk)(yt.PRODUCT_CARD_PRICE,Et);if(!_t||!Tt){(0,tt.e6)(Et);return}ie(_t);var Lt=(0,z.NI)(Tt,!0),de=(0,z.tk)(yt.PRODUCT_CARD_RATING_WRAP,Et),ce=ue(de,mt),Ce=ce.productCardReviewsNumber,Se=ce.productCardRatingNumber,xe=ce.shouldHideProductCard;if(xe){(0,tt.e6)(Et);return}var be=_t.innerText;_t.title=be;var we=(0,gt.J2)(be,se)||(0,gt.E1)(Ce,ne)||(0,gt.YY)(Ce,Bt)||(0,gt.E1)(Se,dt)||(0,gt.YY)(Lt,re);(0,tt.OQ)(Et,we)}function ie(Et){Et.parentNode.style.webkitLineClamp=G.value}function ue(Et,Vt){var mt,_t;if(Et){var Tt=(0,z.DJ)(":scope > span",Et,!0);mt=(0,z.qX)(Tt,1,!0),_t=K(Tt,Vt),kt(Et,Vt)}else if(j()&&!Ut.value)return{shouldHideProductCard:!0};return{productCardReviewsNumber:mt,productCardRatingNumber:_t,shouldHideProductCard:!1}}function j(){return ne.value||Bt.value||dt.value}function K(Et,Vt){var mt=(0,q.Z9)(Vt);return mt?(pt(Et,mt),mt):(0,z.qX)(Et,0)}function pt(Et,Vt){Et[0].children[1].textContent=Vt.toString().padEnd(5)}function kt(Et,Vt){if(!Et.hasAttribute(At.DISLIKE_BUTTON_ADDED)){Et.style.display="flex",Et.style.width="100%";var mt=(0,J.Ki)(function(){return Kt(Vt)},!1);Et.append(mt),Et.setAttribute(At.DISLIKE_BUTTON_ADDED,"")}}function Kt(Et){return jt.apply(this,arguments)}function jt(){return jt=(0,S.Z)(T().mark(function Et(Vt){return T().wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:return(0,q.IW)(Vt,1),_t.next=3,St();case 3:case"end":return _t.stop()}},Et)})),jt.apply(this,arguments)}},7128:(ut,X,x)=>{"use strict";x.d(X,{T:()=>Z});var c=x(9062),S=x(5861),D=x(4687),T=x.n(D),F=x(6576),W=x(147),V=x(4675),J=x(6598),at=x(9397),gt=x(1557),et=x(6610),tt=x(9924),z={PRODUCT_REVIEWS_WRAP:'[data-widget="webSingleProductScore"]',PRICE_CONTAINER:'[data-widget="webPrice"]',WEB_GALLERY:'[data-widget="webGallery"]',WEB_PRODUCT_HEADING:'[data-widget="webProductHeading"]',PRODUCT_REVIEWS_INFO:".tsBodyControl500Medium",REVIEWS_CONTAINER:'[data-widget="webReviewTabs"]',REVIEWS_CONTAINER_COLUMNS:'[data-widget="column"]'},q={BAD_REVIEWS_LINK:{alignItems:"center",display:"flex",color:"rgba(0, 26, 52, 0.6)"},BAD_REVIEWS_LINK_SPAN:{paddingLeft:"8px"}},bt=x(6813);function Z(){return ht.apply(this,arguments)}function ht(){return ht=(0,S.Z)(T().mark(function Pt(){var G;return T().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,Promise.all([I(),ot(),Wt()]);case 2:return U.next=4,(0,F.br)(document,z.PRODUCT_REVIEWS_WRAP);case 4:if(G=U.sent,G){U.next=7;break}return U.abrupt("return");case 7:return Zt(G),Bt(G),U.next=11,dt(oe(G));case 11:return U.next=13,(0,bt.F)(!1,!0);case 13:case"end":return U.stop()}},Pt)})),ht.apply(this,arguments)}function I(){return B.apply(this,arguments)}function B(){return B=(0,S.Z)(T().mark(function Pt(){var G,H,U;return T().wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:return Ct.next=2,(0,F.br)(document,z.PRICE_CONTAINER);case 2:if(G=Ct.sent,G){Ct.next=5;break}return Ct.abrupt("return");case 5:return H=(0,W.ir)(),U=(0,gt.tk)("span",G),Ct.next=9,(0,tt.L)(G,U,H);case 9:case"end":return Ct.stop()}},Pt)})),B.apply(this,arguments)}function ot(){return yt.apply(this,arguments)}function yt(){return yt=(0,S.Z)(T().mark(function Pt(){var G,H;return T().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return lt.next=2,(0,F.br)(document,z.WEB_GALLERY);case 2:if(G=lt.sent,G){lt.next=5;break}return lt.abrupt("return");case 5:H=new MutationObserver((0,F.Ds)(function(){At(G),H.disconnect()})),H.observe(G,{childList:!0,subtree:!0});case 7:case"end":return lt.stop()}},Pt)})),yt.apply(this,arguments)}function At(Pt){var G=(0,gt.tk)('[data-index="0"]',Pt);if(G){var H=(0,gt.tk)('[data-index="1"]',Pt);if(H){var U=(0,c.Z)(H.classList).every(function(lt){return G.classList.contains(lt)});U||H.click()}}}function Wt(){return Ht.apply(this,arguments)}function Ht(){return Ht=(0,S.Z)(T().mark(function Pt(){var G,H;return T().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return lt.next=2,(0,F.br)(document,z.WEB_PRODUCT_HEADING);case 2:if(G=lt.sent,G){lt.next=5;break}return lt.abrupt("return");case 5:H=(0,gt.tk)("h1",G),H&&(H.style.maxHeight="90px");case 7:case"end":return lt.stop()}},Pt)})),Ht.apply(this,arguments)}function Zt(Pt){var G=(0,J.wC)();G.classList=te(Pt);var H=oe(Pt),U=(0,W.Ki)(function(){return se(H)});G.append(U),(0,at.BE)(Pt.parentNode,G)}function te(Pt){return(0,gt.tk)(z.PRODUCT_REVIEWS_INFO,Pt).classList}function oe(Pt){return Pt.children[0].children[1]}function se(Pt){var G=(0,W.ir)();(0,et.IW)(G,1),ne(Pt,1)}function ne(Pt,G){var H=" \u2022 ",U=Pt.textContent.split(H),lt=U[1]||U[0];Pt.textContent=[G,lt].join(H)}function Bt(Pt){var G=(0,gt.tk)("a",Pt);if(G){var H=(0,J.wC)();H.classList=te(Pt);var U=(0,J.EW)(q.BAD_REVIEWS_LINK,V.jB,"".concat(G.href,"?sort=score_asc")),lt=(0,J.kQ)(q.BAD_REVIEWS_LINK_SPAN,"\u041F\u043B\u043E\u0445\u0438\u0435 \u043E\u0442\u0437\u044B\u0432\u044B");U.append(lt),H.append(U),(0,at.BE)(Pt.parentNode,H)}}function dt(Pt){return Ut.apply(this,arguments)}function Ut(){return Ut=(0,S.Z)(T().mark(function Pt(G){var H,U,lt,Ct,Ot,St,vt,Ft;return T().wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:return H=(0,W.ir)(),U=(0,et.Z9)(H),U&&ne(G,U),Rt.prev=3,Rt.next=6,(0,F.br)(document,z.REVIEWS_CONTAINER);case 6:return lt=Rt.sent,Ct=(0,gt.DJ)(z.REVIEWS_CONTAINER_COLUMNS,lt),Ot=Ct[2],Rt.next=11,(0,F.br)(Ot,":scope > div:not([data-widget])");case 11:if(St=Rt.sent,vt=St?.children[0],vt){Rt.next=15;break}return Rt.abrupt("return");case 15:if(Ft=re(vt),Ft){Rt.next=18;break}return Rt.abrupt("return");case 18:(0,et.IW)(H,Ft),ne(G,Ft),Rt.next=25;break;case 22:Rt.prev=22,Rt.t0=Rt.catch(3),console.error("Error while appending rating value:",Rt.t0);case 25:case"end":return Rt.stop()}},Pt,null,[[3,22]])})),Ut.apply(this,arguments)}function re(Pt){var G,H=Pt==null||(G=Pt.children)===null||G===void 0||(G=G[2])===null||G===void 0?void 0:G.children;if(!H)return null;var U=0,lt=0;if((0,c.Z)(H).forEach(function(St){var vt=St.children[0],Ft=(0,gt.NI)(vt,!0),$t=St.children[2],Rt=(0,gt.NI)($t),ie=Ft*Rt;U+=Rt,lt+=ie}),!U)return null;var Ct=lt/U,Ot=Math.round((Ct+Number.EPSILON)*1e3)/1e3;return Ot}},6813:(ut,X,x)=>{"use strict";x.d(X,{F:()=>Ct});var c=x(9062),S=x(5861),D=x(4687),T=x.n(D),F=x(6576),W=x(7798),V=x(1557),J=x(6332),at=x(4942),gt=x(7313);function et(mt,_t){var Tt=Object.keys(mt);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(mt);_t&&(Lt=Lt.filter(function(de){return Object.getOwnPropertyDescriptor(mt,de).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function tt(mt){for(var _t=1;_t<arguments.length;_t++){var Tt=arguments[_t]!=null?arguments[_t]:{};_t%2?et(Object(Tt),!0).forEach(function(Lt){(0,at.Z)(mt,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(mt,Object.getOwnPropertyDescriptors(Tt)):et(Object(Tt)).forEach(function(Lt){Object.defineProperty(mt,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return mt}var z={FILTERS_CONTAINER:gt.r.FILTERS_CONTAINER,FILTERS_CONTAINER_WRAP:{display:"grid",gap:"10px",paddingBottom:"0"},NUMBER_INPUT:gt.x.NUMBER_INPUT,TEXT_INPUT:tt(tt({},gt.r.INPUT),{},{width:"330px"}),CONTROL:gt.x.CONTROL,CHECKBOX_INPUT:gt.x.CHECKBOX_INPUT},q={COMMENTS:"#comments",CONTROLS_CONTAINER:'[data-widget="webListReviews"] > div',REVIEWS_LIST:'[data-widget="webListReviews"]',REVIEWS:'[data-widget="webListReviews"] > div > div > div[data-review-uuid]',REVIEW_CONTENT:":scope > div:nth-of-type(1) > div:nth-of-type(2)",REVIEW_FOOTER:":scope > div:nth-of-type(1) > div:nth-of-type(3)",PRODUCT_VARIATION_WRAP:":scope > div:nth-of-type(1) a",REVIEW_SURVEY_WRAP:":scope > div:nth-of-type(1) > div > div:nth-of-type(2)",REVIEW_TEXT_WRAP:":scope > div:nth-of-type(2)",STICKY_REVIEWS_INFO:'[data-widget="webStickyProducts"] [data-widget="webReviewProductScore"] .tsBodyControl400Small',UNNECESSARY_ELEMENTS:'[data-widget="separator"], [data-widget="skuGrid"]',PAGINATOR:'[data-widget="paginator"]',FILTERS_CONTAINER:"#customFiltersContainer",WEB_REVIEW_TABS:'[data-widget="webReviewTabs"]'},bt=x(1928),Z=x(9397),ht=x(9144),I={READ_MORE_CLICK_PASSED:"readMoreClickPassed"},B=x(147),ot=x(6610);function yt(mt,_t){mt.forEach(function(Tt){return At(_t,Tt)})}function At(mt,_t){if(_t){for(var Tt=new RegExp("(".concat(_t,")"),"gi"),Lt=document.createTreeWalker(mt,NodeFilter.SHOW_TEXT,null),de=Lt.nextNode(),ce=[],Ce=function(){var xe=de,be=xe.textContent;if(Tt.test(be)){var we=document.createDocumentFragment(),ke=0;be.replace(Tt,function(Ae,Qe,Te){Te>ke&&we.appendChild(document.createTextNode(be.slice(ke,Te)));var je=document.createElement("span");je.className="highlightedSubstring",je.style.backgroundColor="yellow",je.textContent=Ae,we.appendChild(je),ke=Te+Ae.length}),ke<be.length&&we.appendChild(document.createTextNode(be.slice(ke))),ce.push({node:de,fragment:we})}de=Lt.nextNode()};de;)Ce();ce.forEach(function(Se){var xe=Se.node,be=Se.fragment;xe.parentNode.replaceChild(be,xe)})}}function Wt(mt){var _t=(0,V.DJ)(".highlightedSubstring",mt);_t.forEach(function(Tt){var Lt=Tt.parentNode;Tt.replaceWith(Tt.textContent),Lt.normalize()})}var Ht=x(2231);function Zt(mt,_t){var Tt=(0,Ht.z)(mt);yt(Tt,_t)}function te(mt,_t){var Tt=(0,Ht.z)(mt);_t.forEach(function(Lt){return yt(Tt,Lt)})}var oe=x(2050),se=x(4868),ne=(0,bt.Z)(ue),Bt=ne.createGlobalFilter,dt=Bt("reviews-variation-filter"),Ut=Bt("reviews-text-filter"),re=Bt("reviews-min-likes-filter"),Pt=Bt("reviews-max-dislikes-filter"),G=Bt("reviews-has-photo-filter",!1),H=Bt("reviews-filter-enabled",!0),U,lt=new WeakMap;function Ct(){return Ot.apply(this,arguments)}function Ot(){return Ot=(0,S.Z)(T().mark(function mt(){var _t,Tt,Lt=arguments;return T().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return _t=Lt.length>0&&Lt[0]!==void 0?Lt[0]:!0,Tt=Lt.length>1&&Lt[1]!==void 0?Lt[1]:!1,_t&&St(),vt(),ce.next=6,Ft(Tt);case 6:if(!Tt){ce.next=9;break}return ce.next=9,Kt();case 9:case"end":return ce.stop()}},mt)})),Ot.apply(this,arguments)}function St(){var mt=(0,V.tk)(q.COMMENTS);mt&&mt.scrollIntoView()}function vt(){var mt=(0,B.ir)(),_t=(0,ot.tA)();mt!==_t&&(dt.resetValue(),Ut.resetValue(),re.resetValue(),G.resetValue(),Pt.resetValue()),(0,ot.uL)(mt)}function Ft(mt){return $t.apply(this,arguments)}function $t(){return $t=(0,S.Z)(T().mark(function mt(_t){var Tt,Lt;return T().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.next=2,(0,F.br)(document,q.CONTROLS_CONTAINER);case 2:Tt=ce.sent,(0,W.C)(Tt,Rt),ie(_t),ue(),Lt=new MutationObserver((0,F.Ds)(ue)),Lt.observe(U,{childList:!0});case 8:case"end":return ce.stop()}},mt)})),$t.apply(this,arguments)}function Rt(mt,_t){(0,B.Ub)(),(0,V.Zs)(mt,z.FILTERS_CONTAINER),(0,V.Zs)(_t,z.FILTERS_CONTAINER_WRAP);var Tt=(0,oe.Xi)("\u0412\u0430\u0440\u0438\u0430\u0446\u0438\u044F:",dt,z.CONTROL,z.TEXT_INPUT),Lt=(0,oe.Xi)("\u0422\u0435\u043A\u0441\u0442:",Ut,z.CONTROL,z.TEXT_INPUT),de=(0,J.ZX)("\u041C\u0438\u043D. \u043B\u0430\u0438\u0306\u043A\u043E\u0432: ",re,z.CONTROL,z.NUMBER_INPUT),ce=(0,J.ZX)("\u041C\u0430\u043A\u0441. \u0434\u0438\u0437\u043B\u0430\u0438\u0306\u043A\u043E\u0432: ",Pt,z.CONTROL,z.NUMBER_INPUT),Ce=(0,J.Pw)(G,z.CONTROL,z.CHECKBOX_INPUT),Se=(0,se.r)(z.CONTROL),xe=(0,J.pN)(H,z.CONTROL,z.CHECKBOX_INPUT);mt.append(Tt,Lt,de,ce,Ce,Se,xe),_t.append(mt),(0,B.kq)()}function ie(mt){var _t=(0,V.tk)(q.REVIEWS_LIST);U=mt?_t?.parentNode:_t.children[1]}function ue(){var mt=(0,V.DJ)(q.REVIEWS);mt.forEach(j),pt(mt),kt()}function j(mt){var _t=mt.parentNode;if(!H.value){(0,Z.V_)(_t);return}Wt(_t);var Tt=lt.get(_t);if(!Tt){K(_t);var Lt=(0,V.tk)(q.REVIEW_CONTENT,_t),de=(0,V.tk)(q.REVIEW_FOOTER,_t);if(!Lt||!de){(0,Z.e6)(_t);return}var ce=(0,V.tk)(q.PRODUCT_VARIATION_WRAP,Lt),Ce=(0,V.tk)(q.REVIEW_SURVEY_WRAP,Lt),Se=(0,V.tk)(q.REVIEW_TEXT_WRAP,Lt),xe=[Ce,Se].filter(Boolean),be=(0,V.fZ)(de,"button","\u0414\u0430"),we=(0,V.fZ)(de,"button","\u041D\u0435\u0442");if(!be||!we){(0,Z.e6)(_t);return}var ke=ce.innerText,Ae=xe.map(function(Hn){return Hn.innerText}).join(" "),Qe=(0,V.NI)(be,!0),Te=(0,V.NI)(we,!0),je=(0,V.qS)("img",Lt);Tt={productVariationWrap:ce,productVariationText:ke,reviewTextWraps:xe,reviewText:Ae,likesNumber:Qe,dislikesNumber:Te,hasPhoto:je},lt.set(_t,Tt)}dt.value&&Zt(dt,Tt.productVariationWrap),Ut.value&&te(Ut,Tt.reviewTextWraps);var xn=(0,ht.J2)(Tt.productVariationText,dt)||(0,ht.J2)(Tt.reviewText,Ut)||(0,ht.E1)(Tt.likesNumber,re)||(0,ht.YY)(Tt.dislikesNumber,Pt)||(0,ht.RC)(Tt.hasPhoto,G);(0,Z.OQ)(_t,xn)}function K(mt){if(!mt.hasAttribute(I.READ_MORE_CLICK_PASSED)){var _t=(0,V.fZ)(mt,"span","\u0427\u0438\u0442\u0430\u0442\u044C \u043F\u043E\u043B\u043D\u043E\u0441\u0442\u044C\u044E");_t&&_t.click(),mt.setAttribute(I.READ_MORE_CLICK_PASSED,"")}}function pt(mt){var _t=(0,c.Z)(mt).filter(function(de){return de.parentNode.style.display!=="none"}).length,Tt=(0,V.tk)(q.STICKY_REVIEWS_INFO);if(Tt){var Lt=Tt.textContent.split("(")[0].trim();Tt.textContent="".concat(Lt," (").concat(_t,"/").concat(mt.length,")")}}function kt(){(0,V.DJ)(q.UNNECESSARY_ELEMENTS,U).forEach(function(mt){return mt.remove()})}function Kt(){return jt.apply(this,arguments)}function jt(){return jt=(0,S.Z)(T().mark(function mt(){var _t,Tt;return T().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:_t=(0,V.tk)(q.PAGINATOR),Tt=new MutationObserver((0,F.Ds)(function(){return Et(_t)})),Tt.observe(_t,{childList:!0});case 3:case"end":return de.stop()}},mt)})),jt.apply(this,arguments)}function Et(mt){return Vt.apply(this,arguments)}function Vt(){return Vt=(0,S.Z)(T().mark(function mt(_t){return T().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:if(!(0,V.tk)(q.FILTERS_CONTAINER,_t)){Lt.next=2;break}return Lt.abrupt("return");case 2:return Lt.next=4,(0,F.br)(_t,q.WEB_REVIEW_TABS);case 4:return Lt.next=6,Ft(!0);case 6:case"end":return Lt.stop()}},mt)})),Vt.apply(this,arguments)}},9608:(ut,X,x)=>{"use strict";x.d(X,{I:()=>c});var c={PAGINATOR_CONTENT:"#paginatorContent",FAVORITES_LINK:'[data-widget="favoriteCounter"]'}},7061:(ut,X,x)=>{var c=x(8698).default;function S(){"use strict";ut.exports=S=function(){return T},ut.exports.__esModule=!0,ut.exports.default=ut.exports;var D,T={},F=Object.prototype,W=F.hasOwnProperty,V=Object.defineProperty||function(G,H,U){G[H]=U.value},J=typeof Symbol=="function"?Symbol:{},at=J.iterator||"@@iterator",gt=J.asyncIterator||"@@asyncIterator",et=J.toStringTag||"@@toStringTag";function tt(G,H,U){return Object.defineProperty(G,H,{value:U,enumerable:!0,configurable:!0,writable:!0}),G[H]}try{tt({},"")}catch{tt=function(U,lt,Ct){return U[lt]=Ct}}function z(G,H,U,lt){var Ct=H&&H.prototype instanceof ot?H:ot,Ot=Object.create(Ct.prototype),St=new re(lt||[]);return V(Ot,"_invoke",{value:ne(G,U,St)}),Ot}function q(G,H,U){try{return{type:"normal",arg:G.call(H,U)}}catch(lt){return{type:"throw",arg:lt}}}T.wrap=z;var bt="suspendedStart",Z="suspendedYield",ht="executing",I="completed",B={};function ot(){}function yt(){}function At(){}var Wt={};tt(Wt,at,function(){return this});var Ht=Object.getPrototypeOf,Zt=Ht&&Ht(Ht(Pt([])));Zt&&Zt!==F&&W.call(Zt,at)&&(Wt=Zt);var te=At.prototype=ot.prototype=Object.create(Wt);function oe(G){["next","throw","return"].forEach(function(H){tt(G,H,function(U){return this._invoke(H,U)})})}function se(G,H){function U(Ct,Ot,St,vt){var Ft=q(G[Ct],G,Ot);if(Ft.type!=="throw"){var $t=Ft.arg,Rt=$t.value;return Rt&&c(Rt)=="object"&&W.call(Rt,"__await")?H.resolve(Rt.__await).then(function(ie){U("next",ie,St,vt)},function(ie){U("throw",ie,St,vt)}):H.resolve(Rt).then(function(ie){$t.value=ie,St($t)},function(ie){return U("throw",ie,St,vt)})}vt(Ft.arg)}var lt;V(this,"_invoke",{value:function(Ot,St){function vt(){return new H(function(Ft,$t){U(Ot,St,Ft,$t)})}return lt=lt?lt.then(vt,vt):vt()}})}function ne(G,H,U){var lt=bt;return function(Ct,Ot){if(lt===ht)throw Error("Generator is already running");if(lt===I){if(Ct==="throw")throw Ot;return{value:D,done:!0}}for(U.method=Ct,U.arg=Ot;;){var St=U.delegate;if(St){var vt=Bt(St,U);if(vt){if(vt===B)continue;return vt}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(lt===bt)throw lt=I,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);lt=ht;var Ft=q(G,H,U);if(Ft.type==="normal"){if(lt=U.done?I:Z,Ft.arg===B)continue;return{value:Ft.arg,done:U.done}}Ft.type==="throw"&&(lt=I,U.method="throw",U.arg=Ft.arg)}}}function Bt(G,H){var U=H.method,lt=G.iterator[U];if(lt===D)return H.delegate=null,U==="throw"&&G.iterator.return&&(H.method="return",H.arg=D,Bt(G,H),H.method==="throw")||U!=="return"&&(H.method="throw",H.arg=new TypeError("The iterator does not provide a '"+U+"' method")),B;var Ct=q(lt,G.iterator,H.arg);if(Ct.type==="throw")return H.method="throw",H.arg=Ct.arg,H.delegate=null,B;var Ot=Ct.arg;return Ot?Ot.done?(H[G.resultName]=Ot.value,H.next=G.nextLoc,H.method!=="return"&&(H.method="next",H.arg=D),H.delegate=null,B):Ot:(H.method="throw",H.arg=new TypeError("iterator result is not an object"),H.delegate=null,B)}function dt(G){var H={tryLoc:G[0]};1 in G&&(H.catchLoc=G[1]),2 in G&&(H.finallyLoc=G[2],H.afterLoc=G[3]),this.tryEntries.push(H)}function Ut(G){var H=G.completion||{};H.type="normal",delete H.arg,G.completion=H}function re(G){this.tryEntries=[{tryLoc:"root"}],G.forEach(dt,this),this.reset(!0)}function Pt(G){if(G||G===""){var H=G[at];if(H)return H.call(G);if(typeof G.next=="function")return G;if(!isNaN(G.length)){var U=-1,lt=function Ct(){for(;++U<G.length;)if(W.call(G,U))return Ct.value=G[U],Ct.done=!1,Ct;return Ct.value=D,Ct.done=!0,Ct};return lt.next=lt}}throw new TypeError(c(G)+" is not iterable")}return yt.prototype=At,V(te,"constructor",{value:At,configurable:!0}),V(At,"constructor",{value:yt,configurable:!0}),yt.displayName=tt(At,et,"GeneratorFunction"),T.isGeneratorFunction=function(G){var H=typeof G=="function"&&G.constructor;return!!H&&(H===yt||(H.displayName||H.name)==="GeneratorFunction")},T.mark=function(G){return Object.setPrototypeOf?Object.setPrototypeOf(G,At):(G.__proto__=At,tt(G,et,"GeneratorFunction")),G.prototype=Object.create(te),G},T.awrap=function(G){return{__await:G}},oe(se.prototype),tt(se.prototype,gt,function(){return this}),T.AsyncIterator=se,T.async=function(G,H,U,lt,Ct){Ct===void 0&&(Ct=Promise);var Ot=new se(z(G,H,U,lt),Ct);return T.isGeneratorFunction(H)?Ot:Ot.next().then(function(St){return St.done?St.value:Ot.next()})},oe(te),tt(te,et,"Generator"),tt(te,at,function(){return this}),tt(te,"toString",function(){return"[object Generator]"}),T.keys=function(G){var H=Object(G),U=[];for(var lt in H)U.push(lt);return U.reverse(),function Ct(){for(;U.length;){var Ot=U.pop();if(Ot in H)return Ct.value=Ot,Ct.done=!1,Ct}return Ct.done=!0,Ct}},T.values=Pt,re.prototype={constructor:re,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=D,this.done=!1,this.delegate=null,this.method="next",this.arg=D,this.tryEntries.forEach(Ut),!H)for(var U in this)U.charAt(0)==="t"&&W.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=D)},stop:function(){this.done=!0;var H=this.tryEntries[0].completion;if(H.type==="throw")throw H.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var U=this;function lt($t,Rt){return St.type="throw",St.arg=H,U.next=$t,Rt&&(U.method="next",U.arg=D),!!Rt}for(var Ct=this.tryEntries.length-1;Ct>=0;--Ct){var Ot=this.tryEntries[Ct],St=Ot.completion;if(Ot.tryLoc==="root")return lt("end");if(Ot.tryLoc<=this.prev){var vt=W.call(Ot,"catchLoc"),Ft=W.call(Ot,"finallyLoc");if(vt&&Ft){if(this.prev<Ot.catchLoc)return lt(Ot.catchLoc,!0);if(this.prev<Ot.finallyLoc)return lt(Ot.finallyLoc)}else if(vt){if(this.prev<Ot.catchLoc)return lt(Ot.catchLoc,!0)}else{if(!Ft)throw Error("try statement without catch or finally");if(this.prev<Ot.finallyLoc)return lt(Ot.finallyLoc)}}}},abrupt:function(H,U){for(var lt=this.tryEntries.length-1;lt>=0;--lt){var Ct=this.tryEntries[lt];if(Ct.tryLoc<=this.prev&&W.call(Ct,"finallyLoc")&&this.prev<Ct.finallyLoc){var Ot=Ct;break}}Ot&&(H==="break"||H==="continue")&&Ot.tryLoc<=U&&U<=Ot.finallyLoc&&(Ot=null);var St=Ot?Ot.completion:{};return St.type=H,St.arg=U,Ot?(this.method="next",this.next=Ot.finallyLoc,B):this.complete(St)},complete:function(H,U){if(H.type==="throw")throw H.arg;return H.type==="break"||H.type==="continue"?this.next=H.arg:H.type==="return"?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):H.type==="normal"&&U&&(this.next=U),B},finish:function(H){for(var U=this.tryEntries.length-1;U>=0;--U){var lt=this.tryEntries[U];if(lt.finallyLoc===H)return this.complete(lt.completion,lt.afterLoc),Ut(lt),B}},catch:function(H){for(var U=this.tryEntries.length-1;U>=0;--U){var lt=this.tryEntries[U];if(lt.tryLoc===H){var Ct=lt.completion;if(Ct.type==="throw"){var Ot=Ct.arg;Ut(lt)}return Ot}}throw Error("illegal catch attempt")},delegateYield:function(H,U,lt){return this.delegate={iterator:Pt(H),resultName:U,nextLoc:lt},this.method==="next"&&(this.arg=D),B}},T}ut.exports=S,ut.exports.__esModule=!0,ut.exports.default=ut.exports},8698:ut=>{function X(x){"@babel/helpers - typeof";return ut.exports=X=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},ut.exports.__esModule=!0,ut.exports.default=ut.exports,X(x)}ut.exports=X,ut.exports.__esModule=!0,ut.exports.default=ut.exports},4687:(ut,X,x)=>{var c=x(7061)();ut.exports=c;try{regeneratorRuntime=c}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=c:Function("r","regeneratorRuntime = r")(c)}},907:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>c});function c(S,D){(D==null||D>S.length)&&(D=S.length);for(var T=0,F=Array(D);T<D;T++)F[T]=S[T];return F}},3878:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>c});function c(S){if(Array.isArray(S))return S}},5057:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>S});var c=x(907);function S(D){if(Array.isArray(D))return(0,c.Z)(D)}},7326:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>c});function c(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}},5861:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>S});function c(D,T,F,W,V,J,at){try{var gt=D[J](at),et=gt.value}catch(tt){return void F(tt)}gt.done?T(et):Promise.resolve(et).then(W,V)}function S(D){return function(){var T=this,F=arguments;return new Promise(function(W,V){var J=D.apply(T,F);function at(et){c(J,W,V,at,gt,"next",et)}function gt(et){c(J,W,V,at,gt,"throw",et)}at(void 0)})}}},5671:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>c});function c(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")}},3144:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>D});var c=x(7343);function S(T,F){for(var W=0;W<F.length;W++){var V=F[W];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(T,(0,c.Z)(V.key),V)}}function D(T,F,W){return F&&S(T.prototype,F),W&&S(T,W),Object.defineProperty(T,"prototype",{writable:!1}),T}},4942:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>S});var c=x(7343);function S(D,T,F){return(T=(0,c.Z)(T))in D?Object.defineProperty(D,T,{value:F,enumerable:!0,configurable:!0,writable:!0}):D[T]=F,D}},1120:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>c});function c(S){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},c(S)}},136:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>S});var c=x(9611);function S(D,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(T&&T.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),T&&(0,c.Z)(D,T)}},9199:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>c});function c(S){if(typeof Symbol<"u"&&S[Symbol.iterator]!=null||S["@@iterator"]!=null)return Array.from(S)}},1902:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>c});function c(S,D){var T=S==null?null:typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(T!=null){var F,W,V,J,at=[],gt=!0,et=!1;try{if(V=(T=T.call(S)).next,D===0){if(Object(T)!==T)return;gt=!1}else for(;!(gt=(F=V.call(T)).done)&&(at.push(F.value),at.length!==D);gt=!0);}catch(tt){et=!0,W=tt}finally{try{if(!gt&&T.return!=null&&(J=T.return(),Object(J)!==J))return}finally{if(et)throw W}}return at}}},5267:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>c});function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},2786:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>c});function c(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},2963:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>D});var c=x(1002),S=x(7326);function D(T,F){if(F&&((0,c.Z)(F)=="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,S.Z)(T)}},9611:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>c});function c(S,D){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,F){return T.__proto__=F,T},c(S,D)}},1465:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>F});var c=x(3878),S=x(1902),D=x(181),T=x(5267);function F(W,V){return(0,c.Z)(W)||(0,S.Z)(W,V)||(0,D.Z)(W,V)||(0,T.Z)()}},9062:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>F});var c=x(5057),S=x(9199),D=x(181),T=x(2786);function F(W){return(0,c.Z)(W)||(0,S.Z)(W)||(0,D.Z)(W)||(0,T.Z)()}},5512:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>S});var c=x(1002);function S(D,T){if((0,c.Z)(D)!="object"||!D)return D;var F=D[Symbol.toPrimitive];if(F!==void 0){var W=F.call(D,T||"default");if((0,c.Z)(W)!="object")return W;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(D)}},7343:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>D});var c=x(1002),S=x(5512);function D(T){var F=(0,S.Z)(T,"string");return(0,c.Z)(F)=="symbol"?F:F+""}},1002:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>c});function c(S){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},c(S)}},181:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>S});var c=x(907);function S(D,T){if(D){if(typeof D=="string")return(0,c.Z)(D,T);var F={}.toString.call(D).slice(8,-1);return F==="Object"&&D.constructor&&(F=D.constructor.name),F==="Map"||F==="Set"?Array.from(D):F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F)?(0,c.Z)(D,T):void 0}}},6193:(ut,X,x)=>{"use strict";x.d(X,{Il:()=>ie});function c(j){return j+.5|0}const S=(j,K,pt)=>Math.max(Math.min(j,pt),K);function D(j){return S(c(j*2.55),0,255)}function T(j){return S(c(j/2.55),0,100)}function F(j){return S(c(j*255),0,255)}function W(j){return S(c(j/2.55)/100,0,1)}function V(j){return S(c(j*100),0,100)}const J={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},at=[..."0123456789ABCDEF"],gt=j=>at[j&15],et=j=>at[(j&240)>>4]+at[j&15],tt=j=>(j&240)>>4===(j&15),z=j=>tt(j.r)&&tt(j.g)&&tt(j.b)&&tt(j.a);function q(j){var K=j.length,pt;return j[0]==="#"&&(K===4||K===5?pt={r:255&J[j[1]]*17,g:255&J[j[2]]*17,b:255&J[j[3]]*17,a:K===5?J[j[4]]*17:255}:(K===7||K===9)&&(pt={r:J[j[1]]<<4|J[j[2]],g:J[j[3]]<<4|J[j[4]],b:J[j[5]]<<4|J[j[6]],a:K===9?J[j[7]]<<4|J[j[8]]:255})),pt}const bt=(j,K)=>j<255?K(j):"";function Z(j){var K=z(j)?gt:et;return j?"#"+K(j.r)+K(j.g)+K(j.b)+bt(j.a,K):void 0}const ht=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function I(j,K,pt){const kt=K*Math.min(pt,1-pt),Kt=(jt,Et=(jt+j/30)%12)=>pt-kt*Math.max(Math.min(Et-3,9-Et,1),-1);return[Kt(0),Kt(8),Kt(4)]}function B(j,K,pt){const kt=(Kt,jt=(Kt+j/60)%6)=>pt-pt*K*Math.max(Math.min(jt,4-jt,1),0);return[kt(5),kt(3),kt(1)]}function ot(j,K,pt){const kt=I(j,1,.5);let Kt;for(K+pt>1&&(Kt=1/(K+pt),K*=Kt,pt*=Kt),Kt=0;Kt<3;Kt++)kt[Kt]*=1-K-pt,kt[Kt]+=K;return kt}function yt(j,K,pt,kt,Kt){return j===Kt?(K-pt)/kt+(K<pt?6:0):K===Kt?(pt-j)/kt+2:(j-K)/kt+4}function At(j){const pt=j.r/255,kt=j.g/255,Kt=j.b/255,jt=Math.max(pt,kt,Kt),Et=Math.min(pt,kt,Kt),Vt=(jt+Et)/2;let mt,_t,Tt;return jt!==Et&&(Tt=jt-Et,_t=Vt>.5?Tt/(2-jt-Et):Tt/(jt+Et),mt=yt(pt,kt,Kt,Tt,jt),mt=mt*60+.5),[mt|0,_t||0,Vt]}function Wt(j,K,pt,kt){return(Array.isArray(K)?j(K[0],K[1],K[2]):j(K,pt,kt)).map(F)}function Ht(j,K,pt){return Wt(I,j,K,pt)}function Zt(j,K,pt){return Wt(ot,j,K,pt)}function te(j,K,pt){return Wt(B,j,K,pt)}function oe(j){return(j%360+360)%360}function se(j){const K=ht.exec(j);let pt=255,kt;if(!K)return;K[5]!==kt&&(pt=K[6]?D(+K[5]):F(+K[5]));const Kt=oe(+K[2]),jt=+K[3]/100,Et=+K[4]/100;return K[1]==="hwb"?kt=Zt(Kt,jt,Et):K[1]==="hsv"?kt=te(Kt,jt,Et):kt=Ht(Kt,jt,Et),{r:kt[0],g:kt[1],b:kt[2],a:pt}}function ne(j,K){var pt=At(j);pt[0]=oe(pt[0]+K),pt=Ht(pt),j.r=pt[0],j.g=pt[1],j.b=pt[2]}function Bt(j){if(!j)return;const K=At(j),pt=K[0],kt=V(K[1]),Kt=V(K[2]);return j.a<255?`hsla(${pt}, ${kt}%, ${Kt}%, ${W(j.a)})`:`hsl(${pt}, ${kt}%, ${Kt}%)`}const dt={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ut={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function re(){const j={},K=Object.keys(Ut),pt=Object.keys(dt);let kt,Kt,jt,Et,Vt;for(kt=0;kt<K.length;kt++){for(Et=Vt=K[kt],Kt=0;Kt<pt.length;Kt++)jt=pt[Kt],Vt=Vt.replace(jt,dt[jt]);jt=parseInt(Ut[Et],16),j[Vt]=[jt>>16&255,jt>>8&255,jt&255]}return j}let Pt;function G(j){Pt||(Pt=re(),Pt.transparent=[0,0,0,0]);const K=Pt[j.toLowerCase()];return K&&{r:K[0],g:K[1],b:K[2],a:K.length===4?K[3]:255}}const H=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function U(j){const K=H.exec(j);let pt=255,kt,Kt,jt;if(K){if(K[7]!==kt){const Et=+K[7];pt=K[8]?D(Et):S(Et*255,0,255)}return kt=+K[1],Kt=+K[3],jt=+K[5],kt=255&(K[2]?D(kt):S(kt,0,255)),Kt=255&(K[4]?D(Kt):S(Kt,0,255)),jt=255&(K[6]?D(jt):S(jt,0,255)),{r:kt,g:Kt,b:jt,a:pt}}}function lt(j){return j&&(j.a<255?`rgba(${j.r}, ${j.g}, ${j.b}, ${W(j.a)})`:`rgb(${j.r}, ${j.g}, ${j.b})`)}const Ct=j=>j<=.0031308?j*12.92:Math.pow(j,1/2.4)*1.055-.055,Ot=j=>j<=.04045?j/12.92:Math.pow((j+.055)/1.055,2.4);function St(j,K,pt){const kt=Ot(W(j.r)),Kt=Ot(W(j.g)),jt=Ot(W(j.b));return{r:F(Ct(kt+pt*(Ot(W(K.r))-kt))),g:F(Ct(Kt+pt*(Ot(W(K.g))-Kt))),b:F(Ct(jt+pt*(Ot(W(K.b))-jt))),a:j.a+pt*(K.a-j.a)}}function vt(j,K,pt){if(j){let kt=At(j);kt[K]=Math.max(0,Math.min(kt[K]+kt[K]*pt,K===0?360:1)),kt=Ht(kt),j.r=kt[0],j.g=kt[1],j.b=kt[2]}}function Ft(j,K){return j&&Object.assign(K||{},j)}function $t(j){var K={r:0,g:0,b:0,a:255};return Array.isArray(j)?j.length>=3&&(K={r:j[0],g:j[1],b:j[2],a:255},j.length>3&&(K.a=F(j[3]))):(K=Ft(j,{r:0,g:0,b:0,a:1}),K.a=F(K.a)),K}function Rt(j){return j.charAt(0)==="r"?U(j):se(j)}class ie{constructor(K){if(K instanceof ie)return K;const pt=typeof K;let kt;pt==="object"?kt=$t(K):pt==="string"&&(kt=q(K)||G(K)||Rt(K)),this._rgb=kt,this._valid=!!kt}get valid(){return this._valid}get rgb(){var K=Ft(this._rgb);return K&&(K.a=W(K.a)),K}set rgb(K){this._rgb=$t(K)}rgbString(){return this._valid?lt(this._rgb):void 0}hexString(){return this._valid?Z(this._rgb):void 0}hslString(){return this._valid?Bt(this._rgb):void 0}mix(K,pt){if(K){const kt=this.rgb,Kt=K.rgb;let jt;const Et=pt===jt?.5:pt,Vt=2*Et-1,mt=kt.a-Kt.a,_t=((Vt*mt===-1?Vt:(Vt+mt)/(1+Vt*mt))+1)/2;jt=1-_t,kt.r=255&_t*kt.r+jt*Kt.r+.5,kt.g=255&_t*kt.g+jt*Kt.g+.5,kt.b=255&_t*kt.b+jt*Kt.b+.5,kt.a=Et*kt.a+(1-Et)*Kt.a,this.rgb=kt}return this}interpolate(K,pt){return K&&(this._rgb=St(this._rgb,K._rgb,pt)),this}clone(){return new ie(this.rgb)}alpha(K){return this._rgb.a=F(K),this}clearer(K){const pt=this._rgb;return pt.a*=1-K,this}greyscale(){const K=this._rgb,pt=c(K.r*.3+K.g*.59+K.b*.11);return K.r=K.g=K.b=pt,this}opaquer(K){const pt=this._rgb;return pt.a*=1+K,this}negate(){const K=this._rgb;return K.r=255-K.r,K.g=255-K.g,K.b=255-K.b,this}lighten(K){return vt(this._rgb,2,K),this}darken(K){return vt(this._rgb,2,-K),this}saturate(K){return vt(this._rgb,1,K),this}desaturate(K){return vt(this._rgb,1,-K),this}rotate(K){return ne(this._rgb,K),this}}function ue(j){return new ie(j)}},9085:(ut,X,x)=>{"use strict";x.d(X,{ZP:()=>S});var c=x(3148);c.kL.register(...c.zX);const S=c.kL},3148:(ut,X,x)=>{"use strict";x.d(X,{FK:()=>V,W_:()=>Fe,jI:()=>j,kL:()=>p,zX:()=>co});var c=x(6672);class S{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const r=e.listeners[i],o=e.duration;r.forEach(l=>l({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=c.r.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let o=r.length-1,l=!1,u;for(;o>=0;--o)u=r[o],u._active?(u._total>n.duration&&(n.duration=u._total),u.tick(t),l=!0):(r[o]=r[r.length-1],r.pop());l&&(i.draw(),this._notify(i,n,t,"progress")),r.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var D=new S;const T="transparent",F={boolean(s,t,e){return e>.5?t:s},color(s,t,e){const n=(0,c.c)(s||T),i=n.valid&&(0,c.c)(t||T);return i&&i.valid?i.mix(n,e).hexString():t},number(s,t,e){return s+(t-s)*e}};class W{constructor(t,e,n,i){const r=e[n];i=(0,c.a)([t.to,i,r,t.from]);const o=(0,c.a)([t.from,r,i]);this._active=!0,this._fn=t.fn||F[t.type||typeof o],this._easing=c.e[t.easing]||c.e.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=(0,c.a)([t.to,e,i,t.from]),this._from=(0,c.a)([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,r=this._from,o=this._loop,l=this._to;let u;if(this._active=r!==l&&(o||e<n),!this._active){this._target[i]=l,this._notify(!0);return}if(e<0){this._target[i]=r;return}u=e/n%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(r,l,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}}class V{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!(0,c.i)(t))return;const e=Object.keys(c.d.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!(0,c.i)(r))return;const o={};for(const l of e)o[l]=r[l];((0,c.b)(r.properties)&&r.properties||[i]).forEach(l=>{(l===i||!n.has(l))&&n.set(l,o)})})}_animateOptions(t,e){const n=e.options,i=at(t,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&J(t.options.$animations,n).then(()=>{t.options=n},()=>{}),r}_createAnimations(t,e){const n=this._properties,i=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),l=Date.now();let u;for(u=o.length-1;u>=0;--u){const f=o[u];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(t,e));continue}const b=e[f];let _=r[f];const C=n.get(f);if(_)if(C&&_.active()){_.update(C,b,l);continue}else _.cancel();if(!C||!C.duration){t[f]=b;continue}r[f]=_=new W(C,t,f,b),i.push(_)}return i}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const n=this._createAnimations(t,e);if(n.length)return D.add(this._chart,n),!0}}function J(s,t){const e=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const r=s[n[i]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function at(s,t){if(!t)return;let e=s.options;if(!e){s.options=t;return}return e.$shared&&(s.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function gt(s,t){const e=s&&s.options||{},n=e.reverse,i=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:n?r:i,end:n?i:r}}function et(s,t,e){if(e===!1)return!1;const n=gt(s,e),i=gt(t,e);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function tt(s){let t,e,n,i;return(0,c.i)(s)?(t=s.top,e=s.right,n=s.bottom,i=s.left):t=e=n=i=s,{top:t,right:e,bottom:n,left:i,disabled:s===!1}}function z(s,t){const e=[],n=s._getSortedDatasetMetas(t);let i,r;for(i=0,r=n.length;i<r;++i)e.push(n[i].index);return e}function q(s,t,e,n={}){const i=s.keys,r=n.mode==="single";let o,l,u,f;if(t===null)return;let b=!1;for(o=0,l=i.length;o<l;++o){if(u=+i[o],u===e){if(b=!0,n.all)continue;break}f=s.values[u],(0,c.g)(f)&&(r||t===0||(0,c.s)(t)===(0,c.s)(f))&&(t+=f)}return!b&&!n.all?0:t}function bt(s,t){const{iScale:e,vScale:n}=t,i=e.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",o=Object.keys(s),l=new Array(o.length);let u,f,b;for(u=0,f=o.length;u<f;++u)b=o[u],l[u]={[i]:b,[r]:s[b]};return l}function Z(s,t){const e=s&&s.options.stacked;return e||e===void 0&&t.stack!==void 0}function ht(s,t,e){return`${s.id}.${t.id}.${e.stack||e.type}`}function I(s){const{min:t,max:e,minDefined:n,maxDefined:i}=s.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?e:Number.POSITIVE_INFINITY}}function B(s,t,e){const n=s[t]||(s[t]={});return n[e]||(n[e]={})}function ot(s,t,e,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const r=s[i.index];if(e&&r>0||!e&&r<0)return i.index}return null}function yt(s,t){const{chart:e,_cachedMeta:n}=s,i=e._stacks||(e._stacks={}),{iScale:r,vScale:o,index:l}=n,u=r.axis,f=o.axis,b=ht(r,o,n),_=t.length;let C;for(let O=0;O<_;++O){const L=t[O],{[u]:Y,[f]:it}=L,nt=L._stacks||(L._stacks={});C=nt[f]=B(i,b,Y),C[l]=it,C._top=ot(C,o,!0,n.type),C._bottom=ot(C,o,!1,n.type);const rt=C._visualValues||(C._visualValues={});rt[l]=it}}function At(s,t){const e=s.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function Wt(s,t){return(0,c.j)(s,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Ht(s,t,e){return(0,c.j)(s,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Zt(s,t){const e=s.controller.index,n=s.vScale&&s.vScale.axis;if(n){t=t||s._parsed;for(const i of t){const r=i._stacks;if(!r||r[n]===void 0||r[n][e]===void 0)return;delete r[n][e],r[n]._visualValues!==void 0&&r[n]._visualValues[e]!==void 0&&delete r[n]._visualValues[e]}}}const te=s=>s==="reset"||s==="none",oe=(s,t)=>t?s:Object.assign({},s),se=(s,t,e)=>s&&!t.hidden&&t._stacked&&{keys:z(e,!0),values:null};class ne{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Z(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Zt(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(_,C,O,L)=>_==="x"?C:_==="r"?L:O,r=e.xAxisID=(0,c.v)(n.xAxisID,At(t,"x")),o=e.yAxisID=(0,c.v)(n.yAxisID,At(t,"y")),l=e.rAxisID=(0,c.v)(n.rAxisID,At(t,"r")),u=e.indexAxis,f=e.iAxisID=i(u,r,o,l),b=e.vAxisID=i(u,o,r,l);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(l),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(b)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&(0,c.u)(this._data,this),t._stacked&&Zt(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if((0,c.i)(e)){const i=this._cachedMeta;this._data=bt(e,i)}else if(n!==e){if(n){(0,c.u)(n,this);const i=this._cachedMeta;Zt(i),i._parsed=[]}e&&Object.isExtensible(e)&&(0,c.l)(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=e._stacked;e._stacked=Z(e.vScale,e),e.stack!==n.stack&&(i=!0,Zt(e),e.stack=n.stack),this._resyncElements(t),(i||r!==e._stacked)&&(yt(this,e._parsed),e._stacked=Z(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:o}=n,l=r.axis;let u=t===0&&e===i.length?!0:n._sorted,f=t>0&&n._parsed[t-1],b,_,C;if(this._parsing===!1)n._parsed=i,n._sorted=!0,C=i;else{(0,c.b)(i[t])?C=this.parseArrayData(n,i,t,e):(0,c.i)(i[t])?C=this.parseObjectData(n,i,t,e):C=this.parsePrimitiveData(n,i,t,e);const O=()=>_[l]===null||f&&_[l]<f[l];for(b=0;b<e;++b)n._parsed[b+t]=_=C[b],u&&(O()&&(u=!1),f=_);n._sorted=u}o&&yt(this,C)}parsePrimitiveData(t,e,n,i){const{iScale:r,vScale:o}=t,l=r.axis,u=o.axis,f=r.getLabels(),b=r===o,_=new Array(i);let C,O,L;for(C=0,O=i;C<O;++C)L=C+n,_[C]={[l]:b||r.parse(f[L],L),[u]:o.parse(e[L],L)};return _}parseArrayData(t,e,n,i){const{xScale:r,yScale:o}=t,l=new Array(i);let u,f,b,_;for(u=0,f=i;u<f;++u)b=u+n,_=e[b],l[u]={x:r.parse(_[0],b),y:o.parse(_[1],b)};return l}parseObjectData(t,e,n,i){const{xScale:r,yScale:o}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,f=new Array(i);let b,_,C,O;for(b=0,_=i;b<_;++b)C=b+n,O=e[C],f[b]={x:r.parse((0,c.f)(O,l),C),y:o.parse((0,c.f)(O,u),C)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const i=this.chart,r=this._cachedMeta,o=e[t.axis],l={keys:z(i,!0),values:e._stacks[t.axis]._visualValues};return q(l,o,r.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const r=n[e.axis];let o=r===null?NaN:r;const l=i&&n._stacks[e.axis];i&&l&&(i.values=l,o=q(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&t===n.iScale,o=i.length,l=this._getOtherScale(t),u=se(e,n,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:b,max:_}=I(l);let C,O;function L(){O=i[C];const Y=O[l.axis];return!(0,c.g)(O[t.axis])||b>Y||_<Y}for(C=0;C<o&&!(!L()&&(this.updateRangeFromParsed(f,t,O,u),r));++C);if(r){for(C=o-1;C>=0;--C)if(!L()){this.updateRangeFromParsed(f,t,O,u);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i][t.axis],(0,c.g)(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=tt((0,c.v)(this.options.clip,et(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,i=n.data||[],r=e.chartArea,o=[],l=this._drawStart||0,u=this._drawCount||i.length-l,f=this.options.drawActiveElementsOnTop;let b;for(n.dataset&&n.dataset.draw(t,r,l,u),b=l;b<l+u;++b){const _=i[b];_.hidden||(_.active&&f?o.push(_):_.draw(t,r))}for(b=0;b<o.length;++b)o[b].draw(t,r)}getStyle(t,e){const n=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=Ht(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=Wt(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const i=e==="active",r=this._cachedDataOpts,o=t+"-"+e,l=r[o],u=this.enableOptionSharing&&(0,c.h)(n);if(l)return oe(l,u);const f=this.chart.config,b=f.datasetElementScopeKeys(this._type,t),_=i?[`${t}Hover`,"hover",t,""]:[t,""],C=f.getOptionScopes(this.getDataset(),b),O=Object.keys(c.d.elements[t]),L=()=>this.getContext(n,i,e),Y=f.resolveNamedOptions(C,O,L,_);return Y.$shared&&(Y.$shared=u,r[o]=Object.freeze(oe(Y,u))),Y}_resolveAnimations(t,e,n){const i=this.chart,r=this._cachedDataOpts,o=`animation-${e}`,l=r[o];if(l)return l;let u;if(i.options.animation!==!1){const b=this.chart.config,_=b.datasetAnimationScopeKeys(this._type,e),C=b.getOptionScopes(this.getDataset(),_);u=b.createResolver(C,this.getContext(t,n,e))}const f=new V(i,u&&u.animations);return u&&u._cacheable&&(r[o]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||te(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),i=this._sharedOptions,r=this.getSharedOptions(n),o=this.includeOptions(e,r)||r!==i;return this.updateSharedOptions(r,e,n),{sharedOptions:r,includeOptions:o}}updateElement(t,e,n,i){te(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!te(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const r=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[l,u,f]of this._syncList)this[l](u,f);this._syncList=[];const i=n.length,r=e.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,e,n=!0){const i=this._cachedMeta,r=i.data,o=t+e;let l;const u=f=>{for(f.length+=e,l=f.length-1;l>=o;l--)f[l]=f[l-e]};for(u(r),l=t;l<o;++l)r[l]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(t,e),n&&this.updateElements(r,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&Zt(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Bt(s,t){if(!s._cache.$bar){const e=s.getMatchingVisibleMetas(t);let n=[];for(let i=0,r=e.length;i<r;i++)n=n.concat(e[i].controller.getAllParsedValues(s));s._cache.$bar=(0,c._)(n.sort((i,r)=>i-r))}return s._cache.$bar}function dt(s){const t=s.iScale,e=Bt(t,s.type);let n=t._length,i,r,o,l;const u=()=>{o===32767||o===-32768||((0,c.h)(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(i=0,r=e.length;i<r;++i)o=t.getPixelForValue(e[i]),u();for(l=void 0,i=0,r=t.ticks.length;i<r;++i)o=t.getPixelForTick(i),u();return n}function Ut(s,t,e,n){const i=e.barThickness;let r,o;return(0,c.k)(i)?(r=t.min*e.categoryPercentage,o=e.barPercentage):(r=i*n,o=1),{chunk:r/n,ratio:o,start:t.pixels[s]-r/2}}function re(s,t,e,n){const i=t.pixels,r=i[s];let o=s>0?i[s-1]:null,l=s<i.length-1?i[s+1]:null;const u=e.categoryPercentage;o===null&&(o=r-(l===null?t.end-t.start:l-r)),l===null&&(l=r+r-o);const f=r-(r-Math.min(o,l))/2*u;return{chunk:Math.abs(l-o)/2*u/n,ratio:e.barPercentage,start:f}}function Pt(s,t,e,n){const i=e.parse(s[0],n),r=e.parse(s[1],n),o=Math.min(i,r),l=Math.max(i,r);let u=o,f=l;Math.abs(o)>Math.abs(l)&&(u=l,f=o),t[e.axis]=f,t._custom={barStart:u,barEnd:f,start:i,end:r,min:o,max:l}}function G(s,t,e,n){return(0,c.b)(s)?Pt(s,t,e,n):t[e.axis]=e.parse(s,n),t}function H(s,t,e,n){const i=s.iScale,r=s.vScale,o=i.getLabels(),l=i===r,u=[];let f,b,_,C;for(f=e,b=e+n;f<b;++f)C=t[f],_={},_[i.axis]=l||i.parse(o[f],f),u.push(G(C,_,r,f));return u}function U(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function lt(s,t,e){return s!==0?(0,c.s)(s):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Ct(s){let t,e,n,i,r;return s.horizontal?(t=s.base>s.x,e="left",n="right"):(t=s.base<s.y,e="bottom",n="top"),t?(i="end",r="start"):(i="start",r="end"),{start:e,end:n,reverse:t,top:i,bottom:r}}function Ot(s,t,e,n){let i=t.borderSkipped;const r={};if(!i){s.borderSkipped=r;return}if(i===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:u,top:f,bottom:b}=Ct(s);i==="middle"&&e&&(s.enableBorderRadius=!0,(e._top||0)===n?i=f:(e._bottom||0)===n?i=b:(r[St(b,o,l,u)]=!0,i=f)),r[St(i,o,l,u)]=!0,s.borderSkipped=r}function St(s,t,e,n){return n?(s=vt(s,t,e),s=Ft(s,e,t)):s=Ft(s,t,e),s}function vt(s,t,e){return s===t?e:s===e?t:s}function Ft(s,t,e){return s==="start"?t:s==="end"?e:s}function $t(s,{inflateAmount:t},e){s.inflateAmount=t==="auto"?e===1?.33:0:t}class Rt extends ne{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,n,i){return H(t,e,n,i)}parseArrayData(t,e,n,i){return H(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:r,vScale:o}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,f=r.axis==="x"?l:u,b=o.axis==="x"?l:u,_=[];let C,O,L,Y;for(C=n,O=n+i;C<O;++C)Y=e[C],L={},L[r.axis]=r.parse((0,c.f)(Y,f),C),_.push(G((0,c.f)(Y,b),L,o,C));return _}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const r=n._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,r=this.getParsed(t),o=r._custom,l=U(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),f=l.isHorizontal(),b=this._getRuler(),{sharedOptions:_,includeOptions:C}=this._getSharedOptions(e,i);for(let O=e;O<e+n;O++){const L=this.getParsed(O),Y=r||(0,c.k)(L[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(O),it=this._calculateBarIndexPixels(O,b),nt=(L._stacks||{})[l.axis],rt={horizontal:f,base:Y.base,enableBorderRadius:!nt||U(L._custom)||o===nt._top||o===nt._bottom,x:f?Y.head:it.center,y:f?it.center:Y.head,height:f?it.size:Math.abs(Y.size),width:f?Math.abs(Y.size):it.size};C&&(rt.options=_||this.resolveDataElementOptions(O,t[O].active?"active":i));const Mt=rt.options||t[O].options;Ot(rt,Mt,nt,o),$t(rt,Mt,b.ratio),this.updateElement(t[O],O,rt,i)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(b=>b.controller.options.grouped),r=n.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(e),u=l&&l[n.axis],f=b=>{const _=b._parsed.find(O=>O[n.axis]===u),C=_&&_[b.vScale.axis];if((0,c.k)(C)||isNaN(C))return!0};for(const b of i)if(!(e!==void 0&&f(b))&&((r===!1||o.indexOf(b.stack)===-1||r===void 0&&b.stack===void 0)&&o.push(b.stack),b.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const i=this._getStacks(t,n),r=e!==void 0?i.indexOf(e):-1;return r===-1?i.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let r,o;for(r=0,o=e.data.length;r<o;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const l=t.barThickness;return{min:l||dt(e),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:i},options:{base:r,minBarLength:o}}=this,l=r||0,u=this.getParsed(t),f=u._custom,b=U(f);let _=u[e.axis],C=0,O=n?this.applyStack(e,u,n):_,L,Y;O!==_&&(C=O-_,O=_),b&&(_=f.barStart,O=f.barEnd-f.barStart,_!==0&&(0,c.s)(_)!==(0,c.s)(f.barEnd)&&(C=0),C+=_);const it=!(0,c.k)(r)&&!b?r:C;let nt=e.getPixelForValue(it);if(this.chart.getDataVisibility(t)?L=e.getPixelForValue(C+O):L=nt,Y=L-nt,Math.abs(Y)<o){Y=lt(Y,e,l)*o,_===l&&(nt-=Y/2);const rt=e.getPixelForDecimal(0),Mt=e.getPixelForDecimal(1),xt=Math.min(rt,Mt),ft=Math.max(rt,Mt);nt=Math.max(Math.min(nt,ft),xt),L=nt+Y,n&&!b&&(u._stacks[e.axis]._visualValues[i]=e.getValueForPixel(L)-e.getValueForPixel(nt))}if(nt===e.getPixelForValue(l)){const rt=(0,c.s)(Y)*e.getLineWidthForValue(l)/2;nt+=rt,Y-=rt}return{size:Y,base:nt,head:L,center:L+Y/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,r=i.skipNull,o=(0,c.v)(i.maxBarThickness,1/0);let l,u;if(e.grouped){const f=r?this._getStackCount(t):e.stackCount,b=i.barThickness==="flex"?re(t,e,i,f):Ut(t,e,i,f),_=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);l=b.start+b.chunk*_+b.chunk/2,u=Math.min(o,b.chunk*b.ratio)}else l=n.getPixelForValue(this.getParsed(t)[n.axis],t),u=Math.min(o,e.min*e.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let r=0;for(;r<i;++r)this.getParsed(r)[e.axis]!==null&&!n[r].hidden&&n[r].draw(this._ctx)}}class ie extends ne{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,i){const r=super.parsePrimitiveData(t,e,n,i);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+n).radius;return r}parseArrayData(t,e,n,i){const r=super.parseArrayData(t,e,n,i);for(let o=0;o<r.length;o++){const l=e[n+o];r[o]._custom=(0,c.v)(l[2],this.resolveDataElementOptions(o+n).radius)}return r}parseObjectData(t,e,n,i){const r=super.parseObjectData(t,e,n,i);for(let o=0;o<r.length;o++){const l=e[n+o];r[o]._custom=(0,c.v)(l&&l.r&&+l.r,this.resolveDataElementOptions(o+n).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,o=this.getParsed(t),l=i.getLabelForValue(o.x),u=r.getLabelForValue(o.y),f=o._custom;return{label:n[t]||"",value:"("+l+", "+u+(f?", "+f:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,i){const r=i==="reset",{iScale:o,vScale:l}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(e,i),b=o.axis,_=l.axis;for(let C=e;C<e+n;C++){const O=t[C],L=!r&&this.getParsed(C),Y={},it=Y[b]=r?o.getPixelForDecimal(.5):o.getPixelForValue(L[b]),nt=Y[_]=r?l.getBasePixel():l.getPixelForValue(L[_]);Y.skip=isNaN(it)||isNaN(nt),f&&(Y.options=u||this.resolveDataElementOptions(C,O.active?"active":i),r&&(Y.options.radius=0)),this.updateElement(O,C,Y,i)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return e!=="active"&&(i.radius=0),i.radius+=(0,c.v)(n&&n._custom,r),i}}function ue(s,t,e){let n=1,i=1,r=0,o=0;if(t<c.T){const l=s,u=l+t,f=Math.cos(l),b=Math.sin(l),_=Math.cos(u),C=Math.sin(u),O=(Mt,xt,ft)=>(0,c.p)(Mt,l,u,!0)?1:Math.max(xt,xt*e,ft,ft*e),L=(Mt,xt,ft)=>(0,c.p)(Mt,l,u,!0)?-1:Math.min(xt,xt*e,ft,ft*e),Y=O(0,f,_),it=O(c.H,b,C),nt=L(c.P,f,_),rt=L(c.P+c.H,b,C);n=(Y-nt)/2,i=(it-rt)/2,r=-(Y+nt)/2,o=-(it+rt)/2}return{ratioX:n,ratioY:i,offsetX:r,offsetY:o}}class j extends ne{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map((r,o)=>{const u=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let r=u=>+n[u];if((0,c.i)(n[t])){const{key:u="value"}=this._parsing;r=f=>+(0,c.f)(n[f],u)}let o,l;for(o=t,l=t+e;o<l;++o)i._parsed[o]=r(o)}}_getRotation(){return(0,c.t)(this.options.rotation-90)}_getCircumference(){return(0,c.t)(this.options.circumference)}_getRotationExtents(){let t=c.T,e=-c.T;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),o=i._getCircumference();t=Math.min(t,r),e=Math.max(e,r+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-o)/2,0),u=Math.min((0,c.m)(this.options.cutout,l),1),f=this._getRingWeight(this.index),{circumference:b,rotation:_}=this._getRotationExtents(),{ratioX:C,ratioY:O,offsetX:L,offsetY:Y}=ue(_,b,u),it=(n.width-o)/C,nt=(n.height-o)/O,rt=Math.max(Math.min(it,nt)/2,0),Mt=(0,c.n)(this.options.radius,rt),xt=Math.max(Mt*u,0),ft=(Mt-xt)/this._getVisibleDatasetWeightTotal();this.offsetX=L*Mt,this.offsetY=Y*Mt,i.total=this.calculateTotal(),this.outerRadius=Mt-ft*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ft*f,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/c.T)}updateElements(t,e,n,i){const r=i==="reset",o=this.chart,l=o.chartArea,f=o.options.animation,b=(l.left+l.right)/2,_=(l.top+l.bottom)/2,C=r&&f.animateScale,O=C?0:this.innerRadius,L=C?0:this.outerRadius,{sharedOptions:Y,includeOptions:it}=this._getSharedOptions(e,i);let nt=this._getRotation(),rt;for(rt=0;rt<e;++rt)nt+=this._circumference(rt,r);for(rt=e;rt<e+n;++rt){const Mt=this._circumference(rt,r),xt=t[rt],ft={x:b+this.offsetX,y:_+this.offsetY,startAngle:nt,endAngle:nt+Mt,circumference:Mt,outerRadius:L,innerRadius:O};it&&(ft.options=Y||this.resolveDataElementOptions(rt,xt.active?"active":i)),nt+=Mt,this.updateElement(xt,rt,ft,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n=0,i;for(i=0;i<e.length;i++){const r=t._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!e[i].hidden&&(n+=Math.abs(r))}return n}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?c.T*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=(0,c.o)(e._parsed[t],n.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const n=this.chart;let i,r,o,l,u;if(!t){for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),t=o.data,l=o.controller;break}}if(!t)return 0;for(i=0,r=t.length;i<r;++i)u=l.resolveDataElementOptions(i),u.borderAlign!=="inner"&&(e=Math.max(e,u.borderWidth||0,u.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,i=t.length;n<i;++n){const r=this.resolveDataElementOptions(n);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max((0,c.v)(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class K extends ne{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=e,o=this.chart._animationsDisabled;let{start:l,count:u}=(0,c.q)(e,i,o);this._drawStart=l,this._drawCount=u,(0,c.w)(e)&&(l=0,u=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:f},t),this.updateElements(i,l,u,t)}updateElements(t,e,n,i){const r=i==="reset",{iScale:o,vScale:l,_stacked:u,_dataset:f}=this._cachedMeta,{sharedOptions:b,includeOptions:_}=this._getSharedOptions(e,i),C=o.axis,O=l.axis,{spanGaps:L,segment:Y}=this.options,it=(0,c.x)(L)?L:Number.POSITIVE_INFINITY,nt=this.chart._animationsDisabled||r||i==="none",rt=e+n,Mt=t.length;let xt=e>0&&this.getParsed(e-1);for(let ft=0;ft<Mt;++ft){const It=t[ft],Nt=nt?It:{};if(ft<e||ft>=rt){Nt.skip=!0;continue}const zt=this.getParsed(ft),qt=(0,c.k)(zt[O]),ae=Nt[C]=o.getPixelForValue(zt[C],ft),le=Nt[O]=r||qt?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,zt,u):zt[O],ft);Nt.skip=isNaN(ae)||isNaN(le)||qt,Nt.stop=ft>0&&Math.abs(zt[C]-xt[C])>it,Y&&(Nt.parsed=zt,Nt.raw=f.data[ft]),_&&(Nt.options=b||this.resolveDataElementOptions(ft,It.active?"active":i)),nt||this.updateElement(It,ft,Nt,i),xt=zt}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class pt extends ne{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map((r,o)=>{const u=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=(0,c.o)(e._parsed[t].r,n.options.locale);return{label:i[t]||"",value:r}}parseObjectData(t,e,n,i){return c.y.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(i/2,0),o=Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0),l=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,e,n,i){const r=i==="reset",o=this.chart,u=o.options.animation,f=this._cachedMeta.rScale,b=f.xCenter,_=f.yCenter,C=f.getIndexAngle(0)-.5*c.P;let O=C,L;const Y=360/this.countVisibleElements();for(L=0;L<e;++L)O+=this._computeAngle(L,i,Y);for(L=e;L<e+n;L++){const it=t[L];let nt=O,rt=O+this._computeAngle(L,i,Y),Mt=o.getDataVisibility(L)?f.getDistanceFromCenterForValue(this.getParsed(L).r):0;O=rt,r&&(u.animateScale&&(Mt=0),u.animateRotate&&(nt=rt=C));const xt={x:b,y:_,innerRadius:0,outerRadius:Mt,startAngle:nt,endAngle:rt,options:this.resolveDataElementOptions(L,it.active?"active":i)};this.updateElement(it,L,xt,i)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++}),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?(0,c.t)(this.resolveDataElementOptions(t,e).angle||n):0}}class kt extends j{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class Kt extends ne{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,i){return c.y.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta,n=e.dataset,i=e.data||[],r=e.iScale.getLabels();if(n.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const l={_loop:!0,_fullLoop:r.length===i.length,options:o};this.updateElement(n,void 0,l,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,n,i){const r=this._cachedMeta.rScale,o=i==="reset";for(let l=e;l<e+n;l++){const u=t[l],f=this.resolveDataElementOptions(l,u.active?"active":i),b=r.getPointPositionForValue(l,this.getParsed(l).r),_=o?r.xCenter:b.x,C=o?r.yCenter:b.y,O={x:_,y:C,angle:b.angle,skip:isNaN(_)||isNaN(C),options:f};this.updateElement(u,l,O,i)}}}class jt extends ne{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,o=this.getParsed(t),l=i.getLabelForValue(o.x),u=r.getLabelForValue(o.y);return{label:n[t]||"",value:"("+l+", "+u+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,i=this.chart._animationsDisabled;let{start:r,count:o}=(0,c.q)(e,n,i);if(this._drawStart=r,this._drawCount=o,(0,c.w)(e)&&(r=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:u}=e;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!u._decimated,l.points=n;const f=this.resolveDatasetElementOptions(t);f.segment=this.options.segment,this.updateElement(l,void 0,{animated:!i,options:f},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,i){const r=i==="reset",{iScale:o,vScale:l,_stacked:u,_dataset:f}=this._cachedMeta,b=this.resolveDataElementOptions(e,i),_=this.getSharedOptions(b),C=this.includeOptions(i,_),O=o.axis,L=l.axis,{spanGaps:Y,segment:it}=this.options,nt=(0,c.x)(Y)?Y:Number.POSITIVE_INFINITY,rt=this.chart._animationsDisabled||r||i==="none";let Mt=e>0&&this.getParsed(e-1);for(let xt=e;xt<e+n;++xt){const ft=t[xt],It=this.getParsed(xt),Nt=rt?ft:{},zt=(0,c.k)(It[L]),qt=Nt[O]=o.getPixelForValue(It[O],xt),ae=Nt[L]=r||zt?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,It,u):It[L],xt);Nt.skip=isNaN(qt)||isNaN(ae)||zt,Nt.stop=xt>0&&Math.abs(It[O]-Mt[O])>nt,it&&(Nt.parsed=It,Nt.raw=f.data[xt]),C&&(Nt.options=_||this.resolveDataElementOptions(xt,ft.active?"active":i)),rt||this.updateElement(ft,xt,Nt,i),Mt=It}this.updateSharedOptions(_,i,b)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let l=0;for(let u=e.length-1;u>=0;--u)l=Math.max(l,e[u].size(this.resolveDataElementOptions(u))/2);return l>0&&l}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!e.length)return i;const r=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,r,o)/2}}var Et=Object.freeze({__proto__:null,BarController:Rt,BubbleController:ie,DoughnutController:j,LineController:K,PieController:kt,PolarAreaController:pt,RadarController:Kt,ScatterController:jt});function Vt(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class mt{static override(t){Object.assign(mt.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Vt()}parse(){return Vt()}format(){return Vt()}add(){return Vt()}diff(){return Vt()}startOf(){return Vt()}endOf(){return Vt()}}var _t={_date:mt};function Tt(s,t,e,n){const{controller:i,data:r,_sorted:o}=s,l=i._cachedMeta.iScale;if(l&&t===l.axis&&t!=="r"&&o&&r.length){const u=l._reversePixels?c.A:c.B;if(n){if(i._sharedOptions){const f=r[0],b=typeof f.getRange=="function"&&f.getRange(t);if(b){const _=u(r,t,e-b),C=u(r,t,e+b);return{lo:_.lo,hi:C.hi}}}}else return u(r,t,e)}return{lo:0,hi:r.length-1}}function Lt(s,t,e,n,i){const r=s.getSortedVisibleDatasetMetas(),o=e[t];for(let l=0,u=r.length;l<u;++l){const{index:f,data:b}=r[l],{lo:_,hi:C}=Tt(r[l],t,o,i);for(let O=_;O<=C;++O){const L=b[O];L.skip||n(L,f,O)}}}function de(s){const t=s.indexOf("x")!==-1,e=s.indexOf("y")!==-1;return function(n,i){const r=t?Math.abs(n.x-i.x):0,o=e?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function ce(s,t,e,n,i){const r=[];return!i&&!s.isPointInArea(t)||Lt(s,e,t,function(l,u,f){!i&&!(0,c.C)(l,s.chartArea,0)||l.inRange(t.x,t.y,n)&&r.push({element:l,datasetIndex:u,index:f})},!0),r}function Ce(s,t,e,n){let i=[];function r(o,l,u){const{startAngle:f,endAngle:b}=o.getProps(["startAngle","endAngle"],n),{angle:_}=(0,c.D)(o,{x:t.x,y:t.y});(0,c.p)(_,f,b)&&i.push({element:o,datasetIndex:l,index:u})}return Lt(s,e,t,r),i}function Se(s,t,e,n,i,r){let o=[];const l=de(e);let u=Number.POSITIVE_INFINITY;function f(b,_,C){const O=b.inRange(t.x,t.y,i);if(n&&!O)return;const L=b.getCenterPoint(i);if(!(!!r||s.isPointInArea(L))&&!O)return;const it=l(t,L);it<u?(o=[{element:b,datasetIndex:_,index:C}],u=it):it===u&&o.push({element:b,datasetIndex:_,index:C})}return Lt(s,e,t,f),o}function xe(s,t,e,n,i,r){return!r&&!s.isPointInArea(t)?[]:e==="r"&&!n?Ce(s,t,e,i):Se(s,t,e,n,i,r)}function be(s,t,e,n,i){const r=[],o=e==="x"?"inXRange":"inYRange";let l=!1;return Lt(s,e,t,(u,f,b)=>{u[o]&&u[o](t[e],i)&&(r.push({element:u,datasetIndex:f,index:b}),l=l||u.inRange(t.x,t.y,i))}),n&&!l?[]:r}var we={evaluateInteractionItems:Lt,modes:{index(s,t,e,n){const i=(0,c.z)(t,s),r=e.axis||"x",o=e.includeInvisible||!1,l=e.intersect?ce(s,i,r,n,o):xe(s,i,r,!1,n,o),u=[];return l.length?(s.getSortedVisibleDatasetMetas().forEach(f=>{const b=l[0].index,_=f.data[b];_&&!_.skip&&u.push({element:_,datasetIndex:f.index,index:b})}),u):[]},dataset(s,t,e,n){const i=(0,c.z)(t,s),r=e.axis||"xy",o=e.includeInvisible||!1;let l=e.intersect?ce(s,i,r,n,o):xe(s,i,r,!1,n,o);if(l.length>0){const u=l[0].datasetIndex,f=s.getDatasetMeta(u).data;l=[];for(let b=0;b<f.length;++b)l.push({element:f[b],datasetIndex:u,index:b})}return l},point(s,t,e,n){const i=(0,c.z)(t,s),r=e.axis||"xy",o=e.includeInvisible||!1;return ce(s,i,r,n,o)},nearest(s,t,e,n){const i=(0,c.z)(t,s),r=e.axis||"xy",o=e.includeInvisible||!1;return xe(s,i,r,e.intersect,n,o)},x(s,t,e,n){const i=(0,c.z)(t,s);return be(s,i,"x",e.intersect,n)},y(s,t,e,n){const i=(0,c.z)(t,s);return be(s,i,"y",e.intersect,n)}}};const ke=["left","top","right","bottom"];function Ae(s,t){return s.filter(e=>e.pos===t)}function Qe(s,t){return s.filter(e=>ke.indexOf(e.pos)===-1&&e.box.axis===t)}function Te(s,t){return s.sort((e,n)=>{const i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function je(s){const t=[];let e,n,i,r,o,l;for(e=0,n=(s||[]).length;e<n;++e)i=s[e],{position:r,options:{stack:o,stackWeight:l=1}}=i,t.push({index:e,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:l});return t}function xn(s){const t={};for(const e of s){const{stack:n,pos:i,stackWeight:r}=e;if(!n||!ke.includes(i))continue;const o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function Hn(s,t){const e=xn(s),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let r,o,l;for(r=0,o=s.length;r<o;++r){l=s[r];const{fullSize:u}=l.box,f=e[l.stack],b=f&&l.stackWeight/f.weight;l.horizontal?(l.width=b?b*n:u&&t.availableWidth,l.height=i):(l.width=n,l.height=b?b*i:u&&t.availableHeight)}return e}function hi(s){const t=je(s),e=Te(t.filter(f=>f.box.fullSize),!0),n=Te(Ae(t,"left"),!0),i=Te(Ae(t,"right")),r=Te(Ae(t,"top"),!0),o=Te(Ae(t,"bottom")),l=Qe(t,"x"),u=Qe(t,"y");return{fullSize:e,leftAndTop:n.concat(r),rightAndBottom:i.concat(u).concat(o).concat(l),chartArea:Ae(t,"chartArea"),vertical:n.concat(i).concat(u),horizontal:r.concat(o).concat(l)}}function un(s,t,e,n){return Math.max(s[e],t[e])+Math.max(s[n],t[n])}function Un(s,t){s.top=Math.max(s.top,t.top),s.left=Math.max(s.left,t.left),s.bottom=Math.max(s.bottom,t.bottom),s.right=Math.max(s.right,t.right)}function di(s,t,e,n){const{pos:i,box:r}=e,o=s.maxPadding;if(!(0,c.i)(i)){e.size&&(s[i]-=e.size);const _=n[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?r.height:r.width),e.size=_.size/_.count,s[i]+=e.size}r.getPadding&&Un(o,r.getPadding());const l=Math.max(0,t.outerWidth-un(o,s,"left","right")),u=Math.max(0,t.outerHeight-un(o,s,"top","bottom")),f=l!==s.w,b=u!==s.h;return s.w=l,s.h=u,e.horizontal?{same:f,other:b}:{same:b,other:f}}function wn(s){const t=s.maxPadding;function e(n){const i=Math.max(t[n]-s[n],0);return s[n]+=i,i}s.y+=e("top"),s.x+=e("left"),e("right"),e("bottom")}function Pn(s,t){const e=t.maxPadding;function n(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(t[o],e[o])}),r}return n(s?["left","right"]:["top","bottom"])}function hn(s,t,e,n){const i=[];let r,o,l,u,f,b;for(r=0,o=s.length,f=0;r<o;++r){l=s[r],u=l.box,u.update(l.width||t.w,l.height||t.h,Pn(l.horizontal,t));const{same:_,other:C}=di(t,e,l,n);f|=_&&i.length,b=b||C,u.fullSize||i.push(l)}return f&&hn(i,t,e,n)||b}function Ve(s,t,e,n,i){s.top=e,s.left=t,s.right=t+n,s.bottom=e+i,s.width=n,s.height=i}function Cn(s,t,e,n){const i=e.padding;let{x:r,y:o}=t;for(const l of s){const u=l.box,f=n[l.stack]||{count:1,placed:0,weight:1},b=l.stackWeight/f.weight||1;if(l.horizontal){const _=t.w*b,C=f.size||u.height;(0,c.h)(f.start)&&(o=f.start),u.fullSize?Ve(u,i.left,o,e.outerWidth-i.right-i.left,C):Ve(u,t.left+f.placed,o,_,C),f.start=o,f.placed+=_,o=u.bottom}else{const _=t.h*b,C=f.size||u.width;(0,c.h)(f.start)&&(r=f.start),u.fullSize?Ve(u,r,i.top,C,e.outerHeight-i.bottom-i.top):Ve(u,r,t.top+f.placed,C,_),f.start=r,f.placed+=_,r=u.right}}t.x=r,t.y=o}var Pe={addBox(s,t){s.boxes||(s.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},s.boxes.push(t)},removeBox(s,t){const e=s.boxes?s.boxes.indexOf(t):-1;e!==-1&&s.boxes.splice(e,1)},configure(s,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(s,t,e,n){if(!s)return;const i=(0,c.E)(s.options.layout.padding),r=Math.max(t-i.width,0),o=Math.max(e-i.height,0),l=hi(s.boxes),u=l.vertical,f=l.horizontal;(0,c.F)(s.boxes,Y=>{typeof Y.beforeLayout=="function"&&Y.beforeLayout()});const b=u.reduce((Y,it)=>it.box.options&&it.box.options.display===!1?Y:Y+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/b,hBoxMaxHeight:o/2}),C=Object.assign({},i);Un(C,(0,c.E)(n));const O=Object.assign({maxPadding:C,w:r,h:o,x:i.left,y:i.top},i),L=Hn(u.concat(f),_);hn(l.fullSize,O,_,L),hn(u,O,_,L),hn(f,O,_,L)&&hn(u,O,_,L),wn(O),Cn(l.leftAndTop,O,_,L),O.x+=O.w,O.y+=O.h,Cn(l.rightAndBottom,O,_,L),s.chartArea={left:O.left,top:O.top,right:O.left+O.w,bottom:O.top+O.h,height:O.h,width:O.w},(0,c.F)(l.chartArea,Y=>{const it=Y.box;Object.assign(it,s.chartArea),it.update(O.w,O.h,{left:0,top:0,right:0,bottom:0})})}};class fi{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class Ri extends fi{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const en="$chartjs",Li={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Sn=s=>s===null||s==="";function dn(s,t){const e=s.style,n=s.getAttribute("height"),i=s.getAttribute("width");if(s[en]={initial:{height:n,width:i,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Sn(i)){const r=(0,c.J)(s,"width");r!==void 0&&(s.width=r)}if(Sn(n))if(s.style.height==="")s.height=s.width/(t||2);else{const r=(0,c.J)(s,"height");r!==void 0&&(s.height=r)}return s}const gi=c.K?{passive:!0}:!1;function Kn(s,t,e){s&&s.addEventListener(t,e,gi)}function Ii(s,t,e){s&&s.canvas&&s.canvas.removeEventListener(t,e,gi)}function pi(s,t){const e=Li[s.type]||s.type,{x:n,y:i}=(0,c.z)(s,t);return{type:e,chart:t,native:s,x:n!==void 0?n:null,y:i!==void 0?i:null}}function nn(s,t){for(const e of s)if(e===t||e.contains(t))return!0}function fn(s,t,e){const n=s.canvas,i=new MutationObserver(r=>{let o=!1;for(const l of r)o=o||nn(l.addedNodes,n),o=o&&!nn(l.removedNodes,n);o&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}function Yn(s,t,e){const n=s.canvas,i=new MutationObserver(r=>{let o=!1;for(const l of r)o=o||nn(l.removedNodes,n),o=o&&!nn(l.addedNodes,n);o&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}const gn=new Map;let Xn=0;function Zn(){const s=window.devicePixelRatio;s!==Xn&&(Xn=s,gn.forEach((t,e)=>{e.currentDevicePixelRatio!==s&&t()}))}function He(s,t){gn.size||window.addEventListener("resize",Zn),gn.set(s,t)}function Mn(s){gn.delete(s),gn.size||window.removeEventListener("resize",Zn)}function Fi(s,t,e){const n=s.canvas,i=n&&(0,c.I)(n);if(!i)return;const r=(0,c.L)((l,u)=>{const f=i.clientWidth;e(l,u),f<i.clientWidth&&e()},window),o=new ResizeObserver(l=>{const u=l[0],f=u.contentRect.width,b=u.contentRect.height;f===0&&b===0||r(f,b)});return o.observe(i),He(s,r),o}function $n(s,t,e){e&&e.disconnect(),t==="resize"&&Mn(s)}function Ni(s,t,e){const n=s.canvas,i=(0,c.L)(r=>{s.ctx!==null&&e(pi(r,s))},s);return Kn(n,t,i),i}class mi extends fi{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(dn(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[en])return!1;const n=e[en].initial;["height","width"].forEach(r=>{const o=n[r];(0,c.k)(o)?e.removeAttribute(r):e.setAttribute(r,o)});const i=n.style||{};return Object.keys(i).forEach(r=>{e.style[r]=i[r]}),e.width=e.width,delete e[en],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),o={attach:fn,detach:Yn,resize:Fi}[e]||Ni;i[e]=o(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;({attach:$n,detach:$n,resize:$n}[e]||Ii)(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return(0,c.G)(t,e,n,i)}isAttached(t){const e=t&&(0,c.I)(t);return!!(e&&e.isConnected)}}function Gn(s){return!(0,c.M)()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?Ri:mi}class Fe{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return(0,c.x)(this.x)&&(0,c.x)(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach(r=>{i[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),i}}function pn(s,t){const e=s.options.ticks,n=Bi(s),i=Math.min(e.maxTicksLimit||n,n),r=e.major.enabled?Jn(t):[],o=r.length,l=r[0],u=r[o-1],f=[];if(o>i)return bi(t,f,r,o/i),f;const b=Qn(r,t,i);if(o>0){let _,C;const O=o>1?Math.round((u-l)/(o-1)):null;for(Ue(t,f,b,(0,c.k)(O)?0:l-O,l),_=0,C=o-1;_<C;_++)Ue(t,f,b,r[_],r[_+1]);return Ue(t,f,b,u,(0,c.k)(O)?t.length:u+O),f}return Ue(t,f,b),f}function Bi(s){const t=s.options.offset,e=s._tickSize(),n=s._length/e+(t?0:1),i=s._maxLength/e;return Math.floor(Math.min(n,i))}function Qn(s,t,e){const n=Wi(s),i=t.length/e;if(!n)return Math.max(i,1);const r=(0,c.N)(n);for(let o=0,l=r.length-1;o<l;o++){const u=r[o];if(u>i)return u}return Math.max(i,1)}function Jn(s){const t=[];let e,n;for(e=0,n=s.length;e<n;e++)s[e].major&&t.push(e);return t}function bi(s,t,e,n){let i=0,r=e[0],o;for(n=Math.ceil(n),o=0;o<s.length;o++)o===r&&(t.push(s[o]),i++,r=e[i*n])}function Ue(s,t,e,n,i){const r=(0,c.v)(n,0),o=Math.min((0,c.v)(i,s.length),s.length);let l=0,u,f,b;for(e=Math.ceil(e),i&&(u=i-n,e=u/Math.floor(u/e)),b=r;b<0;)l++,b=Math.round(r+l*e);for(f=Math.max(r,0);f<o;f++)f===b&&(t.push(s[f]),l++,b=Math.round(r+l*e))}function Wi(s){const t=s.length;let e,n;if(t<2)return!1;for(n=s[0],e=1;e<t;++e)if(s[e]-s[e-1]!==n)return!1;return n}const yi=s=>s==="left"?"right":s==="right"?"left":s,En=(s,t,e)=>t==="top"||t==="left"?s[t]+e:s[t]-e,qn=(s,t)=>Math.min(t||s,s);function ti(s,t){const e=[],n=s.length/t,i=s.length;let r=0;for(;r<i;r+=n)e.push(s[Math.floor(r)]);return e}function mn(s,t,e){const n=s.ticks.length,i=Math.min(t,n-1),r=s._startPixel,o=s._endPixel,l=1e-6;let u=s.getPixelForTick(i),f;if(!(e&&(n===1?f=Math.max(u-r,o-u):t===0?f=(s.getPixelForTick(1)-u)/2:f=(u-s.getPixelForTick(i-1))/2,u+=i<t?f:-f,u<r-l||u>o+l)))return u}function On(s,t){(0,c.F)(s,e=>{const n=e.gc,i=n.length/2;let r;if(i>t){for(r=0;r<i;++r)delete e.data[n[r]];n.splice(0,i)}})}function sn(s){return s.drawTicks?s.tickLength:0}function vi(s,t){if(!s.display)return 0;const e=(0,c.a0)(s.font,t),n=(0,c.E)(s.padding);return((0,c.b)(s.text)?s.text.length:1)*e.lineHeight+n.height}function _i(s,t){return(0,c.j)(s,{scale:t,type:"scale"})}function zi(s,t,e){return(0,c.j)(s,{tick:e,index:t,type:"tick"})}function ji(s,t,e){let n=(0,c.a1)(s);return(e&&t!=="right"||!e&&t==="right")&&(n=yi(n)),n}function ei(s,t,e,n){const{top:i,left:r,bottom:o,right:l,chart:u}=s,{chartArea:f,scales:b}=u;let _=0,C,O,L;const Y=o-i,it=l-r;if(s.isHorizontal()){if(O=(0,c.a2)(n,r,l),(0,c.i)(e)){const nt=Object.keys(e)[0],rt=e[nt];L=b[nt].getPixelForValue(rt)+Y-t}else e==="center"?L=(f.bottom+f.top)/2+Y-t:L=En(s,e,t);C=l-r}else{if((0,c.i)(e)){const nt=Object.keys(e)[0],rt=e[nt];O=b[nt].getPixelForValue(rt)-it+t}else e==="center"?O=(f.left+f.right)/2-it+t:O=En(s,e,t);L=(0,c.a2)(n,o,i),_=e==="left"?-c.H:c.H}return{titleX:O,titleY:L,maxWidth:C,rotation:_}}class Ke extends Fe{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=(0,c.O)(t,Number.POSITIVE_INFINITY),e=(0,c.O)(e,Number.NEGATIVE_INFINITY),n=(0,c.O)(n,Number.POSITIVE_INFINITY),i=(0,c.O)(i,Number.NEGATIVE_INFINITY),{min:(0,c.O)(t,n),max:(0,c.O)(e,i),minDefined:(0,c.g)(t),maxDefined:(0,c.g)(e)}}getMinMax(t){let{min:e,max:n,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:e,max:n};const l=this.getMatchingVisibleMetas();for(let u=0,f=l.length;u<f;++u)o=l[u].controller.getMinMax(this,t),i||(e=Math.min(e,o.min)),r||(n=Math.max(n,o.max));return e=r&&e>n?n:e,n=i&&e>n?e:n,{min:(0,c.O)(e,(0,c.O)(n,e)),max:(0,c.O)(n,(0,c.O)(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){(0,c.Q)(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:r,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=(0,c.R)(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?ti(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=pn(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){(0,c.Q)(this.options.afterUpdate,[this])}beforeSetDimensions(){(0,c.Q)(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){(0,c.Q)(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),(0,c.Q)(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){(0,c.Q)(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n],r.label=(0,c.Q)(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){(0,c.Q)(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){(0,c.Q)(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=qn(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,r=e.maxRotation;let o=i,l,u,f;if(!this._isVisible()||!e.display||i>=r||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const b=this._getLabelSizes(),_=b.widest.width,C=b.highest.height,O=(0,c.S)(this.chart.width-_,0,this.maxWidth);l=t.offset?this.maxWidth/n:O/(n-1),_+6>l&&(l=O/(n-(t.offset?.5:1)),u=this.maxHeight-sn(t.grid)-e.padding-vi(t.title,this.chart.options.font),f=Math.sqrt(_*_+C*C),o=(0,c.U)(Math.min(Math.asin((0,c.S)((b.highest.height+6)/l,-1,1)),Math.asin((0,c.S)(u/f,-1,1))-Math.asin((0,c.S)(C/f,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){(0,c.Q)(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){(0,c.Q)(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:r}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const u=vi(i,e.options.font);if(l?(t.width=this.maxWidth,t.height=sn(r)+u):(t.height=this.maxHeight,t.width=sn(r)+u),n.display&&this.ticks.length){const{first:f,last:b,widest:_,highest:C}=this._getLabelSizes(),O=n.padding*2,L=(0,c.t)(this.labelRotation),Y=Math.cos(L),it=Math.sin(L);if(l){const nt=n.mirror?0:it*_.width+Y*C.height;t.height=Math.min(this.maxHeight,t.height+nt+O)}else{const nt=n.mirror?0:Y*_.width+it*C.height;t.width=Math.min(this.maxWidth,t.width+nt+O)}this._calculatePadding(f,b,it,Y)}}this._handleMargins(),l?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:r,padding:o},position:l}=this.options,u=this.labelRotation!==0,f=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const b=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let C=0,O=0;u?f?(C=i*t.width,O=n*e.height):(C=n*t.height,O=i*e.width):r==="start"?O=e.width:r==="end"?C=t.width:r!=="inner"&&(C=t.width/2,O=e.width/2),this.paddingLeft=Math.max((C-b+o)*this.width/(this.width-b),0),this.paddingRight=Math.max((O-_+o)*this.width/(this.width-_),0)}else{let b=e.height/2,_=t.height/2;r==="start"?(b=0,_=t.height):r==="end"&&(b=e.height,_=0),this.paddingTop=b+o,this.paddingBottom=_+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){(0,c.Q)(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)(0,c.k)(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=ti(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:i,_longestTextCache:r}=this,o=[],l=[],u=Math.floor(e/qn(e,n));let f=0,b=0,_,C,O,L,Y,it,nt,rt,Mt,xt,ft;for(_=0;_<e;_+=u){if(L=t[_].label,Y=this._resolveTickFontOptions(_),i.font=it=Y.string,nt=r[it]=r[it]||{data:{},gc:[]},rt=Y.lineHeight,Mt=xt=0,!(0,c.k)(L)&&!(0,c.b)(L))Mt=(0,c.V)(i,nt.data,nt.gc,Mt,L),xt=rt;else if((0,c.b)(L))for(C=0,O=L.length;C<O;++C)ft=L[C],!(0,c.k)(ft)&&!(0,c.b)(ft)&&(Mt=(0,c.V)(i,nt.data,nt.gc,Mt,ft),xt+=rt);o.push(Mt),l.push(xt),f=Math.max(Mt,f),b=Math.max(xt,b)}On(r,e);const It=o.indexOf(f),Nt=l.indexOf(b),zt=qt=>({width:o[qt]||0,height:l[qt]||0});return{first:zt(0),last:zt(e-1),widest:zt(It),highest:zt(Nt),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return(0,c.W)(this._alignToPixels?(0,c.X)(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=zi(this.getContext(),t,n))}return this.$context||(this.$context=_i(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=(0,c.t)(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,l=r?r.widest.width+o:0,u=r?r.highest.height+o:0;return this.isHorizontal()?u*n>l*i?l/n:u/i:u*i<l*n?u/n:l/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:r,position:o,border:l}=i,u=r.offset,f=this.isHorizontal(),_=this.ticks.length+(u?1:0),C=sn(r),O=[],L=l.setContext(this.getContext()),Y=L.display?L.width:0,it=Y/2,nt=function(ve){return(0,c.X)(n,ve,Y)};let rt,Mt,xt,ft,It,Nt,zt,qt,ae,le,he,Oe;if(o==="top")rt=nt(this.bottom),Nt=this.bottom-C,qt=rt-it,le=nt(t.top)+it,Oe=t.bottom;else if(o==="bottom")rt=nt(this.top),le=t.top,Oe=nt(t.bottom)-it,Nt=rt+it,qt=this.top+C;else if(o==="left")rt=nt(this.right),It=this.right-C,zt=rt-it,ae=nt(t.left)+it,he=t.right;else if(o==="right")rt=nt(this.left),ae=t.left,he=nt(t.right)-it,It=rt+it,zt=this.left+C;else if(e==="x"){if(o==="center")rt=nt((t.top+t.bottom)/2+.5);else if((0,c.i)(o)){const ve=Object.keys(o)[0],_e=o[ve];rt=nt(this.chart.scales[ve].getPixelForValue(_e))}le=t.top,Oe=t.bottom,Nt=rt+it,qt=Nt+C}else if(e==="y"){if(o==="center")rt=nt((t.left+t.right)/2);else if((0,c.i)(o)){const ve=Object.keys(o)[0],_e=o[ve];rt=nt(this.chart.scales[ve].getPixelForValue(_e))}It=rt-it,zt=It-C,ae=t.left,he=t.right}const ze=(0,c.v)(i.ticks.maxTicksLimit,_),pe=Math.max(1,Math.ceil(_/ze));for(Mt=0;Mt<_;Mt+=pe){const ve=this.getContext(Mt),_e=r.setContext(ve),tn=l.setContext(ve),De=_e.lineWidth,Di=_e.color,ss=tn.dash||[],Ai=tn.dashOffset,Zi=_e.tickWidth,ci=_e.tickColor,$i=_e.tickBorderDash||[],ui=_e.tickBorderDashOffset;xt=mn(this,Mt,u),xt!==void 0&&(ft=(0,c.X)(n,xt,De),f?It=zt=ae=he=ft:Nt=qt=le=Oe=ft,O.push({tx1:It,ty1:Nt,tx2:zt,ty2:qt,x1:ae,y1:le,x2:he,y2:Oe,width:De,color:Di,borderDash:ss,borderDashOffset:Ai,tickWidth:Zi,tickColor:ci,tickBorderDash:$i,tickBorderDashOffset:ui}))}return this._ticksLength=_,this._borderValue=rt,O}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:r}=n,o=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:f,padding:b,mirror:_}=r,C=sn(n.grid),O=C+b,L=_?-b:O,Y=-(0,c.t)(this.labelRotation),it=[];let nt,rt,Mt,xt,ft,It,Nt,zt,qt,ae,le,he,Oe="middle";if(i==="top")It=this.bottom-L,Nt=this._getXAxisLabelAlignment();else if(i==="bottom")It=this.top+L,Nt=this._getXAxisLabelAlignment();else if(i==="left"){const pe=this._getYAxisLabelAlignment(C);Nt=pe.textAlign,ft=pe.x}else if(i==="right"){const pe=this._getYAxisLabelAlignment(C);Nt=pe.textAlign,ft=pe.x}else if(e==="x"){if(i==="center")It=(t.top+t.bottom)/2+O;else if((0,c.i)(i)){const pe=Object.keys(i)[0],ve=i[pe];It=this.chart.scales[pe].getPixelForValue(ve)+O}Nt=this._getXAxisLabelAlignment()}else if(e==="y"){if(i==="center")ft=(t.left+t.right)/2-O;else if((0,c.i)(i)){const pe=Object.keys(i)[0],ve=i[pe];ft=this.chart.scales[pe].getPixelForValue(ve)}Nt=this._getYAxisLabelAlignment(C).textAlign}e==="y"&&(u==="start"?Oe="top":u==="end"&&(Oe="bottom"));const ze=this._getLabelSizes();for(nt=0,rt=l.length;nt<rt;++nt){Mt=l[nt],xt=Mt.label;const pe=r.setContext(this.getContext(nt));zt=this.getPixelForTick(nt)+r.labelOffset,qt=this._resolveTickFontOptions(nt),ae=qt.lineHeight,le=(0,c.b)(xt)?xt.length:1;const ve=le/2,_e=pe.color,tn=pe.textStrokeColor,De=pe.textStrokeWidth;let Di=Nt;o?(ft=zt,Nt==="inner"&&(nt===rt-1?Di=this.options.reverse?"left":"right":nt===0?Di=this.options.reverse?"right":"left":Di="center"),i==="top"?f==="near"||Y!==0?he=-le*ae+ae/2:f==="center"?he=-ze.highest.height/2-ve*ae+ae:he=-ze.highest.height+ae/2:f==="near"||Y!==0?he=ae/2:f==="center"?he=ze.highest.height/2-ve*ae:he=ze.highest.height-le*ae,_&&(he*=-1),Y!==0&&!pe.showLabelBackdrop&&(ft+=ae/2*Math.sin(Y))):(It=zt,he=(1-le)*ae/2);let ss;if(pe.showLabelBackdrop){const Ai=(0,c.E)(pe.backdropPadding),Zi=ze.heights[nt],ci=ze.widths[nt];let $i=he-Ai.top,ui=0-Ai.left;switch(Oe){case"middle":$i-=Zi/2;break;case"bottom":$i-=Zi;break}switch(Nt){case"center":ui-=ci/2;break;case"right":ui-=ci;break;case"inner":nt===rt-1?ui-=ci:nt>0&&(ui-=ci/2);break}ss={left:ui,top:$i,width:ci+Ai.width,height:Zi+Ai.height,color:pe.backdropColor}}it.push({label:xt,font:qt,textOffset:he,options:{rotation:Y,color:_e,strokeColor:tn,strokeWidth:De,textAlign:Di,textBaseline:Oe,translation:[ft,It],backdrop:ss}})}return it}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-(0,c.t)(this.labelRotation))return t==="top"?"left":"right";let i="center";return e.align==="start"?i="left":e.align==="end"?i="right":e.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),l=t+r,u=o.widest.width;let f,b;return e==="left"?i?(b=this.right+r,n==="near"?f="left":n==="center"?(f="center",b+=u/2):(f="right",b+=u)):(b=this.right-l,n==="near"?f="right":n==="center"?(f="center",b-=u/2):(f="left",b=this.left)):e==="right"?i?(b=this.left+r,n==="near"?f="right":n==="center"?(f="center",b-=u/2):(f="left",b-=u)):(b=this.left+l,n==="near"?f="left":n==="center"?(f="center",b+=u/2):(f="right",b=this.right)):f="right",{textAlign:f,x:b}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,r,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex(r=>r.value===t);return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const l=(u,f,b)=>{!b.width||!b.color||(n.save(),n.lineWidth=b.width,n.strokeStyle=b.color,n.setLineDash(b.borderDash||[]),n.lineDashOffset=b.borderDashOffset,n.beginPath(),n.moveTo(u.x,u.y),n.lineTo(f.x,f.y),n.stroke(),n.restore())};if(e.display)for(r=0,o=i.length;r<o;++r){const u=i[r];e.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),e.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),o=n.display?r.width:0;if(!o)return;const l=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let f,b,_,C;this.isHorizontal()?(f=(0,c.X)(t,this.left,o)-o/2,b=(0,c.X)(t,this.right,l)+l/2,_=C=u):(_=(0,c.X)(t,this.top,o)-o/2,C=(0,c.X)(t,this.bottom,l)+l/2,f=b=u),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(f,_),e.lineTo(b,C),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&(0,c.Y)(n,i);const r=this.getLabelItems(t);for(const o of r){const l=o.options,u=o.font,f=o.label,b=o.textOffset;(0,c.Z)(n,f,0,b,u,l)}i&&(0,c.$)(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const r=(0,c.a0)(n.font),o=(0,c.E)(n.padding),l=n.align;let u=r.lineHeight/2;e==="bottom"||e==="center"||(0,c.i)(e)?(u+=o.bottom,(0,c.b)(n.text)&&(u+=r.lineHeight*(n.text.length-1))):u+=o.top;const{titleX:f,titleY:b,maxWidth:_,rotation:C}=ei(this,u,e,l);(0,c.Z)(t,n.text,0,0,r,{color:n.color,maxWidth:_,rotation:C,textAlign:ji(l,e,i),textBaseline:"middle",translation:[f,b]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=(0,c.v)(t.grid&&t.grid.z,-1),i=(0,c.v)(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ke.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,o;for(r=0,o=e.length;r<o;++r){const l=e[r];l[n]===this.id&&(!t||l.type===t)&&i.push(l)}return i}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return(0,c.a0)(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class rn{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;Vi(e)&&(n=this.register(e));const i=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,bn(t,o,n),this.override&&c.d.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in c.d[i]&&(delete c.d[i][n],this.override&&delete c.a3[n])}}function bn(s,t,e){const n=(0,c.a4)(Object.create(null),[e?c.d.get(e):{},c.d.get(t),s.defaults]);c.d.set(t,n),s.defaultRoutes&&xi(t,s.defaultRoutes),s.descriptors&&c.d.describe(t,s.descriptors)}function xi(s,t){Object.keys(t).forEach(e=>{const n=e.split("."),i=n.pop(),r=[s].concat(n).join("."),o=t[e].split("."),l=o.pop(),u=o.join(".");c.d.route(r,i,u,l)})}function Vi(s){return"id"in s&&"defaults"in s}class kn{constructor(){this.controllers=new rn(ne,"datasets",!0),this.elements=new rn(Fe,"elements"),this.plugins=new rn(Object,"plugins"),this.scales=new rn(Ke,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(i=>{const r=n||this._getRegistryForType(i);n||r.isForType(i)||r===this.plugins&&i.id?this._exec(t,r,i):(0,c.F)(i,o=>{const l=n||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,e,n){const i=(0,c.a5)(t);(0,c.Q)(n["before"+i],[],n),e[t](n),(0,c.Q)(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var Re=new kn;class wi{constructor(){this._init=[]}notify(t,e,n,i){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(r,t,e,n);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,i){i=i||{};for(const r of t){const o=r.plugin,l=o[n],u=[e,i,r.options];if((0,c.Q)(l,u,o)===!1&&i.cancelable)return!1}return!0}invalidate(){(0,c.k)(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=(0,c.v)(n.options&&n.options.plugins,{}),r=Pi(n);return i===!1&&!e?[]:Tn(t,r,i,e)}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(r,o)=>r.filter(l=>!o.some(u=>l.plugin.id===u.plugin.id));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function Pi(s){const t={},e=[],n=Object.keys(Re.plugins.items);for(let r=0;r<n.length;r++)e.push(Re.getPlugin(n[r]));const i=s.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function Ci(s,t){return!t&&s===!1?null:s===!0?{}:s}function Tn(s,{plugins:t,localIds:e},n,i){const r=[],o=s.getContext();for(const l of t){const u=l.id,f=Ci(n[u],i);f!==null&&r.push({plugin:l,options:Hi(s.config,{plugin:l,local:e[u]},f,o)})}return r}function Hi(s,{plugin:t,local:e},n,i){const r=s.pluginScopeKeys(t),o=s.getOptionScopes(n,r);return e&&t.defaults&&o.push(t.defaults),s.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Dn(s,t){const e=c.d.datasets[s]||{};return((t.datasets||{})[s]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function ni(s,t){let e=s;return s==="_index_"?e=t:s==="_value_"&&(e=t==="x"?"y":"x"),e}function on(s,t){return s===t?"_index_":"_value_"}function Si(s){if(s==="x"||s==="y"||s==="r")return s}function An(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function Je(s,...t){if(Si(s))return s;for(const e of t){const n=e.axis||An(e.position)||s.length>1&&Si(s[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function ii(s,t,e){if(e[t+"AxisID"]===s)return{axis:t}}function Ui(s,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(n=>n.xAxisID===s||n.yAxisID===s);if(e.length)return ii(s,"x",e[0])||ii(s,"y",e[0])}return{}}function Ye(s,t){const e=c.a3[s.type]||{scales:{}},n=t.scales||{},i=Dn(s.type,t),r=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!(0,c.i)(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=Je(o,l,Ui(o,s),c.d.scales[l.type]),f=on(u,i),b=e.scales||{};r[o]=(0,c.ab)(Object.create(null),[{axis:u},l,b[u],b[f]])}),s.data.datasets.forEach(o=>{const l=o.type||s.type,u=o.indexAxis||Dn(l,t),b=(c.a3[l]||{}).scales||{};Object.keys(b).forEach(_=>{const C=ni(_,u),O=o[C+"AxisID"]||C;r[O]=r[O]||Object.create(null),(0,c.ab)(r[O],[{axis:C},n[O],b[_]])})}),Object.keys(r).forEach(o=>{const l=r[o];(0,c.ab)(l,[c.d.scales[l.type],c.d.scale])}),r}function Mi(s){const t=s.options||(s.options={});t.plugins=(0,c.v)(t.plugins,{}),t.scales=Ye(s,t)}function qe(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function si(s){return s=s||{},s.data=qe(s.data),Mi(s),s}const Rn=new Map,Ln=new Set;function In(s,t){let e=Rn.get(s);return e||(e=t(),Rn.set(s,e),Ln.add(e)),e}const yn=(s,t,e)=>{const n=(0,c.f)(t,e);n!==void 0&&s.add(n)};class Fn{constructor(t){this._config=si(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=qe(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Mi(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return In(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return In(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return In(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,n=this.type;return In(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return(!i||e)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:r}=this,o=this._cachedScopes(t,n),l=o.get(e);if(l)return l;const u=new Set;e.forEach(b=>{t&&(u.add(t),b.forEach(_=>yn(u,t,_))),b.forEach(_=>yn(u,i,_)),b.forEach(_=>yn(u,c.a3[r]||{},_)),b.forEach(_=>yn(u,c.d,_)),b.forEach(_=>yn(u,c.a6,_))});const f=Array.from(u);return f.length===0&&f.push(Object.create(null)),Ln.has(e)&&o.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,c.a3[e]||{},c.d.datasets[e]||{},{type:e},c.d,c.a6]}resolveNamedOptions(t,e,n,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:l}=Ei(this._resolverCache,t,i);let u=o;if(ri(o,e)){r.$shared=!1,n=(0,c.a7)(n)?n():n;const f=this.createResolver(t,n,l);u=(0,c.a8)(o,n,f)}for(const f of e)r[f]=u[f];return r}createResolver(t,e,n=[""],i){const{resolver:r}=Ei(this._resolverCache,t,n);return(0,c.i)(e)?(0,c.a8)(r,e,void 0,i):r}}function Ei(s,t,e){let n=s.get(t);n||(n=new Map,s.set(t,n));const i=e.join();let r=n.get(i);return r||(r={resolver:(0,c.a9)(t,e),subPrefixes:e.filter(l=>!l.toLowerCase().includes("hover"))},n.set(i,r)),r}const Oi=s=>(0,c.i)(s)&&Object.getOwnPropertyNames(s).some(t=>(0,c.a7)(s[t]));function ri(s,t){const{isScriptable:e,isIndexable:n}=(0,c.aa)(s);for(const i of t){const r=e(i),o=n(i),l=(o||r)&&s[i];if(r&&((0,c.a7)(l)||Oi(l))||o&&(0,c.b)(l))return!0}return!1}var Nn="4.4.6";const Bn=["top","bottom","left","right","chartArea"];function vn(s,t){return s==="top"||s==="bottom"||Bn.indexOf(s)===-1&&t==="x"}function ki(s,t){return function(e,n){return e[s]===n[s]?e[t]-n[t]:e[s]-n[s]}}function We(s){const t=s.chart,e=t.options.animation;t.notifyPlugins("afterRender"),(0,c.Q)(e&&e.onComplete,[s],t)}function Xe(s){const t=s.chart,e=t.options.animation;(0,c.Q)(e&&e.onProgress,[s],t)}function Ti(s){return(0,c.M)()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const Wn={},an=s=>{const t=Ti(s);return Object.values(Wn).filter(e=>e.canvas===t).pop()};function Ki(s,t,e){const n=Object.keys(s);for(const i of n){const r=+i;if(r>=t){const o=s[i];delete s[i],(e>0||r>t)&&(s[r+e]=o)}}}function zn(s,t,e,n){return!e||s.type==="mouseout"?null:n?t:s}function d(s,t,e){return s.options.clip?s[e]:t[e]}function h(s,t){const{xScale:e,yScale:n}=s;return e&&n?{left:d(e,t,"left"),right:d(e,t,"right"),top:d(n,t,"top"),bottom:d(n,t,"bottom")}:t}class p{static defaults=c.d;static instances=Wn;static overrides=c.a3;static registry=Re;static version=Nn;static getChart=an;static register(...t){Re.add(...t),y()}static unregister(...t){Re.remove(...t),y()}constructor(t,e){const n=this.config=new Fn(e),i=Ti(t),r=an(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Gn(i)),this.platform.updateConfig(n);const l=this.platform.acquireContext(i,o.aspectRatio),u=l&&l.canvas,f=u&&u.height,b=u&&u.width;if(this.id=(0,c.ac)(),this.ctx=l,this.canvas=u,this.width=b,this.height=f,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wi,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(0,c.ad)(_=>this.update(_),o.resizeDelay||0),this._dataChanges=[],Wn[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}D.listen(this,"complete",We),D.listen(this,"progress",Xe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:r}=this;return(0,c.k)(t)?e&&r?r:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Re}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():(0,c.ae)(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return(0,c.af)(this.canvas,this.ctx),this}stop(){return D.stop(this),this}resize(t,e){D.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,e,r),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,(0,c.ae)(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),(0,c.Q)(n.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};(0,c.F)(e,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let r=[];e&&(r=r.concat(Object.keys(e).map(o=>{const l=e[o],u=Je(o,l),f=u==="r",b=u==="x";return{options:l,dposition:f?"chartArea":b?"bottom":"left",dtype:f?"radialLinear":b?"category":"linear"}}))),(0,c.F)(r,o=>{const l=o.options,u=l.id,f=Je(u,l),b=(0,c.v)(l.type,o.dtype);(l.position===void 0||vn(l.position,f)!==vn(o.dposition))&&(l.position=o.dposition),i[u]=!0;let _=null;if(u in n&&n[u].type===b)_=n[u];else{const C=Re.getScale(b);_=new C({id:u,type:b,ctx:this.ctx,chart:this}),n[_.id]=_}_.init(l,t)}),(0,c.F)(i,(o,l)=>{o||delete n[l]}),(0,c.F)(n,o=>{Pe.configure(this,o,o.options),Pe.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort((i,r)=>i.index-r.index),n>e){for(let i=e;i<n;++i)this._destroyDatasetMeta(i);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(ki("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((n,i)=>{e.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const r=e[n];let o=this.getDatasetMeta(n);const l=r.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=r.indexAxis||Dn(l,this.options),o.order=r.order||0,o.index=n,o.label=""+r.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const u=Re.getController(l),{datasetElementType:f,dataElementType:b}=c.d.datasets[l];Object.assign(u,{dataElementType:Re.getElement(b),datasetElementType:f&&Re.getElement(f)}),o.controller=new u(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){(0,c.F)(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let f=0,b=this.data.datasets.length;f<b;f++){const{controller:_}=this.getDatasetMeta(f),C=!i&&r.indexOf(_)===-1;_.buildOrUpdateElements(C),o=Math.max(+_.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||(0,c.F)(r,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ki("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){(0,c.F)(this.scales,t=>{Pe.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!(0,c.ag)(e,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of e){const o=n==="_removeElements"?-r:r;Ki(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=r=>new Set(t.filter(o=>o[0]===r).map((o,l)=>l+","+o.splice(1).join(","))),i=n(0);for(let r=1;r<e;r++)if(!(0,c.ag)(i,n(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Pe.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],(0,c.F)(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,n=this.data.datasets.length;e<n;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,(0,c.a7)(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(D.has(this)?this.attached&&!D.running(this)&&D.start(this):(this.draw(),We({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,r;for(i=0,r=e.length;i<r;++i){const o=e[i];(!t||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,i=!n.disabled,r=h(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&(0,c.Y)(e,{left:n.left===!1?0:r.left-n.left,right:n.right===!1?this.width:r.right+n.right,top:n.top===!1?0:r.top-n.top,bottom:n.bottom===!1?this.height:r.bottom+n.bottom}),t.controller.draw(),i&&(0,c.$)(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return(0,c.C)(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,i){const r=we.modes[e];return typeof r=="function"?r(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter(r=>r&&r._dataset===e).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=(0,c.j)(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!e.hidden}setDatasetVisibility(t,e){const n=this.getDatasetMeta(t);n.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,i);(0,c.h)(e)?(r.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(r,{visible:n}),this.update(l=>l.datasetIndex===t?i:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),D.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),(0,c.af)(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Wn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(r,o)=>{e.addEventListener(this,r,o),t[r]=o},i=(r,o,l)=>{r.offsetX=o,r.offsetY=l,this._eventHandler(r)};(0,c.F)(this.options.events,r=>n(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(u,f)=>{e.addEventListener(this,u,f),t[u]=f},i=(u,f)=>{t[u]&&(e.removeEventListener(this,u,f),delete t[u])},r=(u,f)=>{this.canvas&&this.resize(u,f)};let o;const l=()=>{i("attach",l),this.attached=!0,this.resize(),n("resize",r),n("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",l)},e.isAttached(this.canvas)?l():o()}unbindEvents(){(0,c.F)(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},(0,c.F)(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let r,o,l,u;for(e==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),l=0,u=t.length;l<u;++l){o=t[l];const f=o&&this.getDatasetMeta(o.datasetIndex).controller;f&&f[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map(({datasetIndex:r,index:o})=>{const l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[o],index:o}});!(0,c.ah)(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,n){const i=this.options.hover,r=(u,f)=>u.filter(b=>!f.some(_=>b.datasetIndex===_.datasetIndex&&b.index===_.index)),o=r(e,t),l=n?t:r(t,e);o.length&&this.updateHoverStyle(o,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const r=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:r}=this,o=e,l=this._getActiveElements(t,i,n,o),u=(0,c.ai)(t),f=zn(t,this._lastEvent,n,u);n&&(this._lastEvent=null,(0,c.Q)(r.onHover,[t,l,this],this),u&&(0,c.Q)(r.onClick,[t,l,this],this));const b=!(0,c.ah)(l,i);return(b||e)&&(this._active=l,this._updateHoverStyles(l,i,e)),this._lastEvent=f,b}_getActiveElements(t,e,n,i){if(t.type==="mouseout")return[];if(!n)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}function y(){return(0,c.F)(p.instances,s=>s._plugins.invalidate())}function P(s,t,e){const{startAngle:n,pixelMargin:i,x:r,y:o,outerRadius:l,innerRadius:u}=t;let f=i/l;s.beginPath(),s.arc(r,o,l,n-f,e+f),u>i?(f=i/u,s.arc(r,o,u,e+f,n-f,!0)):s.arc(r,o,i,e+c.H,n-c.H),s.closePath(),s.clip()}function M(s){return(0,c.ak)(s,["outerStart","outerEnd","innerStart","innerEnd"])}function E(s,t,e,n){const i=M(s.options.borderRadius),r=(e-t)/2,o=Math.min(r,n*t/2),l=u=>{const f=(e-Math.min(r,u))*n/2;return(0,c.S)(u,0,Math.min(r,f))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:(0,c.S)(i.innerStart,0,o),innerEnd:(0,c.S)(i.innerEnd,0,o)}}function R(s,t,e,n){return{x:e+s*Math.cos(t),y:n+s*Math.sin(t)}}function $(s,t,e,n,i,r){const{x:o,y:l,startAngle:u,pixelMargin:f,innerRadius:b}=t,_=Math.max(t.outerRadius+n+e-f,0),C=b>0?b+n+e+f:0;let O=0;const L=i-u;if(n){const pe=b>0?b-n:0,ve=_>0?_-n:0,_e=(pe+ve)/2,tn=_e!==0?L*_e/(_e+n):L;O=(L-tn)/2}const Y=Math.max(.001,L*_-e/c.P)/_,it=(L-Y)/2,nt=u+it+O,rt=i-it-O,{outerStart:Mt,outerEnd:xt,innerStart:ft,innerEnd:It}=E(t,C,_,rt-nt),Nt=_-Mt,zt=_-xt,qt=nt+Mt/Nt,ae=rt-xt/zt,le=C+ft,he=C+It,Oe=nt+ft/le,ze=rt-It/he;if(s.beginPath(),r){const pe=(qt+ae)/2;if(s.arc(o,l,_,qt,pe),s.arc(o,l,_,pe,ae),xt>0){const De=R(zt,ae,o,l);s.arc(De.x,De.y,xt,ae,rt+c.H)}const ve=R(he,rt,o,l);if(s.lineTo(ve.x,ve.y),It>0){const De=R(he,ze,o,l);s.arc(De.x,De.y,It,rt+c.H,ze+Math.PI)}const _e=(rt-It/C+(nt+ft/C))/2;if(s.arc(o,l,C,rt-It/C,_e,!0),s.arc(o,l,C,_e,nt+ft/C,!0),ft>0){const De=R(le,Oe,o,l);s.arc(De.x,De.y,ft,Oe+Math.PI,nt-c.H)}const tn=R(Nt,nt,o,l);if(s.lineTo(tn.x,tn.y),Mt>0){const De=R(Nt,qt,o,l);s.arc(De.x,De.y,Mt,nt-c.H,qt)}}else{s.moveTo(o,l);const pe=Math.cos(qt)*_+o,ve=Math.sin(qt)*_+l;s.lineTo(pe,ve);const _e=Math.cos(ae)*_+o,tn=Math.sin(ae)*_+l;s.lineTo(_e,tn)}s.closePath()}function st(s,t,e,n,i){const{fullCircles:r,startAngle:o,circumference:l}=t;let u=t.endAngle;if(r){$(s,t,e,n,u,i);for(let f=0;f<r;++f)s.fill();isNaN(l)||(u=o+(l%c.T||c.T))}return $(s,t,e,n,u,i),s.fill(),u}function Dt(s,t,e,n,i){const{fullCircles:r,startAngle:o,circumference:l,options:u}=t,{borderWidth:f,borderJoinStyle:b,borderDash:_,borderDashOffset:C}=u,O=u.borderAlign==="inner";if(!f)return;s.setLineDash(_||[]),s.lineDashOffset=C,O?(s.lineWidth=f*2,s.lineJoin=b||"round"):(s.lineWidth=f,s.lineJoin=b||"bevel");let L=t.endAngle;if(r){$(s,t,e,n,L,i);for(let Y=0;Y<r;++Y)s.stroke();isNaN(l)||(L=o+(l%c.T||c.T))}O&&P(s,t,L),r||($(s,t,e,n,L,i),s.stroke())}class Yt extends Fe{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.getProps(["x","y"],n),{angle:r,distance:o}=(0,c.D)(i,{x:t,y:e}),{startAngle:l,endAngle:u,innerRadius:f,outerRadius:b,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),C=(this.options.spacing+this.options.borderWidth)/2,O=(0,c.v)(_,u-l),L=(0,c.p)(r,l,u)&&l!==u,Y=O>=c.T||L,it=(0,c.aj)(o,f+C,b+C);return Y&&it}getCenterPoint(t){const{x:e,y:n,startAngle:i,endAngle:r,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:f}=this.options,b=(i+r)/2,_=(o+l+f+u)/2;return{x:e+Math.cos(b)*_,y:n+Math.sin(b)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,i=(e.offset||0)/4,r=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=n>c.T?Math.floor(n/c.T):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*i,Math.sin(l)*i);const u=1-Math.sin(Math.min(c.P,n||0)),f=i*u;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,st(t,this,f,r,o),Dt(t,this,f,r,o),t.restore()}}function Qt(s,t,e=t){s.lineCap=(0,c.v)(e.borderCapStyle,t.borderCapStyle),s.setLineDash((0,c.v)(e.borderDash,t.borderDash)),s.lineDashOffset=(0,c.v)(e.borderDashOffset,t.borderDashOffset),s.lineJoin=(0,c.v)(e.borderJoinStyle,t.borderJoinStyle),s.lineWidth=(0,c.v)(e.borderWidth,t.borderWidth),s.strokeStyle=(0,c.v)(e.borderColor,t.borderColor)}function ge(s,t,e){s.lineTo(e.x,e.y)}function me(s){return s.stepped?c.ar:s.tension||s.cubicInterpolationMode==="monotone"?c.as:ge}function Le(s,t,e={}){const n=s.length,{start:i=0,end:r=n-1}=e,{start:o,end:l}=t,u=Math.max(i,o),f=Math.min(r,l),b=i<o&&r<o||i>l&&r>l;return{count:n,start:u,loop:t.loop,ilen:f<u&&!b?n+f-u:f-u}}function Ze(s,t,e,n){const{points:i,options:r}=t,{count:o,start:l,loop:u,ilen:f}=Le(i,e,n),b=me(r);let{move:_=!0,reverse:C}=n||{},O,L,Y;for(O=0;O<=f;++O)L=i[(l+(C?f-O:O))%o],!L.skip&&(_?(s.moveTo(L.x,L.y),_=!1):b(s,Y,L,C,r.stepped),Y=L);return u&&(L=i[(l+(C?f:0))%o],b(s,Y,L,C,r.stepped)),!!u}function Ie(s,t,e,n){const i=t.points,{count:r,start:o,ilen:l}=Le(i,e,n),{move:u=!0,reverse:f}=n||{};let b=0,_=0,C,O,L,Y,it,nt;const rt=xt=>(o+(f?l-xt:xt))%r,Mt=()=>{Y!==it&&(s.lineTo(b,it),s.lineTo(b,Y),s.lineTo(b,nt))};for(u&&(O=i[rt(0)],s.moveTo(O.x,O.y)),C=0;C<=l;++C){if(O=i[rt(C)],O.skip)continue;const xt=O.x,ft=O.y,It=xt|0;It===L?(ft<Y?Y=ft:ft>it&&(it=ft),b=(_*b+xt)/++_):(Mt(),s.lineTo(xt,ft),L=It,_=0,Y=it=ft),nt=ft}Mt()}function Me(s){const t=s.options,e=t.borderDash&&t.borderDash.length;return!s._decimated&&!s._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Ie:Ze}function $e(s){return s.stepped?c.ao:s.tension||s.cubicInterpolationMode==="monotone"?c.ap:c.aq}function Ge(s,t,e,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,e,n)&&i.closePath()),Qt(s,t.options),s.stroke(i)}function oi(s,t,e,n){const{segments:i,options:r}=t,o=Me(t);for(const l of i)Qt(s,r,l.style),s.beginPath(),o(s,t,l,{start:e,end:e+n-1})&&s.closePath(),s.stroke()}const Gi=typeof Path2D=="function";function rs(s,t,e,n){Gi&&!t.options.segment?Ge(s,t,e,n):oi(s,t,e,n)}class a extends Fe{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;(0,c.al)(this._points,n,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=(0,c.am)(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,i=t[e],r=this.points,o=(0,c.an)(this,{property:e,start:i,end:i});if(!o.length)return;const l=[],u=$e(n);let f,b;for(f=0,b=o.length;f<b;++f){const{start:_,end:C}=o[f],O=r[_],L=r[C];if(O===L){l.push(O);continue}const Y=Math.abs((i-O[e])/(L[e]-O[e])),it=u(O,L,Y,n.stepped);it[e]=t[e],l.push(it)}return l.length===1?l[0]:l}pathSegment(t,e,n){return Me(this)(t,this,e,n)}path(t,e,n){const i=this.segments,r=Me(this);let o=this._loop;e=e||0,n=n||this.points.length-e;for(const l of i)o&=r(t,this,l,{start:e,end:e+n-1});return!!o}draw(t,e,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),rs(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function g(s,t,e,n){const i=s.options,{[e]:r}=s.getProps([e],n);return Math.abs(t-r)<i.radius+i.hitRadius}class m extends Fe{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],n);return Math.pow(t-r,2)+Math.pow(e-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return g(this,t,"x",e)}inYRange(t,e){return g(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const n=e&&t.borderWidth||0;return(e+n)*2}draw(t,e){const n=this.options;this.skip||n.radius<.1||!(0,c.C)(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,(0,c.at)(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function v(s,t){const{x:e,y:n,base:i,width:r,height:o}=s.getProps(["x","y","base","width","height"],t);let l,u,f,b,_;return s.horizontal?(_=o/2,l=Math.min(e,i),u=Math.max(e,i),f=n-_,b=n+_):(_=r/2,l=e-_,u=e+_,f=Math.min(n,i),b=Math.max(n,i)),{left:l,top:f,right:u,bottom:b}}function w(s,t,e,n){return s?0:(0,c.S)(t,e,n)}function k(s,t,e){const n=s.options.borderWidth,i=s.borderSkipped,r=(0,c.av)(n);return{t:w(i.top,r.top,0,e),r:w(i.right,r.right,0,t),b:w(i.bottom,r.bottom,0,e),l:w(i.left,r.left,0,t)}}function A(s,t,e){const{enableBorderRadius:n}=s.getProps(["enableBorderRadius"]),i=s.options.borderRadius,r=(0,c.aw)(i),o=Math.min(t,e),l=s.borderSkipped,u=n||(0,c.i)(i);return{topLeft:w(!u||l.top||l.left,r.topLeft,0,o),topRight:w(!u||l.top||l.right,r.topRight,0,o),bottomLeft:w(!u||l.bottom||l.left,r.bottomLeft,0,o),bottomRight:w(!u||l.bottom||l.right,r.bottomRight,0,o)}}function N(s){const t=v(s),e=t.right-t.left,n=t.bottom-t.top,i=k(s,e/2,n/2),r=A(s,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:r},inner:{x:t.left+i.l,y:t.top+i.t,w:e-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function Q(s,t,e,n){const i=t===null,r=e===null,l=s&&!(i&&r)&&v(s,n);return l&&(i||(0,c.aj)(t,l.left,l.right))&&(r||(0,c.aj)(e,l.top,l.bottom))}function ct(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function wt(s,t){s.rect(t.x,t.y,t.w,t.h)}function Gt(s,t,e={}){const n=s.x!==e.x?-t:0,i=s.y!==e.y?-t:0,r=(s.x+s.w!==e.x+e.w?t:0)-n,o=(s.y+s.h!==e.y+e.h?t:0)-i;return{x:s.x+n,y:s.y+i,w:s.w+r,h:s.h+o,radius:s.radius}}class Jt extends Fe{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:o}=N(this),l=ct(o.radius)?c.au:wt;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),l(t,Gt(o,e,r)),t.clip(),l(t,Gt(r,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),l(t,Gt(r,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return Q(this,t,e,n)}inXRange(t,e){return Q(this,t,null,e)}inYRange(t,e){return Q(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+i)/2:e,y:r?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var fe=Object.freeze({__proto__:null,ArcElement:Yt,BarElement:Jt,LineElement:a,PointElement:m});const ye=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],ee=ye.map(s=>s.replace("rgb(","rgba(").replace(")",", 0.5)"));function Xt(s){return ye[s%ye.length]}function Ee(s){return ee[s%ee.length]}function jn(s,t){return s.borderColor=Xt(t),s.backgroundColor=Ee(t),++t}function ai(s,t){return s.backgroundColor=s.data.map(()=>Xt(t++)),t}function os(s,t){return s.backgroundColor=s.data.map(()=>Ee(t++)),t}function as(s){let t=0;return(e,n)=>{const i=s.getDatasetMeta(n).controller;i instanceof j?t=ai(e,t):i instanceof pt?t=os(e,t):i&&(t=jn(e,t))}}function Qi(s){let t;for(t in s)if(s[t].borderColor||s[t].backgroundColor)return!0;return!1}function ls(s){return s&&(s.borderColor||s.backgroundColor)}function Vn(){return c.d.borderColor!=="rgba(0,0,0,0.1)"||c.d.backgroundColor!=="rgba(0,0,0,0.1)"}var Ji={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(s,t,e){if(!e.enabled)return;const{data:{datasets:n},options:i}=s.config,{elements:r}=i,o=Qi(n)||ls(i)||r&&Qi(r)||Vn();if(!e.forceOverride&&o)return;const l=as(s);n.forEach(l)}};function Xs(s,t,e,n,i){const r=i.samples||n;if(r>=e)return s.slice(t,t+e);const o=[],l=(e-2)/(r-2);let u=0;const f=t+e-1;let b=t,_,C,O,L,Y;for(o[u++]=s[b],_=0;_<r-2;_++){let it=0,nt=0,rt;const Mt=Math.floor((_+1)*l)+1+t,xt=Math.min(Math.floor((_+2)*l)+1,e)+t,ft=xt-Mt;for(rt=Mt;rt<xt;rt++)it+=s[rt].x,nt+=s[rt].y;it/=ft,nt/=ft;const It=Math.floor(_*l)+1+t,Nt=Math.min(Math.floor((_+1)*l)+1,e)+t,{x:zt,y:qt}=s[b];for(O=L=-1,rt=It;rt<Nt;rt++)L=.5*Math.abs((zt-it)*(s[rt].y-qt)-(zt-s[rt].x)*(nt-qt)),L>O&&(O=L,C=s[rt],Y=rt);o[u++]=C,b=Y}return o[u++]=s[f],o}function Zs(s,t,e,n){let i=0,r=0,o,l,u,f,b,_,C,O,L,Y;const it=[],nt=t+e-1,rt=s[t].x,xt=s[nt].x-rt;for(o=t;o<t+e;++o){l=s[o],u=(l.x-rt)/xt*n,f=l.y;const ft=u|0;if(ft===b)f<L?(L=f,_=o):f>Y&&(Y=f,C=o),i=(r*i+l.x)/++r;else{const It=o-1;if(!(0,c.k)(_)&&!(0,c.k)(C)){const Nt=Math.min(_,C),zt=Math.max(_,C);Nt!==O&&Nt!==It&&it.push({...s[Nt],x:i}),zt!==O&&zt!==It&&it.push({...s[zt],x:i})}o>0&&It!==O&&it.push(s[It]),it.push(l),b=ft,r=0,L=Y=f,_=C=O=o}}return it}function ms(s){if(s._decimated){const t=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function bs(s){s.data.datasets.forEach(t=>{ms(t)})}function $s(s,t){const e=t.length;let n=0,i;const{iScale:r}=s,{min:o,max:l,minDefined:u,maxDefined:f}=r.getUserBounds();return u&&(n=(0,c.S)((0,c.B)(t,r.axis,o).lo,0,e-1)),f?i=(0,c.S)((0,c.B)(t,r.axis,l).hi+1,n,e)-n:i=e-n,{start:n,count:i}}var Gs={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,t,e)=>{if(!e.enabled){bs(s);return}const n=s.width;s.data.datasets.forEach((i,r)=>{const{_data:o,indexAxis:l}=i,u=s.getDatasetMeta(r),f=o||i.data;if((0,c.a)([l,s.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const b=s.scales[u.xAxisID];if(b.type!=="linear"&&b.type!=="time"||s.options.parsing)return;let{start:_,count:C}=$s(u,f);const O=e.threshold||4*n;if(C<=O){ms(i);return}(0,c.k)(o)&&(i._data=f,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Y){this._data=Y}}));let L;switch(e.algorithm){case"lttb":L=Xs(f,_,C,n,e);break;case"min-max":L=Zs(f,_,C,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}i._decimated=L})},destroy(s){bs(s)}};function Qs(s,t,e){const n=s.segments,i=s.points,r=t.points,o=[];for(const l of n){let{start:u,end:f}=l;f=us(u,f,i);const b=cs(e,i[u],i[f],l.loop);if(!t.segments){o.push({source:l,target:b,start:i[u],end:i[f]});continue}const _=(0,c.an)(t,b);for(const C of _){const O=cs(e,r[C.start],r[C.end],C.loop),L=(0,c.ax)(l,i,O);for(const Y of L)o.push({source:Y,target:C,start:{[e]:ys(b,O,"start",Math.max)},end:{[e]:ys(b,O,"end",Math.min)}})}}return o}function cs(s,t,e,n){if(n)return;let i=t[s],r=e[s];return s==="angle"&&(i=(0,c.ay)(i),r=(0,c.ay)(r)),{property:s,start:i,end:r}}function Js(s,t){const{x:e=null,y:n=null}=s||{},i=t.points,r=[];return t.segments.forEach(({start:o,end:l})=>{l=us(o,l,i);const u=i[o],f=i[l];n!==null?(r.push({x:u.x,y:n}),r.push({x:f.x,y:n})):e!==null&&(r.push({x:e,y:u.y}),r.push({x:e,y:f.y}))}),r}function us(s,t,e){for(;t>s;t--){const n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function ys(s,t,e,n){return s&&t?n(s[e],t[e]):s?s[e]:t?t[e]:0}function vs(s,t){let e=[],n=!1;return(0,c.b)(s)?(n=!0,e=s):e=Js(s,t),e.length?new a({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function _s(s){return s&&s.fill!==!1}function qs(s,t,e){let i=s[t].fill;const r=[t];let o;if(!e)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!(0,c.g)(i))return i;if(o=s[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function tr(s,t,e){const n=sr(s);if((0,c.i)(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return(0,c.g)(i)&&Math.floor(i)===i?er(n[0],t,i,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function er(s,t,e,n){return(s==="-"||s==="+")&&(e=t+e),e===t||e<0||e>=n?!1:e}function nr(s,t){let e=null;return s==="start"?e=t.bottom:s==="end"?e=t.top:(0,c.i)(s)?e=t.getPixelForValue(s.value):t.getBasePixel&&(e=t.getBasePixel()),e}function ir(s,t,e){let n;return s==="start"?n=e:s==="end"?n=t.options.reverse?t.min:t.max:(0,c.i)(s)?n=s.value:n=t.getBaseValue(),n}function sr(s){const t=s.options,e=t.fill;let n=(0,c.v)(e&&e.target,e);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function rr(s){const{scale:t,index:e,line:n}=s,i=[],r=n.segments,o=n.points,l=or(t,e);l.push(vs({x:null,y:t.bottom},n));for(let u=0;u<r.length;u++){const f=r[u];for(let b=f.start;b<=f.end;b++)ar(i,o[b],l)}return new a({points:i,options:{}})}function or(s,t){const e=[],n=s.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const r=n[i];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function ar(s,t,e){const n=[];for(let i=0;i<e.length;i++){const r=e[i],{first:o,last:l,point:u}=lr(r,t,"x");if(!(!u||o&&l)){if(o)n.unshift(u);else if(s.push(u),!l)break}}s.push(...n)}function lr(s,t,e){const n=s.interpolate(t,e);if(!n)return{};const i=n[e],r=s.segments,o=s.points;let l=!1,u=!1;for(let f=0;f<r.length;f++){const b=r[f],_=o[b.start][e],C=o[b.end][e];if((0,c.aj)(i,_,C)){l=i===_,u=i===C;break}}return{first:l,last:u,point:n}}class xs{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:i,y:r,radius:o}=this;return e=e||{start:0,end:c.T},t.arc(i,r,o,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:i}=this,r=t.angle;return{x:e+Math.cos(r)*i,y:n+Math.sin(r)*i,angle:r}}}function cr(s){const{chart:t,fill:e,line:n}=s;if((0,c.g)(e))return ur(t,e);if(e==="stack")return rr(s);if(e==="shape")return!0;const i=hr(s);return i instanceof xs?i:vs(i,n)}function ur(s,t){const e=s.getDatasetMeta(t);return e&&s.isDatasetVisible(t)?e.dataset:null}function hr(s){return(s.scale||{}).getPointPositionForValue?fr(s):dr(s)}function dr(s){const{scale:t={},fill:e}=s,n=nr(e,t);if((0,c.g)(n)){const i=t.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function fr(s){const{scale:t,fill:e}=s,n=t.options,i=t.getLabels().length,r=n.reverse?t.max:t.min,o=ir(e,t,r),l=[];if(n.grid.circular){const u=t.getPointPositionForValue(0,r);return new xs({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(o)})}for(let u=0;u<i;++u)l.push(t.getPointPositionForValue(u,o));return l}function hs(s,t,e){const n=cr(t),{line:i,scale:r,axis:o}=t,l=i.options,u=l.fill,f=l.backgroundColor,{above:b=f,below:_=f}=u||{};n&&i.points.length&&((0,c.Y)(s,e),gr(s,{line:i,target:n,above:b,below:_,area:e,scale:r,axis:o}),(0,c.$)(s))}function gr(s,t){const{line:e,target:n,above:i,below:r,area:o,scale:l}=t,u=e._loop?"angle":t.axis;s.save(),u==="x"&&r!==i&&(ws(s,n,o.top),Ps(s,{line:e,target:n,color:i,scale:l,property:u}),s.restore(),s.save(),ws(s,n,o.bottom)),Ps(s,{line:e,target:n,color:r,scale:l,property:u}),s.restore()}function ws(s,t,e){const{segments:n,points:i}=t;let r=!0,o=!1;s.beginPath();for(const l of n){const{start:u,end:f}=l,b=i[u],_=i[us(u,f,i)];r?(s.moveTo(b.x,b.y),r=!1):(s.lineTo(b.x,e),s.lineTo(b.x,b.y)),o=!!t.pathSegment(s,l,{move:o}),o?s.closePath():s.lineTo(_.x,e)}s.lineTo(t.first().x,e),s.closePath(),s.clip()}function Ps(s,t){const{line:e,target:n,property:i,color:r,scale:o}=t,l=Qs(e,n,i);for(const{source:u,target:f,start:b,end:_}of l){const{style:{backgroundColor:C=r}={}}=u,O=n!==!0;s.save(),s.fillStyle=C,pr(s,o,O&&cs(i,b,_)),s.beginPath();const L=!!e.pathSegment(s,u);let Y;if(O){L?s.closePath():Cs(s,n,_,i);const it=!!n.pathSegment(s,f,{move:L,reverse:!0});Y=L&&it,Y||Cs(s,n,b,i)}s.closePath(),s.fill(Y?"evenodd":"nonzero"),s.restore()}}function pr(s,t,e){const{top:n,bottom:i}=t.chart.chartArea,{property:r,start:o,end:l}=e||{};r==="x"&&(s.beginPath(),s.rect(o,n,l-o,i-n),s.clip())}function Cs(s,t,e,n){const i=t.interpolate(e,n);i&&s.lineTo(i.x,i.y)}var mr={id:"filler",afterDatasetsUpdate(s,t,e){const n=(s.data.datasets||[]).length,i=[];let r,o,l,u;for(o=0;o<n;++o)r=s.getDatasetMeta(o),l=r.dataset,u=null,l&&l.options&&l instanceof a&&(u={visible:s.isDatasetVisible(o),index:o,fill:tr(l,o,n),chart:s,axis:r.controller.options.indexAxis,scale:r.vScale,line:l}),r.$filler=u,i.push(u);for(o=0;o<n;++o)u=i[o],!(!u||u.fill===!1)&&(u.fill=qs(i,o,e.propagate))},beforeDraw(s,t,e){const n=e.drawTime==="beforeDraw",i=s.getSortedVisibleDatasetMetas(),r=s.chartArea;for(let o=i.length-1;o>=0;--o){const l=i[o].$filler;l&&(l.line.updateControlPoints(r,l.axis),n&&l.fill&&hs(s.ctx,l,r))}},beforeDatasetsDraw(s,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const n=s.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const r=n[i].$filler;_s(r)&&hs(s.ctx,r,s.chartArea)}},beforeDatasetDraw(s,t,e){const n=t.meta.$filler;!_s(n)||e.drawTime!=="beforeDatasetDraw"||hs(s.ctx,n,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ss=(s,t)=>{let{boxHeight:e=t,boxWidth:n=t}=s;return s.usePointStyle&&(e=Math.min(e,t),n=s.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},br=(s,t)=>s!==null&&t!==null&&s.datasetIndex===t.datasetIndex&&s.index===t.index;class Ms extends Fe{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=(0,c.Q)(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=(0,c.a0)(n.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=Ss(n,r);let f,b;e.font=i.string,this.isHorizontal()?(f=this.maxWidth,b=this._fitRows(o,r,l,u)+10):(b=this.maxHeight,f=this._fitCols(o,i,l,u)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(b,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,i){const{ctx:r,maxWidth:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],f=this.lineWidths=[0],b=i+l;let _=t;r.textAlign="left",r.textBaseline="middle";let C=-1,O=-b;return this.legendItems.forEach((L,Y)=>{const it=n+e/2+r.measureText(L.text).width;(Y===0||f[f.length-1]+it+2*l>o)&&(_+=b,f[f.length-(Y>0?0:1)]=0,O+=b,C++),u[Y]={left:0,top:O,row:C,width:it,height:i},f[f.length-1]+=it+l}),_}_fitCols(t,e,n,i){const{ctx:r,maxHeight:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],f=this.columnSizes=[],b=o-t;let _=l,C=0,O=0,L=0,Y=0;return this.legendItems.forEach((it,nt)=>{const{itemWidth:rt,itemHeight:Mt}=yr(n,e,r,it,i);nt>0&&O+Mt+2*l>b&&(_+=C+l,f.push({width:C,height:O}),L+=C+l,Y++,C=O=0),u[nt]={left:L,top:O,col:Y,width:rt,height:Mt},C=Math.max(C,rt),O+=Mt+l}),_+=C,f.push({width:C,height:O}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:i},rtl:r}}=this,o=(0,c.az)(r,this.left,this.width);if(this.isHorizontal()){let l=0,u=(0,c.a2)(n,this.left+i,this.right-this.lineWidths[l]);for(const f of e)l!==f.row&&(l=f.row,u=(0,c.a2)(n,this.left+i,this.right-this.lineWidths[l])),f.top+=this.top+t+i,f.left=o.leftForLtr(o.x(u),f.width),u+=f.width+i}else{let l=0,u=(0,c.a2)(n,this.top+t+i,this.bottom-this.columnSizes[l].height);for(const f of e)f.col!==l&&(l=f.col,u=(0,c.a2)(n,this.top+t+i,this.bottom-this.columnSizes[l].height)),f.top=u,f.left+=this.left+i,f.left=o.leftForLtr(o.x(f.left),f.width),u+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;(0,c.Y)(t,this),this._draw(),(0,c.$)(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:i}=this,{align:r,labels:o}=t,l=c.d.color,u=(0,c.az)(t.rtl,this.left,this.width),f=(0,c.a0)(o.font),{padding:b}=o,_=f.size,C=_/2;let O;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:L,boxHeight:Y,itemHeight:it}=Ss(o,_),nt=function(It,Nt,zt){if(isNaN(L)||L<=0||isNaN(Y)||Y<0)return;i.save();const qt=(0,c.v)(zt.lineWidth,1);if(i.fillStyle=(0,c.v)(zt.fillStyle,l),i.lineCap=(0,c.v)(zt.lineCap,"butt"),i.lineDashOffset=(0,c.v)(zt.lineDashOffset,0),i.lineJoin=(0,c.v)(zt.lineJoin,"miter"),i.lineWidth=qt,i.strokeStyle=(0,c.v)(zt.strokeStyle,l),i.setLineDash((0,c.v)(zt.lineDash,[])),o.usePointStyle){const ae={radius:Y*Math.SQRT2/2,pointStyle:zt.pointStyle,rotation:zt.rotation,borderWidth:qt},le=u.xPlus(It,L/2),he=Nt+C;(0,c.aD)(i,ae,le,he,o.pointStyleWidth&&L)}else{const ae=Nt+Math.max((_-Y)/2,0),le=u.leftForLtr(It,L),he=(0,c.aw)(zt.borderRadius);i.beginPath(),Object.values(he).some(Oe=>Oe!==0)?(0,c.au)(i,{x:le,y:ae,w:L,h:Y,radius:he}):i.rect(le,ae,L,Y),i.fill(),qt!==0&&i.stroke()}i.restore()},rt=function(It,Nt,zt){(0,c.Z)(i,zt.text,It,Nt+it/2,f,{strikethrough:zt.hidden,textAlign:u.textAlign(zt.textAlign)})},Mt=this.isHorizontal(),xt=this._computeTitleHeight();Mt?O={x:(0,c.a2)(r,this.left+b,this.right-n[0]),y:this.top+b+xt,line:0}:O={x:this.left+b,y:(0,c.a2)(r,this.top+xt+b,this.bottom-e[0].height),line:0},(0,c.aA)(this.ctx,t.textDirection);const ft=it+b;this.legendItems.forEach((It,Nt)=>{i.strokeStyle=It.fontColor,i.fillStyle=It.fontColor;const zt=i.measureText(It.text).width,qt=u.textAlign(It.textAlign||(It.textAlign=o.textAlign)),ae=L+C+zt;let le=O.x,he=O.y;u.setWidth(this.width),Mt?Nt>0&&le+ae+b>this.right&&(he=O.y+=ft,O.line++,le=O.x=(0,c.a2)(r,this.left+b,this.right-n[O.line])):Nt>0&&he+ft>this.bottom&&(le=O.x=le+e[O.line].width+b,O.line++,he=O.y=(0,c.a2)(r,this.top+xt+b,this.bottom-e[O.line].height));const Oe=u.x(le);if(nt(Oe,he,It),le=(0,c.aB)(qt,le+L+C,Mt?le+ae:this.right,t.rtl),rt(u.x(le),he,It),Mt)O.x+=ae+b;else if(typeof It.text!="string"){const ze=f.lineHeight;O.y+=Es(It,ze)+b}else O.y+=ft}),(0,c.aC)(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=(0,c.a0)(e.font),i=(0,c.E)(e.padding);if(!e.display)return;const r=(0,c.az)(t.rtl,this.left,this.width),o=this.ctx,l=e.position,u=n.size/2,f=i.top+u;let b,_=this.left,C=this.width;if(this.isHorizontal())C=Math.max(...this.lineWidths),b=this.top+f,_=(0,c.a2)(t.align,_,this.right-C);else{const L=this.columnSizes.reduce((Y,it)=>Math.max(Y,it.height),0);b=f+(0,c.a2)(t.align,this.top,this.bottom-L-t.labels.padding-this._computeTitleHeight())}const O=(0,c.a2)(l,_,_+C);o.textAlign=r.textAlign((0,c.a1)(l)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,(0,c.Z)(o,e.text,O,b,n)}_computeTitleHeight(){const t=this.options.title,e=(0,c.a0)(t.font),n=(0,c.E)(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,i,r;if((0,c.aj)(t,this.left,this.right)&&(0,c.aj)(e,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],(0,c.aj)(t,i.left,i.left+i.width)&&(0,c.aj)(e,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const e=this.options;if(!xr(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,r=br(i,n);i&&!r&&(0,c.Q)(e.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!r&&(0,c.Q)(e.onHover,[t,n,this],this)}else n&&(0,c.Q)(e.onClick,[t,n,this],this)}}function yr(s,t,e,n,i){const r=vr(n,s,t,e),o=_r(i,n,t.lineHeight);return{itemWidth:r,itemHeight:o}}function vr(s,t,e,n){let i=s.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),t+e.size/2+n.measureText(i).width}function _r(s,t,e){let n=s;return typeof t.text!="string"&&(n=Es(t,e)),n}function Es(s,t){const e=s.text?s.text.length:0;return t*e}function xr(s,t){return!!((s==="mousemove"||s==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(s==="click"||s==="mouseup"))}var wr={id:"legend",_element:Ms,start(s,t,e){const n=s.legend=new Ms({ctx:s.ctx,options:e,chart:s});Pe.configure(s,n,e),Pe.addBox(s,n)},stop(s){Pe.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,t,e){const n=s.legend;Pe.configure(s,n,e),n.options=e},afterUpdate(s){const t=s.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(s,t){t.replay||s.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,t,e){const n=t.datasetIndex,i=e.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const t=s.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:i,color:r,useBorderRadius:o,borderRadius:l}}=s.legend.options;return s._getSortedDatasetMetas().map(u=>{const f=u.controller.getStyle(e?0:void 0),b=(0,c.E)(f.borderWidth);return{text:t[u.index].label,fillStyle:f.backgroundColor,fontColor:r,hidden:!u.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(b.width+b.height)/4,strokeStyle:f.borderColor,pointStyle:n||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:o&&(l||f.borderRadius),datasetIndex:u.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class ds extends Fe{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const i=(0,c.b)(n.text)?n.text.length:1;this._padding=(0,c.E)(n.padding);const r=i*(0,c.a0)(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:n,bottom:i,right:r,options:o}=this,l=o.align;let u=0,f,b,_;return this.isHorizontal()?(b=(0,c.a2)(l,n,r),_=e+t,f=r-n):(o.position==="left"?(b=n+t,_=(0,c.a2)(l,i,e),u=c.P*-.5):(b=r-t,_=(0,c.a2)(l,e,i),u=c.P*.5),f=i-e),{titleX:b,titleY:_,maxWidth:f,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=(0,c.a0)(e.font),r=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:u,rotation:f}=this._drawArgs(r);(0,c.Z)(t,e.text,0,0,n,{color:e.color,maxWidth:u,rotation:f,textAlign:(0,c.a1)(e.align),textBaseline:"middle",translation:[o,l]})}}function Pr(s,t){const e=new ds({ctx:s.ctx,options:t,chart:s});Pe.configure(s,e,t),Pe.addBox(s,e),s.titleBlock=e}var Cr={id:"title",_element:ds,start(s,t,e){Pr(s,e)},stop(s){const t=s.titleBlock;Pe.removeBox(s,t),delete s.titleBlock},beforeUpdate(s,t,e){const n=s.titleBlock;Pe.configure(s,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qi=new WeakMap;var Sr={id:"subtitle",start(s,t,e){const n=new ds({ctx:s.ctx,options:e,chart:s});Pe.configure(s,n,e),Pe.addBox(s,n),qi.set(s,n)},stop(s){Pe.removeBox(s,qi.get(s)),qi.delete(s)},beforeUpdate(s,t,e){const n=qi.get(s);Pe.configure(s,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yi={average(s){if(!s.length)return!1;let t,e,n=new Set,i=0,r=0;for(t=0,e=s.length;t<e;++t){const l=s[t].element;if(l&&l.hasValue()){const u=l.tooltipPosition();n.add(u.x),i+=u.y,++r}}return r===0||n.size===0?!1:{x:[...n].reduce((l,u)=>l+u)/n.size,y:i/r}},nearest(s,t){if(!s.length)return!1;let e=t.x,n=t.y,i=Number.POSITIVE_INFINITY,r,o,l;for(r=0,o=s.length;r<o;++r){const u=s[r].element;if(u&&u.hasValue()){const f=u.getCenterPoint(),b=(0,c.aE)(t,f);b<i&&(i=b,l=u)}}if(l){const u=l.tooltipPosition();e=u.x,n=u.y}return{x:e,y:n}}};function ln(s,t){return t&&((0,c.b)(t)?Array.prototype.push.apply(s,t):s.push(t)),s}function _n(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function Mr(s,t){const{element:e,datasetIndex:n,index:i}=t,r=s.getDatasetMeta(n).controller,{label:o,value:l}=r.getLabelAndValue(i);return{chart:s,label:o,parsed:r.getParsed(i),raw:s.data.datasets[n].data[i],formattedValue:l,dataset:r.getDataset(),dataIndex:i,datasetIndex:n,element:e}}function Os(s,t){const e=s.chart.ctx,{body:n,footer:i,title:r}=s,{boxWidth:o,boxHeight:l}=t,u=(0,c.a0)(t.bodyFont),f=(0,c.a0)(t.titleFont),b=(0,c.a0)(t.footerFont),_=r.length,C=i.length,O=n.length,L=(0,c.E)(t.padding);let Y=L.height,it=0,nt=n.reduce((xt,ft)=>xt+ft.before.length+ft.lines.length+ft.after.length,0);if(nt+=s.beforeBody.length+s.afterBody.length,_&&(Y+=_*f.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),nt){const xt=t.displayColors?Math.max(l,u.lineHeight):u.lineHeight;Y+=O*xt+(nt-O)*u.lineHeight+(nt-1)*t.bodySpacing}C&&(Y+=t.footerMarginTop+C*b.lineHeight+(C-1)*t.footerSpacing);let rt=0;const Mt=function(xt){it=Math.max(it,e.measureText(xt).width+rt)};return e.save(),e.font=f.string,(0,c.F)(s.title,Mt),e.font=u.string,(0,c.F)(s.beforeBody.concat(s.afterBody),Mt),rt=t.displayColors?o+2+t.boxPadding:0,(0,c.F)(n,xt=>{(0,c.F)(xt.before,Mt),(0,c.F)(xt.lines,Mt),(0,c.F)(xt.after,Mt)}),rt=0,e.font=b.string,(0,c.F)(s.footer,Mt),e.restore(),it+=L.width,{width:it,height:Y}}function Er(s,t){const{y:e,height:n}=t;return e<n/2?"top":e>s.height-n/2?"bottom":"center"}function Or(s,t,e,n){const{x:i,width:r}=n,o=e.caretSize+e.caretPadding;if(s==="left"&&i+r+o>t.width||s==="right"&&i-r-o<0)return!0}function kr(s,t,e,n){const{x:i,width:r}=e,{width:o,chartArea:{left:l,right:u}}=s;let f="center";return n==="center"?f=i<=(l+u)/2?"left":"right":i<=r/2?f="left":i>=o-r/2&&(f="right"),Or(f,s,t,e)&&(f="center"),f}function ks(s,t,e){const n=e.yAlign||t.yAlign||Er(s,e);return{xAlign:e.xAlign||t.xAlign||kr(s,t,e,n),yAlign:n}}function Tr(s,t){let{x:e,width:n}=s;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function Dr(s,t,e){let{y:n,height:i}=s;return t==="top"?n+=e:t==="bottom"?n-=i+e:n-=i/2,n}function Ts(s,t,e,n){const{caretSize:i,caretPadding:r,cornerRadius:o}=s,{xAlign:l,yAlign:u}=e,f=i+r,{topLeft:b,topRight:_,bottomLeft:C,bottomRight:O}=(0,c.aw)(o);let L=Tr(t,l);const Y=Dr(t,u,f);return u==="center"?l==="left"?L+=f:l==="right"&&(L-=f):l==="left"?L-=Math.max(b,C)+i:l==="right"&&(L+=Math.max(_,O)+i),{x:(0,c.S)(L,0,n.width-t.width),y:(0,c.S)(Y,0,n.height-t.height)}}function ts(s,t,e){const n=(0,c.E)(e.padding);return t==="center"?s.x+s.width/2:t==="right"?s.x+s.width-n.right:s.x+n.left}function Ds(s){return ln([],_n(s))}function Ar(s,t,e){return(0,c.j)(s,{tooltip:t,tooltipItems:e,type:"tooltip"})}function As(s,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?s.override(e):s}const Rs={beforeTitle:c.aF,title(s){if(s.length>0){const t=s[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:c.aF,beforeBody:c.aF,beforeLabel:c.aF,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let t=s.dataset.label||"";t&&(t+=": ");const e=s.formattedValue;return(0,c.k)(e)||(t+=e),t},labelColor(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:c.aF,afterBody:c.aF,beforeFooter:c.aF,footer:c.aF,afterFooter:c.aF};function Ne(s,t,e,n){const i=s[t].call(e,n);return typeof i>"u"?Rs[t].call(e,n):i}class Ls extends Fe{static positioners=Yi;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,r=new V(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Ar(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:n}=e,i=Ne(n,"beforeTitle",this,t),r=Ne(n,"title",this,t),o=Ne(n,"afterTitle",this,t);let l=[];return l=ln(l,_n(i)),l=ln(l,_n(r)),l=ln(l,_n(o)),l}getBeforeBody(t,e){return Ds(Ne(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,i=[];return(0,c.F)(t,r=>{const o={before:[],lines:[],after:[]},l=As(n,r);ln(o.before,_n(Ne(l,"beforeLabel",this,r))),ln(o.lines,Ne(l,"label",this,r)),ln(o.after,_n(Ne(l,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(t,e){return Ds(Ne(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,i=Ne(n,"beforeFooter",this,t),r=Ne(n,"footer",this,t),o=Ne(n,"afterFooter",this,t);let l=[];return l=ln(l,_n(i)),l=ln(l,_n(r)),l=ln(l,_n(o)),l}_createItems(t){const e=this._active,n=this.chart.data,i=[],r=[],o=[];let l=[],u,f;for(u=0,f=e.length;u<f;++u)l.push(Mr(this.chart,e[u]));return t.filter&&(l=l.filter((b,_,C)=>t.filter(b,_,C,n))),t.itemSort&&(l=l.sort((b,_)=>t.itemSort(b,_,n))),(0,c.F)(l,b=>{const _=As(t.callbacks,b);i.push(Ne(_,"labelColor",this,b)),r.push(Ne(_,"labelPointStyle",this,b)),o.push(Ne(_,"labelTextColor",this,b))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const l=Yi[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const u=this._size=Os(this,n),f=Object.assign({},l,u),b=ks(this.chart,n,f),_=Ts(n,f,b,this.chart);this.xAlign=b.xAlign,this.yAlign=b.yAlign,r={opacity:1,x:_.x,y:_.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const r=this.getCaretPosition(t,n,i);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:u,topRight:f,bottomLeft:b,bottomRight:_}=(0,c.aw)(l),{x:C,y:O}=t,{width:L,height:Y}=e;let it,nt,rt,Mt,xt,ft;return r==="center"?(xt=O+Y/2,i==="left"?(it=C,nt=it-o,Mt=xt+o,ft=xt-o):(it=C+L,nt=it+o,Mt=xt-o,ft=xt+o),rt=it):(i==="left"?nt=C+Math.max(u,b)+o:i==="right"?nt=C+L-Math.max(f,_)-o:nt=this.caretX,r==="top"?(Mt=O,xt=Mt-o,it=nt-o,rt=nt+o):(Mt=O+Y,xt=Mt+o,it=nt+o,rt=nt-o),ft=Mt),{x1:it,x2:nt,x3:rt,y1:Mt,y2:xt,y3:ft}}drawTitle(t,e,n){const i=this.title,r=i.length;let o,l,u;if(r){const f=(0,c.az)(n.rtl,this.x,this.width);for(t.x=ts(this,n.titleAlign,n),e.textAlign=f.textAlign(n.titleAlign),e.textBaseline="middle",o=(0,c.a0)(n.titleFont),l=n.titleSpacing,e.fillStyle=n.titleColor,e.font=o.string,u=0;u<r;++u)e.fillText(i[u],f.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,u+1===r&&(t.y+=n.titleMarginBottom-l)}}_drawColorBox(t,e,n,i,r){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:u,boxWidth:f}=r,b=(0,c.a0)(r.bodyFont),_=ts(this,"left",r),C=i.x(_),O=u<b.lineHeight?(b.lineHeight-u)/2:0,L=e.y+O;if(r.usePointStyle){const Y={radius:Math.min(f,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},it=i.leftForLtr(C,f)+f/2,nt=L+u/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,(0,c.at)(t,Y,it,nt),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,(0,c.at)(t,Y,it,nt)}else{t.lineWidth=(0,c.i)(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const Y=i.leftForLtr(C,f),it=i.leftForLtr(i.xPlus(C,1),f-2),nt=(0,c.aw)(o.borderRadius);Object.values(nt).some(rt=>rt!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,(0,c.au)(t,{x:Y,y:L,w:f,h:u,radius:nt}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),(0,c.au)(t,{x:it,y:L+1,w:f-2,h:u-2,radius:nt}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(Y,L,f,u),t.strokeRect(Y,L,f,u),t.fillStyle=o.backgroundColor,t.fillRect(it,L+1,f-2,u-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:l,boxHeight:u,boxWidth:f,boxPadding:b}=n,_=(0,c.a0)(n.bodyFont);let C=_.lineHeight,O=0;const L=(0,c.az)(n.rtl,this.x,this.width),Y=function(zt){e.fillText(zt,L.x(t.x+O),t.y+C/2),t.y+=C+r},it=L.textAlign(o);let nt,rt,Mt,xt,ft,It,Nt;for(e.textAlign=o,e.textBaseline="middle",e.font=_.string,t.x=ts(this,it,n),e.fillStyle=n.bodyColor,(0,c.F)(this.beforeBody,Y),O=l&&it!=="right"?o==="center"?f/2+b:f+2+b:0,xt=0,It=i.length;xt<It;++xt){for(nt=i[xt],rt=this.labelTextColors[xt],e.fillStyle=rt,(0,c.F)(nt.before,Y),Mt=nt.lines,l&&Mt.length&&(this._drawColorBox(e,t,xt,L,n),C=Math.max(_.lineHeight,u)),ft=0,Nt=Mt.length;ft<Nt;++ft)Y(Mt[ft]),C=_.lineHeight;(0,c.F)(nt.after,Y)}O=0,C=_.lineHeight,(0,c.F)(this.afterBody,Y),t.y-=r}drawFooter(t,e,n){const i=this.footer,r=i.length;let o,l;if(r){const u=(0,c.az)(n.rtl,this.x,this.width);for(t.x=ts(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=u.textAlign(n.footerAlign),e.textBaseline="middle",o=(0,c.a0)(n.footerFont),e.fillStyle=n.footerColor,e.font=o.string,l=0;l<r;++l)e.fillText(i[l],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:r,yAlign:o}=this,{x:l,y:u}=t,{width:f,height:b}=n,{topLeft:_,topRight:C,bottomLeft:O,bottomRight:L}=(0,c.aw)(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(l+_,u),o==="top"&&this.drawCaret(t,e,n,i),e.lineTo(l+f-C,u),e.quadraticCurveTo(l+f,u,l+f,u+C),o==="center"&&r==="right"&&this.drawCaret(t,e,n,i),e.lineTo(l+f,u+b-L),e.quadraticCurveTo(l+f,u+b,l+f-L,u+b),o==="bottom"&&this.drawCaret(t,e,n,i),e.lineTo(l+O,u+b),e.quadraticCurveTo(l,u+b,l,u+b-O),o==="center"&&r==="left"&&this.drawCaret(t,e,n,i),e.lineTo(l,u+_),e.quadraticCurveTo(l,u,l+_,u),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const o=Yi[t.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=Os(this,t),u=Object.assign({},o,this._size),f=ks(e,t,u),b=Ts(t,u,f,e);(i._to!==b.x||r._to!==b.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,b))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=(0,c.E)(e.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&l&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,i,e),(0,c.aA)(t,e.textDirection),r.y+=o.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),(0,c.aC)(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map(({datasetIndex:l,index:u})=>{const f=this.chart.getDatasetMeta(l);if(!f)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:f.data[u],index:u}}),r=!(0,c.ah)(n,i),o=this._positionChanged(i,e);(r||o)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(t,r,e,n),l=this._positionChanged(o,t),u=e||!(0,c.ah)(o,r)||l;return u&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),u}_getActiveElements(t,e,n,i){const r=this.options;if(t.type==="mouseout")return[];if(!i)return e.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:n,caretY:i,options:r}=this,o=Yi[r.position].call(this,t,e);return o!==!1&&(n!==o.x||i!==o.y)}}var Rr={id:"tooltip",_element:Ls,positioners:Yi,afterInit(s,t,e){e&&(s.tooltip=new Ls({chart:s,options:e}))},beforeUpdate(s,t,e){s.tooltip&&s.tooltip.initialize(e)},reset(s,t,e){s.tooltip&&s.tooltip.initialize(e)},afterDraw(s){const t=s.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(s.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",e)}},afterEvent(s,t){if(s.tooltip){const e=t.replay;s.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,t)=>t.bodyFont.size,boxWidth:(s,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Rs},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Lr=Object.freeze({__proto__:null,Colors:Ji,Decimation:Gs,Filler:mr,Legend:wr,SubTitle:Sr,Title:Cr,Tooltip:Rr});const Ir=(s,t,e,n)=>(typeof t=="string"?(e=s.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Fr(s,t,e,n){const i=s.indexOf(t);if(i===-1)return Ir(s,t,e,n);const r=s.lastIndexOf(t);return i!==r?e:i}const Nr=(s,t)=>s===null?null:(0,c.S)(Math.round(s),0,t);function Is(s){const t=this.getLabels();return s>=0&&s<t.length?t[s]:s}class Br extends Ke{static id="category";static defaults={ticks:{callback:Is}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const n=this.getLabels();for(const{index:i,label:r}of e)n[i]===r&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if((0,c.k)(t))return null;const n=this.getLabels();return e=isFinite(e)&&n[e]===t?e:Fr(n,t,(0,c.v)(e,t),this._addedLabels),Nr(e,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=t===0&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=e;o++)i.push({value:o});return i}getLabelForValue(t){return Is.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Wr(s,t){const e=[],{bounds:i,step:r,min:o,max:l,precision:u,count:f,maxTicks:b,maxDigits:_,includeBounds:C}=s,O=r||1,L=b-1,{min:Y,max:it}=t,nt=!(0,c.k)(o),rt=!(0,c.k)(l),Mt=!(0,c.k)(f),xt=(it-Y)/(_+1);let ft=(0,c.aH)((it-Y)/L/O)*O,It,Nt,zt,qt;if(ft<1e-14&&!nt&&!rt)return[{value:Y},{value:it}];qt=Math.ceil(it/ft)-Math.floor(Y/ft),qt>L&&(ft=(0,c.aH)(qt*ft/L/O)*O),(0,c.k)(u)||(It=Math.pow(10,u),ft=Math.ceil(ft*It)/It),i==="ticks"?(Nt=Math.floor(Y/ft)*ft,zt=Math.ceil(it/ft)*ft):(Nt=Y,zt=it),nt&&rt&&r&&(0,c.aI)((l-o)/r,ft/1e3)?(qt=Math.round(Math.min((l-o)/ft,b)),ft=(l-o)/qt,Nt=o,zt=l):Mt?(Nt=nt?o:Nt,zt=rt?l:zt,qt=f-1,ft=(zt-Nt)/qt):(qt=(zt-Nt)/ft,(0,c.aJ)(qt,Math.round(qt),ft/1e3)?qt=Math.round(qt):qt=Math.ceil(qt));const ae=Math.max((0,c.aK)(ft),(0,c.aK)(Nt));It=Math.pow(10,(0,c.k)(u)?ae:u),Nt=Math.round(Nt*It)/It,zt=Math.round(zt*It)/It;let le=0;for(nt&&(C&&Nt!==o?(e.push({value:o}),Nt<o&&le++,(0,c.aJ)(Math.round((Nt+le*ft)*It)/It,o,Fs(o,xt,s))&&le++):Nt<o&&le++);le<qt;++le){const he=Math.round((Nt+le*ft)*It)/It;if(rt&&he>l)break;e.push({value:he})}return rt&&C&&zt!==l?e.length&&(0,c.aJ)(e[e.length-1].value,l,Fs(l,xt,s))?e[e.length-1].value=l:e.push({value:l}):(!rt||zt===l)&&e.push({value:zt}),e}function Fs(s,t,{horizontal:e,minRotation:n}){const i=(0,c.t)(n),r=(e?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+s).length;return Math.min(t/r,o)}class es extends Ke{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return(0,c.k)(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const o=u=>i=e?i:u,l=u=>r=n?r:u;if(t){const u=(0,c.s)(i),f=(0,c.s)(r);u<0&&f<0?l(0):u>0&&f>0&&o(0)}if(i===r){let u=r===0?1:Math.abs(r*.05);l(r+u),t||o(i-u)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),e=e||11),e&&(i=Math.min(e,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,o=Wr(i,r);return t.bounds==="ticks"&&(0,c.aG)(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return(0,c.o)(t,this.chart.options.locale,this.options.ticks.format)}}class zr extends es{static id="linear";static defaults={ticks:{callback:c.aL.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=(0,c.g)(t)?t:0,this.max=(0,c.g)(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=(0,c.t)(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Xi=s=>Math.floor((0,c.aM)(s)),li=(s,t)=>Math.pow(10,Xi(s)+t);function Ns(s){return s/Math.pow(10,Xi(s))===1}function Bs(s,t,e){const n=Math.pow(10,e),i=Math.floor(s/n);return Math.ceil(t/n)-i}function jr(s,t){const e=t-s;let n=Xi(e);for(;Bs(s,t,n)>10;)n++;for(;Bs(s,t,n)<10;)n--;return Math.min(n,Xi(s))}function Vr(s,{min:t,max:e}){t=(0,c.O)(s.min,t);const n=[],i=Xi(t);let r=jr(t,e),o=r<0?Math.pow(10,Math.abs(r)):1;const l=Math.pow(10,r),u=i>r?Math.pow(10,i):0,f=Math.round((t-u)*o)/o,b=Math.floor((t-u)/l/10)*l*10;let _=Math.floor((f-b)/Math.pow(10,r)),C=(0,c.O)(s.min,Math.round((u+b+_*Math.pow(10,r))*o)/o);for(;C<e;)n.push({value:C,major:Ns(C),significand:_}),_>=10?_=_<15?15:20:_++,_>=20&&(r++,_=2,o=r>=0?1:o),C=Math.round((u+b+_*Math.pow(10,r))*o)/o;const O=(0,c.O)(s.max,C);return n.push({value:O,major:Ns(O),significand:_}),n}class Hr extends Ke{static id="logarithmic";static defaults={ticks:{callback:c.aL.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=es.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return(0,c.g)(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=(0,c.g)(t)?Math.max(0,t):null,this.max=(0,c.g)(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!(0,c.g)(this._userMin)&&(this.min=t===li(this.min,0)?li(this.min,-1):li(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,i=this.max;const r=l=>n=t?n:l,o=l=>i=e?i:l;n===i&&(n<=0?(r(1),o(10)):(r(li(n,-1)),o(li(i,1)))),n<=0&&r(li(i,-1)),i<=0&&o(li(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},n=Vr(e,this);return t.bounds==="ticks"&&(0,c.aG)(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":(0,c.o)(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=(0,c.aM)(t),this._valueRange=(0,c.aM)(this.max)-(0,c.aM)(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:((0,c.aM)(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function fs(s){const t=s.ticks;if(t.display&&s.display){const e=(0,c.E)(t.backdropPadding);return(0,c.v)(t.font&&t.font.size,c.d.font.size)+e.height}return 0}function Ur(s,t,e){return e=(0,c.b)(e)?e:[e],{w:(0,c.aN)(s,t.string,e),h:e.length*t.lineHeight}}function Ws(s,t,e,n,i){return s===n||s===i?{start:t-e/2,end:t+e/2}:s<n||s>i?{start:t-e,end:t}:{start:t,end:t+e}}function Kr(s){const t={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},e=Object.assign({},t),n=[],i=[],r=s._pointLabels.length,o=s.options.pointLabels,l=o.centerPointLabels?c.P/r:0;for(let u=0;u<r;u++){const f=o.setContext(s.getPointLabelContext(u));i[u]=f.padding;const b=s.getPointPosition(u,s.drawingArea+i[u],l),_=(0,c.a0)(f.font),C=Ur(s.ctx,_,s._pointLabels[u]);n[u]=C;const O=(0,c.ay)(s.getIndexAngle(u)+l),L=Math.round((0,c.U)(O)),Y=Ws(L,b.x,C.w,0,180),it=Ws(L,b.y,C.h,90,270);Yr(e,t,O,Y,it)}s.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),s._pointLabelItems=$r(s,n,i)}function Yr(s,t,e,n,i){const r=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let l=0,u=0;n.start<t.l?(l=(t.l-n.start)/r,s.l=Math.min(s.l,t.l-l)):n.end>t.r&&(l=(n.end-t.r)/r,s.r=Math.max(s.r,t.r+l)),i.start<t.t?(u=(t.t-i.start)/o,s.t=Math.min(s.t,t.t-u)):i.end>t.b&&(u=(i.end-t.b)/o,s.b=Math.max(s.b,t.b+u))}function Xr(s,t,e){const n=s.drawingArea,{extra:i,additionalAngle:r,padding:o,size:l}=e,u=s.getPointPosition(t,n+i+o,r),f=Math.round((0,c.U)((0,c.ay)(u.angle+c.H))),b=Jr(u.y,l.h,f),_=Gr(f),C=Qr(u.x,l.w,_);return{visible:!0,x:u.x,y:b,textAlign:_,left:C,top:b,right:C+l.w,bottom:b+l.h}}function Zr(s,t){if(!t)return!0;const{left:e,top:n,right:i,bottom:r}=s;return!((0,c.C)({x:e,y:n},t)||(0,c.C)({x:e,y:r},t)||(0,c.C)({x:i,y:n},t)||(0,c.C)({x:i,y:r},t))}function $r(s,t,e){const n=[],i=s._pointLabels.length,r=s.options,{centerPointLabels:o,display:l}=r.pointLabels,u={extra:fs(r)/2,additionalAngle:o?c.P/i:0};let f;for(let b=0;b<i;b++){u.padding=e[b],u.size=t[b];const _=Xr(s,b,u);n.push(_),l==="auto"&&(_.visible=Zr(_,f),_.visible&&(f=_))}return n}function Gr(s){return s===0||s===180?"center":s<180?"left":"right"}function Qr(s,t,e){return e==="right"?s-=t:e==="center"&&(s-=t/2),s}function Jr(s,t,e){return e===90||e===270?s-=t/2:(e>270||e<90)&&(s-=t),s}function qr(s,t,e){const{left:n,top:i,right:r,bottom:o}=e,{backdropColor:l}=t;if(!(0,c.k)(l)){const u=(0,c.aw)(t.borderRadius),f=(0,c.E)(t.backdropPadding);s.fillStyle=l;const b=n-f.left,_=i-f.top,C=r-n+f.width,O=o-i+f.height;Object.values(u).some(L=>L!==0)?(s.beginPath(),(0,c.au)(s,{x:b,y:_,w:C,h:O,radius:u}),s.fill()):s.fillRect(b,_,C,O)}}function to(s,t){const{ctx:e,options:{pointLabels:n}}=s;for(let i=t-1;i>=0;i--){const r=s._pointLabelItems[i];if(!r.visible)continue;const o=n.setContext(s.getPointLabelContext(i));qr(e,o,r);const l=(0,c.a0)(o.font),{x:u,y:f,textAlign:b}=r;(0,c.Z)(e,s._pointLabels[i],u,f+l.lineHeight/2,l,{color:o.color,textAlign:b,textBaseline:"middle"})}}function zs(s,t,e,n){const{ctx:i}=s;if(e)i.arc(s.xCenter,s.yCenter,t,0,c.T);else{let r=s.getPointPosition(0,t);i.moveTo(r.x,r.y);for(let o=1;o<n;o++)r=s.getPointPosition(o,t),i.lineTo(r.x,r.y)}}function eo(s,t,e,n,i){const r=s.ctx,o=t.circular,{color:l,lineWidth:u}=t;!o&&!n||!l||!u||e<0||(r.save(),r.strokeStyle=l,r.lineWidth=u,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),zs(s,e,o,n),r.closePath(),r.stroke(),r.restore())}function no(s,t,e){return(0,c.j)(s,{label:e,index:t,type:"pointLabel"})}class io extends es{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:c.aL.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=(0,c.E)(fs(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=(0,c.g)(t)&&!isNaN(t)?t:0,this.max=(0,c.g)(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/fs(this.options))}generateTickLabels(t){es.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{const i=(0,c.Q)(this.options.pointLabels.callback,[e,n],this);return i||i===0?i:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?Kr(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,i))}getIndexAngle(t){const e=c.T/(this._pointLabels.length||1),n=this.options.startAngle||0;return(0,c.ay)(t*e+(0,c.t)(n))}getDistanceFromCenterForValue(t){if((0,c.k)(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if((0,c.k)(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return no(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const i=this.getIndexAngle(t)-c.H+n;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:i,bottom:r}=this._pointLabelItems[t];return{left:e,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),zs(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:i,border:r}=e,o=this._pointLabels.length;let l,u,f;if(e.pointLabels.display&&to(this,o),i.display&&this.ticks.forEach((b,_)=>{if(_!==0||_===0&&this.min<0){u=this.getDistanceFromCenterForValue(b.value);const C=this.getContext(_),O=i.setContext(C),L=r.setContext(C);eo(this,O,u,o,L)}}),n.display){for(t.save(),l=o-1;l>=0;l--){const b=n.setContext(this.getPointLabelContext(l)),{color:_,lineWidth:C}=b;!C||!_||(t.lineWidth=C,t.strokeStyle=_,t.setLineDash(b.borderDash),t.lineDashOffset=b.borderDashOffset,u=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),f=this.getPointPosition(l,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(f.x,f.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,u)=>{if(u===0&&this.min>=0&&!e.reverse)return;const f=n.setContext(this.getContext(u)),b=(0,c.a0)(f.font);if(r=this.getDistanceFromCenterForValue(this.ticks[u].value),f.showLabelBackdrop){t.font=b.string,o=t.measureText(l.label).width,t.fillStyle=f.backdropColor;const _=(0,c.E)(f.backdropPadding);t.fillRect(-o/2-_.left,-r-b.size/2-_.top,o+_.width,b.size+_.height)}(0,c.Z)(t,l.label,0,-r,b,{color:f.color,strokeColor:f.textStrokeColor,strokeWidth:f.textStrokeWidth})}),t.restore()}drawTitle(){}}const ns={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Be=Object.keys(ns);function js(s,t){return s-t}function Vs(s,t){if((0,c.k)(t))return null;const e=s._adapter,{parser:n,round:i,isoWeekday:r}=s._parseOpts;let o=t;return typeof n=="function"&&(o=n(o)),(0,c.g)(o)||(o=typeof n=="string"?e.parse(o,n):e.parse(o)),o===null?null:(i&&(o=i==="week"&&((0,c.x)(r)||r===!0)?e.startOf(o,"isoWeek",r):e.startOf(o,i)),+o)}function Hs(s,t,e,n){const i=Be.length;for(let r=Be.indexOf(s);r<i-1;++r){const o=ns[Be[r]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(l*o.size))<=n)return Be[r]}return Be[i-1]}function so(s,t,e,n,i){for(let r=Be.length-1;r>=Be.indexOf(e);r--){const o=Be[r];if(ns[o].common&&s._adapter.diff(i,n,o)>=t-1)return o}return Be[e?Be.indexOf(e):0]}function ro(s){for(let t=Be.indexOf(s)+1,e=Be.length;t<e;++t)if(ns[Be[t]].common)return Be[t]}function Us(s,t,e){if(!e)s[t]=!0;else if(e.length){const{lo:n,hi:i}=(0,c.aP)(e,t),r=e[n]>=t?e[n]:e[i];s[r]=!0}}function oo(s,t,e,n){const i=s._adapter,r=+i.startOf(t[0].value,n),o=t[t.length-1].value;let l,u;for(l=r;l<=o;l=+i.add(l,1,n))u=e[l],u>=0&&(t[u].major=!0);return t}function Ks(s,t,e){const n=[],i={},r=t.length;let o,l;for(o=0;o<r;++o)l=t[o],i[l]=o,n.push({value:l,major:!1});return r===0||!e?n:oo(s,n,i,e)}class gs extends Ke{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const n=t.time||(t.time={}),i=this._adapter=new _t._date(t.adapters.date);i.init(e),(0,c.ab)(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Vs(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:l}=this.getUserBounds();function u(f){!o&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!l&&!isNaN(f.max)&&(r=Math.max(r,f.max))}(!o||!l)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=(0,c.g)(i)&&!isNaN(i)?i:+e.startOf(Date.now(),n),r=(0,c.g)(r)&&!isNaN(r)?r:+e.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,l=(0,c.aO)(i,r,o);return this._unit=e.unit||(n.autoSkip?Hs(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):so(this,l.length,e.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:ro(this._unit),this.initOffsets(i),t.reverse&&l.reverse(),Ks(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,n=0,i,r;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?e=1-i:e=(this.getDecimalForValue(t[1])-i)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?n=r:n=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=(0,c.S)(e,0,o),n=(0,c.S)(n,0,o),this._offsets={start:e,end:n,factor:1/(e+1+n)}}_generate(){const t=this._adapter,e=this.min,n=this.max,i=this.options,r=i.time,o=r.unit||Hs(r.minUnit,e,n,this._getLabelCapacity(e)),l=(0,c.v)(i.ticks.stepSize,1),u=o==="week"?r.isoWeekday:!1,f=(0,c.x)(u)||u===!0,b={};let _=e,C,O;if(f&&(_=+t.startOf(_,"isoWeek",u)),_=+t.startOf(_,f?"day":o),t.diff(n,e,o)>1e5*l)throw new Error(e+" and "+n+" are too far apart with stepSize of "+l+" "+o);const L=i.ticks.source==="data"&&this.getDataTimestamps();for(C=_,O=0;C<n;C=+t.add(C,l,o),O++)Us(b,C,L);return(C===n||i.bounds==="ticks"||O===1)&&Us(b,C,L),Object.keys(b).sort(js).map(Y=>+Y)}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const i=this.options.time.displayFormats,r=this._unit,o=e||i[r];return this._adapter.format(t,o)}_tickFormatFunction(t,e,n,i){const r=this.options,o=r.ticks.callback;if(o)return(0,c.Q)(o,[t,e,n],this);const l=r.time.displayFormats,u=this._unit,f=this._majorUnit,b=u&&l[u],_=f&&l[f],C=n[e],O=f&&_&&C&&C.major;return this._adapter.format(t,i||(O?_:b))}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,i=(0,c.t)(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(i),o=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:n*r+l*o,h:n*o+l*r}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,r=this._tickFormatFunction(t,0,Ks(this,[t],this._majorUnit),i),o=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],e,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,n=i.length;e<n;++e)t=t.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const i=this.getLabels();for(e=0,n=i.length;e<n;++e)t.push(Vs(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return(0,c._)(t.sort(js))}}function is(s,t,e){let n=0,i=s.length-1,r,o,l,u;e?(t>=s[n].pos&&t<=s[i].pos&&({lo:n,hi:i}=(0,c.B)(s,"pos",t)),{pos:r,time:l}=s[n],{pos:o,time:u}=s[i]):(t>=s[n].time&&t<=s[i].time&&({lo:n,hi:i}=(0,c.B)(s,"time",t)),{time:r,pos:l}=s[n],{time:o,pos:u}=s[i]);const f=o-r;return f?l+(u-l)*(t-r)/f:l}class ao extends gs{static id="timeseries";static defaults=gs.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=is(e,this.min),this._tableRange=is(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,i=[],r=[];let o,l,u,f,b;for(o=0,l=t.length;o<l;++o)f=t[o],f>=e&&f<=n&&i.push(f);if(i.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,l=i.length;o<l;++o)b=i[o+1],u=i[o-1],f=i[o],Math.round((b+u)/2)!==f&&r.push({time:f,pos:o/(l-1)});return r}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((i,r)=>i-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(is(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return is(this._table,n*this._tableRange+this._minPos,!0)}}var lo=Object.freeze({__proto__:null,CategoryScale:Br,LinearScale:zr,LogarithmicScale:Hr,RadialLinearScale:io,TimeScale:gs,TimeSeriesScale:ao});const co=[Et,fe,Lr,lo]},6672:(ut,X,x)=>{"use strict";x.d(X,{$:()=>pn,A:()=>de,B:()=>Lt,C:()=>Gn,D:()=>pt,E:()=>_i,F:()=>z,G:()=>d,H:()=>H,I:()=>Nn,J:()=>y,K:()=>p,L:()=>Ae,M:()=>ri,N:()=>Ft,O:()=>J,P:()=>dt,Q:()=>tt,R:()=>ei,S:()=>Vt,T:()=>Ut,U:()=>j,V:()=>He,W:()=>mt,X:()=>Fi,Y:()=>Fe,Z:()=>Wi,_:()=>be,a:()=>ji,a0:()=>zi,a1:()=>Te,a2:()=>je,a3:()=>pi,a4:()=>I,a5:()=>te,a6:()=>nn,a7:()=>se,a8:()=>bn,a9:()=>rn,aA:()=>Dt,aB:()=>xn,aC:()=>Yt,aD:()=>mi,aE:()=>kt,aF:()=>S,aG:()=>ie,aH:()=>vt,aI:()=>Rt,aJ:()=>St,aK:()=>K,aL:()=>Kn,aM:()=>Ct,aN:()=>Mn,aO:()=>ce,aP:()=>Tt,aa:()=>xi,ab:()=>B,ac:()=>D,ad:()=>Qe,ae:()=>h,af:()=>$n,ag:()=>ne,ah:()=>q,ai:()=>Bt,aj:()=>_t,ak:()=>On,al:()=>Oi,am:()=>$e,an:()=>Ze,ao:()=>M,ap:()=>E,aq:()=>P,ar:()=>Bi,as:()=>Qn,at:()=>Ni,au:()=>yi,av:()=>sn,aw:()=>vi,ax:()=>Le,ay:()=>jt,az:()=>st,b:()=>F,b3:()=>G,b4:()=>U,b5:()=>lt,c:()=>hn,d:()=>Xn,e:()=>wn,f:()=>Zt,g:()=>V,h:()=>oe,i:()=>W,j:()=>Ke,k:()=>T,l:()=>Se,m:()=>gt,n:()=>et,o:()=>Sn,p:()=>Et,q:()=>Hn,r:()=>ke,s:()=>Ot,t:()=>ue,u:()=>xe,v:()=>at,w:()=>hi,x:()=>$t,y:()=>Ye,z:()=>an});var c=x(6193);function S(){}const D=(()=>{let a=0;return()=>a++})();function T(a){return a===null||typeof a>"u"}function F(a){if(Array.isArray&&Array.isArray(a))return!0;const g=Object.prototype.toString.call(a);return g.slice(0,7)==="[object"&&g.slice(-6)==="Array]"}function W(a){return a!==null&&Object.prototype.toString.call(a)==="[object Object]"}function V(a){return(typeof a=="number"||a instanceof Number)&&isFinite(+a)}function J(a,g){return V(a)?a:g}function at(a,g){return typeof a>"u"?g:a}const gt=(a,g)=>typeof a=="string"&&a.endsWith("%")?parseFloat(a)/100:+a/g,et=(a,g)=>typeof a=="string"&&a.endsWith("%")?parseFloat(a)/100*g:+a;function tt(a,g,m){if(a&&typeof a.call=="function")return a.apply(m,g)}function z(a,g,m,v){let w,k,A;if(F(a))if(k=a.length,v)for(w=k-1;w>=0;w--)g.call(m,a[w],w);else for(w=0;w<k;w++)g.call(m,a[w],w);else if(W(a))for(A=Object.keys(a),k=A.length,w=0;w<k;w++)g.call(m,a[A[w]],A[w])}function q(a,g){let m,v,w,k;if(!a||!g||a.length!==g.length)return!1;for(m=0,v=a.length;m<v;++m)if(w=a[m],k=g[m],w.datasetIndex!==k.datasetIndex||w.index!==k.index)return!1;return!0}function bt(a){if(F(a))return a.map(bt);if(W(a)){const g=Object.create(null),m=Object.keys(a),v=m.length;let w=0;for(;w<v;++w)g[m[w]]=bt(a[m[w]]);return g}return a}function Z(a){return["__proto__","prototype","constructor"].indexOf(a)===-1}function ht(a,g,m,v){if(!Z(a))return;const w=g[a],k=m[a];W(w)&&W(k)?I(w,k,v):g[a]=bt(k)}function I(a,g,m){const v=F(g)?g:[g],w=v.length;if(!W(a))return a;m=m||{};const k=m.merger||ht;let A;for(let N=0;N<w;++N){if(A=v[N],!W(A))continue;const Q=Object.keys(A);for(let ct=0,wt=Q.length;ct<wt;++ct)k(Q[ct],a,A,m)}return a}function B(a,g){return I(a,g,{merger:ot})}function ot(a,g,m){if(!Z(a))return;const v=g[a],w=m[a];W(v)&&W(w)?B(v,w):Object.prototype.hasOwnProperty.call(g,a)||(g[a]=bt(w))}function yt(a,g,m,v){g!==void 0&&console.warn(a+': "'+m+'" is deprecated. Please use "'+v+'" instead')}const At={"":a=>a,x:a=>a.x,y:a=>a.y};function Wt(a){const g=a.split("."),m=[];let v="";for(const w of g)v+=w,v.endsWith("\\")?v=v.slice(0,-1)+".":(m.push(v),v="");return m}function Ht(a){const g=Wt(a);return m=>{for(const v of g){if(v==="")break;m=m&&m[v]}return m}}function Zt(a,g){return(At[g]||(At[g]=Ht(g)))(a)}function te(a){return a.charAt(0).toUpperCase()+a.slice(1)}const oe=a=>typeof a<"u",se=a=>typeof a=="function",ne=(a,g)=>{if(a.size!==g.size)return!1;for(const m of a)if(!g.has(m))return!1;return!0};function Bt(a){return a.type==="mouseup"||a.type==="click"||a.type==="contextmenu"}const dt=Math.PI,Ut=2*dt,re=Ut+dt,Pt=Number.POSITIVE_INFINITY,G=dt/180,H=dt/2,U=dt/4,lt=dt*2/3,Ct=Math.log10,Ot=Math.sign;function St(a,g,m){return Math.abs(a-g)<m}function vt(a){const g=Math.round(a);a=St(a,g,a/1e3)?g:a;const m=Math.pow(10,Math.floor(Ct(a))),v=a/m;return(v<=1?1:v<=2?2:v<=5?5:10)*m}function Ft(a){const g=[],m=Math.sqrt(a);let v;for(v=1;v<m;v++)a%v===0&&(g.push(v),g.push(a/v));return m===(m|0)&&g.push(m),g.sort((w,k)=>w-k).pop(),g}function $t(a){return!isNaN(parseFloat(a))&&isFinite(a)}function Rt(a,g){const m=Math.round(a);return m-g<=a&&m+g>=a}function ie(a,g,m){let v,w,k;for(v=0,w=a.length;v<w;v++)k=a[v][m],isNaN(k)||(g.min=Math.min(g.min,k),g.max=Math.max(g.max,k))}function ue(a){return a*(dt/180)}function j(a){return a*(180/dt)}function K(a){if(!V(a))return;let g=1,m=0;for(;Math.round(a*g)/g!==a;)g*=10,m++;return m}function pt(a,g){const m=g.x-a.x,v=g.y-a.y,w=Math.sqrt(m*m+v*v);let k=Math.atan2(v,m);return k<-.5*dt&&(k+=Ut),{angle:k,distance:w}}function kt(a,g){return Math.sqrt(Math.pow(g.x-a.x,2)+Math.pow(g.y-a.y,2))}function Kt(a,g){return(a-g+re)%Ut-dt}function jt(a){return(a%Ut+Ut)%Ut}function Et(a,g,m,v){const w=jt(a),k=jt(g),A=jt(m),N=jt(k-w),Q=jt(A-w),ct=jt(w-k),wt=jt(w-A);return w===k||w===A||v&&k===A||N>Q&&ct<wt}function Vt(a,g,m){return Math.max(g,Math.min(m,a))}function mt(a){return Vt(a,-32768,32767)}function _t(a,g,m,v=1e-6){return a>=Math.min(g,m)-v&&a<=Math.max(g,m)+v}function Tt(a,g,m){m=m||(A=>a[A]<g);let v=a.length-1,w=0,k;for(;v-w>1;)k=w+v>>1,m(k)?w=k:v=k;return{lo:w,hi:v}}const Lt=(a,g,m,v)=>Tt(a,m,v?w=>{const k=a[w][g];return k<m||k===m&&a[w+1][g]===m}:w=>a[w][g]<m),de=(a,g,m)=>Tt(a,m,v=>a[v][g]>=m);function ce(a,g,m){let v=0,w=a.length;for(;v<w&&a[v]<g;)v++;for(;w>v&&a[w-1]>m;)w--;return v>0||w<a.length?a.slice(v,w):a}const Ce=["push","pop","shift","splice","unshift"];function Se(a,g){if(a._chartjs){a._chartjs.listeners.push(g);return}Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[g]}}),Ce.forEach(m=>{const v="_onData"+te(m),w=a[m];Object.defineProperty(a,m,{configurable:!0,enumerable:!1,value(...k){const A=w.apply(this,k);return a._chartjs.listeners.forEach(N=>{typeof N[v]=="function"&&N[v](...k)}),A}})})}function xe(a,g){const m=a._chartjs;if(!m)return;const v=m.listeners,w=v.indexOf(g);w!==-1&&v.splice(w,1),!(v.length>0)&&(Ce.forEach(k=>{delete a[k]}),delete a._chartjs)}function be(a){const g=new Set(a);return g.size===a.length?a:Array.from(g)}function we(a,g,m){return g+" "+a+"px "+m}const ke=function(){return typeof window>"u"?function(a){return a()}:window.requestAnimationFrame}();function Ae(a,g){let m=[],v=!1;return function(...w){m=w,v||(v=!0,ke.call(window,()=>{v=!1,a.apply(g,m)}))}}function Qe(a,g){let m;return function(...v){return g?(clearTimeout(m),m=setTimeout(a,g,v)):a.apply(this,v),g}}const Te=a=>a==="start"?"left":a==="end"?"right":"center",je=(a,g,m)=>a==="start"?g:a==="end"?m:(g+m)/2,xn=(a,g,m,v)=>a===(v?"left":"right")?m:a==="center"?(g+m)/2:g;function Hn(a,g,m){const v=g.length;let w=0,k=v;if(a._sorted){const{iScale:A,_parsed:N}=a,Q=A.axis,{min:ct,max:wt,minDefined:Gt,maxDefined:Jt}=A.getUserBounds();Gt&&(w=Vt(Math.min(Lt(N,Q,ct).lo,m?v:Lt(g,Q,A.getPixelForValue(ct)).lo),0,v-1)),Jt?k=Vt(Math.max(Lt(N,A.axis,wt,!0).hi+1,m?0:Lt(g,Q,A.getPixelForValue(wt),!0).hi+1),w,v)-w:k=v-w}return{start:w,count:k}}function hi(a){const{xScale:g,yScale:m,_scaleRanges:v}=a,w={xmin:g.min,xmax:g.max,ymin:m.min,ymax:m.max};if(!v)return a._scaleRanges=w,!0;const k=v.xmin!==g.min||v.xmax!==g.max||v.ymin!==m.min||v.ymax!==m.max;return Object.assign(v,w),k}const un=a=>a===0||a===1,Un=(a,g,m)=>-(Math.pow(2,10*(a-=1))*Math.sin((a-g)*Ut/m)),di=(a,g,m)=>Math.pow(2,-10*a)*Math.sin((a-g)*Ut/m)+1,wn={linear:a=>a,easeInQuad:a=>a*a,easeOutQuad:a=>-a*(a-2),easeInOutQuad:a=>(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1),easeInCubic:a=>a*a*a,easeOutCubic:a=>(a-=1)*a*a+1,easeInOutCubic:a=>(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2),easeInQuart:a=>a*a*a*a,easeOutQuart:a=>-((a-=1)*a*a*a-1),easeInOutQuart:a=>(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2),easeInQuint:a=>a*a*a*a*a,easeOutQuint:a=>(a-=1)*a*a*a*a+1,easeInOutQuint:a=>(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2),easeInSine:a=>-Math.cos(a*H)+1,easeOutSine:a=>Math.sin(a*H),easeInOutSine:a=>-.5*(Math.cos(dt*a)-1),easeInExpo:a=>a===0?0:Math.pow(2,10*(a-1)),easeOutExpo:a=>a===1?1:-Math.pow(2,-10*a)+1,easeInOutExpo:a=>un(a)?a:a<.5?.5*Math.pow(2,10*(a*2-1)):.5*(-Math.pow(2,-10*(a*2-1))+2),easeInCirc:a=>a>=1?a:-(Math.sqrt(1-a*a)-1),easeOutCirc:a=>Math.sqrt(1-(a-=1)*a),easeInOutCirc:a=>(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1),easeInElastic:a=>un(a)?a:Un(a,.075,.3),easeOutElastic:a=>un(a)?a:di(a,.075,.3),easeInOutElastic(a){return un(a)?a:a<.5?.5*Un(a*2,.1125,.45):.5+.5*di(a*2-1,.1125,.45)},easeInBack(a){return a*a*((1.70158+1)*a-1.70158)},easeOutBack(a){return(a-=1)*a*((1.70158+1)*a+1.70158)+1},easeInOutBack(a){let g=1.70158;return(a/=.5)<1?.5*(a*a*(((g*=1.525)+1)*a-g)):.5*((a-=2)*a*(((g*=1.525)+1)*a+g)+2)},easeInBounce:a=>1-wn.easeOutBounce(1-a),easeOutBounce(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInOutBounce:a=>a<.5?wn.easeInBounce(a*2)*.5:wn.easeOutBounce(a*2-1)*.5+.5};function Pn(a){if(a&&typeof a=="object"){const g=a.toString();return g==="[object CanvasPattern]"||g==="[object CanvasGradient]"}return!1}function hn(a){return Pn(a)?a:new c.Il(a)}function Ve(a){return Pn(a)?a:new c.Il(a).saturate(.5).darken(.1).hexString()}const Cn=["x","y","borderWidth","radius","tension"],Pe=["color","borderColor","backgroundColor"];function fi(a){a.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),a.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:g=>g!=="onProgress"&&g!=="onComplete"&&g!=="fn"}),a.set("animations",{colors:{type:"color",properties:Pe},numbers:{type:"number",properties:Cn}}),a.describe("animations",{_fallback:"animation"}),a.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:g=>g|0}}}})}function Ri(a){a.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const en=new Map;function Li(a,g){g=g||{};const m=a+JSON.stringify(g);let v=en.get(m);return v||(v=new Intl.NumberFormat(a,g),en.set(m,v)),v}function Sn(a,g,m){return Li(g,m).format(a)}const dn={values(a){return F(a)?a:""+a},numeric(a,g,m){if(a===0)return"0";const v=this.chart.options.locale;let w,k=a;if(m.length>1){const ct=Math.max(Math.abs(m[0].value),Math.abs(m[m.length-1].value));(ct<1e-4||ct>1e15)&&(w="scientific"),k=gi(a,m)}const A=Ct(Math.abs(k)),N=isNaN(A)?1:Math.max(Math.min(-1*Math.floor(A),20),0),Q={notation:w,minimumFractionDigits:N,maximumFractionDigits:N};return Object.assign(Q,this.options.ticks.format),Sn(a,v,Q)},logarithmic(a,g,m){if(a===0)return"0";const v=m[g].significand||a/Math.pow(10,Math.floor(Ct(a)));return[1,2,3,5,10,15].includes(v)||g>.8*m.length?dn.numeric.call(this,a,g,m):""}};function gi(a,g){let m=g.length>3?g[2].value-g[1].value:g[1].value-g[0].value;return Math.abs(m)>=1&&a!==Math.floor(a)&&(m=a-Math.floor(a)),m}var Kn={formatters:dn};function Ii(a){a.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(g,m)=>m.lineWidth,tickColor:(g,m)=>m.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Kn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),a.route("scale.ticks","color","","color"),a.route("scale.grid","color","","borderColor"),a.route("scale.border","color","","borderColor"),a.route("scale.title","color","","color"),a.describe("scale",{_fallback:!1,_scriptable:g=>!g.startsWith("before")&&!g.startsWith("after")&&g!=="callback"&&g!=="parser",_indexable:g=>g!=="borderDash"&&g!=="tickBorderDash"&&g!=="dash"}),a.describe("scales",{_fallback:"scale"}),a.describe("scale.ticks",{_scriptable:g=>g!=="backdropPadding"&&g!=="callback",_indexable:g=>g!=="backdropPadding"})}const pi=Object.create(null),nn=Object.create(null);function fn(a,g){if(!g)return a;const m=g.split(".");for(let v=0,w=m.length;v<w;++v){const k=m[v];a=a[k]||(a[k]=Object.create(null))}return a}function Yn(a,g,m){return typeof g=="string"?I(fn(a,g),m):I(fn(a,""),g)}class gn{constructor(g,m){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=v=>v.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(v,w)=>Ve(w.backgroundColor),this.hoverBorderColor=(v,w)=>Ve(w.borderColor),this.hoverColor=(v,w)=>Ve(w.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(g),this.apply(m)}set(g,m){return Yn(this,g,m)}get(g){return fn(this,g)}describe(g,m){return Yn(nn,g,m)}override(g,m){return Yn(pi,g,m)}route(g,m,v,w){const k=fn(this,g),A=fn(this,v),N="_"+m;Object.defineProperties(k,{[N]:{value:k[m],writable:!0},[m]:{enumerable:!0,get(){const Q=this[N],ct=A[w];return W(Q)?Object.assign({},ct,Q):at(Q,ct)},set(Q){this[N]=Q}}})}apply(g){g.forEach(m=>m(this))}}var Xn=new gn({_scriptable:a=>!a.startsWith("on"),_indexable:a=>a!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[fi,Ri,Ii]);function Zn(a){return!a||T(a.size)||T(a.family)?null:(a.style?a.style+" ":"")+(a.weight?a.weight+" ":"")+a.size+"px "+a.family}function He(a,g,m,v,w){let k=g[w];return k||(k=g[w]=a.measureText(w).width,m.push(w)),k>v&&(v=k),v}function Mn(a,g,m,v){v=v||{};let w=v.data=v.data||{},k=v.garbageCollect=v.garbageCollect||[];v.font!==g&&(w=v.data={},k=v.garbageCollect=[],v.font=g),a.save(),a.font=g;let A=0;const N=m.length;let Q,ct,wt,Gt,Jt;for(Q=0;Q<N;Q++)if(Gt=m[Q],Gt!=null&&!F(Gt))A=He(a,w,k,A,Gt);else if(F(Gt))for(ct=0,wt=Gt.length;ct<wt;ct++)Jt=Gt[ct],Jt!=null&&!F(Jt)&&(A=He(a,w,k,A,Jt));a.restore();const fe=k.length/2;if(fe>m.length){for(Q=0;Q<fe;Q++)delete w[k[Q]];k.splice(0,fe)}return A}function Fi(a,g,m){const v=a.currentDevicePixelRatio,w=m!==0?Math.max(m/2,.5):0;return Math.round((g-w)*v)/v+w}function $n(a,g){!g&&!a||(g=g||a.getContext("2d"),g.save(),g.resetTransform(),g.clearRect(0,0,a.width,a.height),g.restore())}function Ni(a,g,m,v){mi(a,g,m,v,null)}function mi(a,g,m,v,w){let k,A,N,Q,ct,wt,Gt,Jt;const fe=g.pointStyle,ye=g.rotation,ee=g.radius;let Xt=(ye||0)*G;if(fe&&typeof fe=="object"&&(k=fe.toString(),k==="[object HTMLImageElement]"||k==="[object HTMLCanvasElement]")){a.save(),a.translate(m,v),a.rotate(Xt),a.drawImage(fe,-fe.width/2,-fe.height/2,fe.width,fe.height),a.restore();return}if(!(isNaN(ee)||ee<=0)){switch(a.beginPath(),fe){default:w?a.ellipse(m,v,w/2,ee,0,0,Ut):a.arc(m,v,ee,0,Ut),a.closePath();break;case"triangle":wt=w?w/2:ee,a.moveTo(m+Math.sin(Xt)*wt,v-Math.cos(Xt)*ee),Xt+=lt,a.lineTo(m+Math.sin(Xt)*wt,v-Math.cos(Xt)*ee),Xt+=lt,a.lineTo(m+Math.sin(Xt)*wt,v-Math.cos(Xt)*ee),a.closePath();break;case"rectRounded":ct=ee*.516,Q=ee-ct,A=Math.cos(Xt+U)*Q,Gt=Math.cos(Xt+U)*(w?w/2-ct:Q),N=Math.sin(Xt+U)*Q,Jt=Math.sin(Xt+U)*(w?w/2-ct:Q),a.arc(m-Gt,v-N,ct,Xt-dt,Xt-H),a.arc(m+Jt,v-A,ct,Xt-H,Xt),a.arc(m+Gt,v+N,ct,Xt,Xt+H),a.arc(m-Jt,v+A,ct,Xt+H,Xt+dt),a.closePath();break;case"rect":if(!ye){Q=Math.SQRT1_2*ee,wt=w?w/2:Q,a.rect(m-wt,v-Q,2*wt,2*Q);break}Xt+=U;case"rectRot":Gt=Math.cos(Xt)*(w?w/2:ee),A=Math.cos(Xt)*ee,N=Math.sin(Xt)*ee,Jt=Math.sin(Xt)*(w?w/2:ee),a.moveTo(m-Gt,v-N),a.lineTo(m+Jt,v-A),a.lineTo(m+Gt,v+N),a.lineTo(m-Jt,v+A),a.closePath();break;case"crossRot":Xt+=U;case"cross":Gt=Math.cos(Xt)*(w?w/2:ee),A=Math.cos(Xt)*ee,N=Math.sin(Xt)*ee,Jt=Math.sin(Xt)*(w?w/2:ee),a.moveTo(m-Gt,v-N),a.lineTo(m+Gt,v+N),a.moveTo(m+Jt,v-A),a.lineTo(m-Jt,v+A);break;case"star":Gt=Math.cos(Xt)*(w?w/2:ee),A=Math.cos(Xt)*ee,N=Math.sin(Xt)*ee,Jt=Math.sin(Xt)*(w?w/2:ee),a.moveTo(m-Gt,v-N),a.lineTo(m+Gt,v+N),a.moveTo(m+Jt,v-A),a.lineTo(m-Jt,v+A),Xt+=U,Gt=Math.cos(Xt)*(w?w/2:ee),A=Math.cos(Xt)*ee,N=Math.sin(Xt)*ee,Jt=Math.sin(Xt)*(w?w/2:ee),a.moveTo(m-Gt,v-N),a.lineTo(m+Gt,v+N),a.moveTo(m+Jt,v-A),a.lineTo(m-Jt,v+A);break;case"line":A=w?w/2:Math.cos(Xt)*ee,N=Math.sin(Xt)*ee,a.moveTo(m-A,v-N),a.lineTo(m+A,v+N);break;case"dash":a.moveTo(m,v),a.lineTo(m+Math.cos(Xt)*(w?w/2:ee),v+Math.sin(Xt)*ee);break;case!1:a.closePath();break}a.fill(),g.borderWidth>0&&a.stroke()}}function Gn(a,g,m){return m=m||.5,!g||a&&a.x>g.left-m&&a.x<g.right+m&&a.y>g.top-m&&a.y<g.bottom+m}function Fe(a,g){a.save(),a.beginPath(),a.rect(g.left,g.top,g.right-g.left,g.bottom-g.top),a.clip()}function pn(a){a.restore()}function Bi(a,g,m,v,w){if(!g)return a.lineTo(m.x,m.y);if(w==="middle"){const k=(g.x+m.x)/2;a.lineTo(k,g.y),a.lineTo(k,m.y)}else w==="after"!=!!v?a.lineTo(g.x,m.y):a.lineTo(m.x,g.y);a.lineTo(m.x,m.y)}function Qn(a,g,m,v){if(!g)return a.lineTo(m.x,m.y);a.bezierCurveTo(v?g.cp1x:g.cp2x,v?g.cp1y:g.cp2y,v?m.cp2x:m.cp1x,v?m.cp2y:m.cp1y,m.x,m.y)}function Jn(a,g){g.translation&&a.translate(g.translation[0],g.translation[1]),T(g.rotation)||a.rotate(g.rotation),g.color&&(a.fillStyle=g.color),g.textAlign&&(a.textAlign=g.textAlign),g.textBaseline&&(a.textBaseline=g.textBaseline)}function bi(a,g,m,v,w){if(w.strikethrough||w.underline){const k=a.measureText(v),A=g-k.actualBoundingBoxLeft,N=g+k.actualBoundingBoxRight,Q=m-k.actualBoundingBoxAscent,ct=m+k.actualBoundingBoxDescent,wt=w.strikethrough?(Q+ct)/2:ct;a.strokeStyle=a.fillStyle,a.beginPath(),a.lineWidth=w.decorationWidth||2,a.moveTo(A,wt),a.lineTo(N,wt),a.stroke()}}function Ue(a,g){const m=a.fillStyle;a.fillStyle=g.color,a.fillRect(g.left,g.top,g.width,g.height),a.fillStyle=m}function Wi(a,g,m,v,w,k={}){const A=F(g)?g:[g],N=k.strokeWidth>0&&k.strokeColor!=="";let Q,ct;for(a.save(),a.font=w.string,Jn(a,k),Q=0;Q<A.length;++Q)ct=A[Q],k.backdrop&&Ue(a,k.backdrop),N&&(k.strokeColor&&(a.strokeStyle=k.strokeColor),T(k.strokeWidth)||(a.lineWidth=k.strokeWidth),a.strokeText(ct,m,v,k.maxWidth)),a.fillText(ct,m,v,k.maxWidth),bi(a,m,v,ct,k),v+=Number(w.lineHeight);a.restore()}function yi(a,g){const{x:m,y:v,w,h:k,radius:A}=g;a.arc(m+A.topLeft,v+A.topLeft,A.topLeft,1.5*dt,dt,!0),a.lineTo(m,v+k-A.bottomLeft),a.arc(m+A.bottomLeft,v+k-A.bottomLeft,A.bottomLeft,dt,H,!0),a.lineTo(m+w-A.bottomRight,v+k),a.arc(m+w-A.bottomRight,v+k-A.bottomRight,A.bottomRight,H,0,!0),a.lineTo(m+w,v+A.topRight),a.arc(m+w-A.topRight,v+A.topRight,A.topRight,0,-H,!0),a.lineTo(m+A.topLeft,v)}const En=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,qn=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ti(a,g){const m=(""+a).match(En);if(!m||m[1]==="normal")return g*1.2;switch(a=+m[2],m[3]){case"px":return a;case"%":a/=100;break}return g*a}const mn=a=>+a||0;function On(a,g){const m={},v=W(g),w=v?Object.keys(g):g,k=W(a)?v?A=>at(a[A],a[g[A]]):A=>a[A]:()=>a;for(const A of w)m[A]=mn(k(A));return m}function sn(a){return On(a,{top:"y",right:"x",bottom:"y",left:"x"})}function vi(a){return On(a,["topLeft","topRight","bottomLeft","bottomRight"])}function _i(a){const g=sn(a);return g.width=g.left+g.right,g.height=g.top+g.bottom,g}function zi(a,g){a=a||{},g=g||Xn.font;let m=at(a.size,g.size);typeof m=="string"&&(m=parseInt(m,10));let v=at(a.style,g.style);v&&!(""+v).match(qn)&&(console.warn('Invalid font style specified: "'+v+'"'),v=void 0);const w={family:at(a.family,g.family),lineHeight:ti(at(a.lineHeight,g.lineHeight),m),size:m,style:v,weight:at(a.weight,g.weight),string:""};return w.string=Zn(w),w}function ji(a,g,m,v){let w=!0,k,A,N;for(k=0,A=a.length;k<A;++k)if(N=a[k],N!==void 0&&(g!==void 0&&typeof N=="function"&&(N=N(g),w=!1),m!==void 0&&F(N)&&(N=N[m%N.length],w=!1),N!==void 0))return v&&!w&&(v.cacheable=!1),N}function ei(a,g,m){const{min:v,max:w}=a,k=et(g,(w-v)/2),A=(N,Q)=>m&&N===0?0:N+Q;return{min:A(v,-Math.abs(k)),max:A(w,k)}}function Ke(a,g){return Object.assign(Object.create(a),g)}function rn(a,g=[""],m,v,w=()=>a[0]){const k=m||a;typeof v>"u"&&(v=Je("_fallback",a));const A={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:a,_rootScopes:k,_fallback:v,_getTarget:w,override:N=>rn([N,...a],g,k,v)};return new Proxy(A,{deleteProperty(N,Q){return delete N[Q],delete N._keys,delete a[0][Q],!0},get(N,Q){return Re(N,Q,()=>An(Q,g,a,N))},getOwnPropertyDescriptor(N,Q){return Reflect.getOwnPropertyDescriptor(N._scopes[0],Q)},getPrototypeOf(){return Reflect.getPrototypeOf(a[0])},has(N,Q){return ii(N).includes(Q)},ownKeys(N){return ii(N)},set(N,Q,ct){const wt=N._storage||(N._storage=w());return N[Q]=wt[Q]=ct,delete N._keys,!0}})}function bn(a,g,m,v){const w={_cacheable:!1,_proxy:a,_context:g,_subProxy:m,_stack:new Set,_descriptors:xi(a,v),setContext:k=>bn(a,k,m,v),override:k=>bn(a.override(k),g,m,v)};return new Proxy(w,{deleteProperty(k,A){return delete k[A],delete a[A],!0},get(k,A,N){return Re(k,A,()=>wi(k,A,N))},getOwnPropertyDescriptor(k,A){return k._descriptors.allKeys?Reflect.has(a,A)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(a,A)},getPrototypeOf(){return Reflect.getPrototypeOf(a)},has(k,A){return Reflect.has(a,A)},ownKeys(){return Reflect.ownKeys(a)},set(k,A,N){return a[A]=N,delete k[A],!0}})}function xi(a,g={scriptable:!0,indexable:!0}){const{_scriptable:m=g.scriptable,_indexable:v=g.indexable,_allKeys:w=g.allKeys}=a;return{allKeys:w,scriptable:m,indexable:v,isScriptable:se(m)?m:()=>m,isIndexable:se(v)?v:()=>v}}const Vi=(a,g)=>a?a+te(g):g,kn=(a,g)=>W(g)&&a!=="adapters"&&(Object.getPrototypeOf(g)===null||g.constructor===Object);function Re(a,g,m){if(Object.prototype.hasOwnProperty.call(a,g)||g==="constructor")return a[g];const v=m();return a[g]=v,v}function wi(a,g,m){const{_proxy:v,_context:w,_subProxy:k,_descriptors:A}=a;let N=v[g];return se(N)&&A.isScriptable(g)&&(N=Pi(g,N,a,m)),F(N)&&N.length&&(N=Ci(g,N,a,A.isIndexable)),kn(g,N)&&(N=bn(N,w,k&&k[g],A)),N}function Pi(a,g,m,v){const{_proxy:w,_context:k,_subProxy:A,_stack:N}=m;if(N.has(a))throw new Error("Recursion detected: "+Array.from(N).join("->")+"->"+a);N.add(a);let Q=g(k,A||v);return N.delete(a),kn(a,Q)&&(Q=ni(w._scopes,w,a,Q)),Q}function Ci(a,g,m,v){const{_proxy:w,_context:k,_subProxy:A,_descriptors:N}=m;if(typeof k.index<"u"&&v(a))return g[k.index%g.length];if(W(g[0])){const Q=g,ct=w._scopes.filter(wt=>wt!==Q);g=[];for(const wt of Q){const Gt=ni(ct,w,a,wt);g.push(bn(Gt,k,A&&A[a],N))}}return g}function Tn(a,g,m){return se(a)?a(g,m):a}const Hi=(a,g)=>a===!0?g:typeof a=="string"?Zt(g,a):void 0;function Dn(a,g,m,v,w){for(const k of g){const A=Hi(m,k);if(A){a.add(A);const N=Tn(A._fallback,m,w);if(typeof N<"u"&&N!==m&&N!==v)return N}else if(A===!1&&typeof v<"u"&&m!==v)return null}return!1}function ni(a,g,m,v){const w=g._rootScopes,k=Tn(g._fallback,m,v),A=[...a,...w],N=new Set;N.add(v);let Q=on(N,A,m,k||m,v);return Q===null||typeof k<"u"&&k!==m&&(Q=on(N,A,k,Q,v),Q===null)?!1:rn(Array.from(N),[""],w,k,()=>Si(g,m,v))}function on(a,g,m,v,w){for(;m;)m=Dn(a,g,m,v,w);return m}function Si(a,g,m){const v=a._getTarget();g in v||(v[g]={});const w=v[g];return F(w)&&W(m)?m:w||{}}function An(a,g,m,v){let w;for(const k of g)if(w=Je(Vi(k,a),m),typeof w<"u")return kn(a,w)?ni(m,v,a,w):w}function Je(a,g){for(const m of g){if(!m)continue;const v=m[a];if(typeof v<"u")return v}}function ii(a){let g=a._keys;return g||(g=a._keys=Ui(a._scopes)),g}function Ui(a){const g=new Set;for(const m of a)for(const v of Object.keys(m).filter(w=>!w.startsWith("_")))g.add(v);return Array.from(g)}function Ye(a,g,m,v){const{iScale:w}=a,{key:k="r"}=this._parsing,A=new Array(v);let N,Q,ct,wt;for(N=0,Q=v;N<Q;++N)ct=N+m,wt=g[ct],A[N]={r:w.parse(Zt(wt,k),ct)};return A}const Mi=Number.EPSILON||1e-14,qe=(a,g)=>g<a.length&&!a[g].skip&&a[g],si=a=>a==="x"?"y":"x";function Rn(a,g,m,v){const w=a.skip?g:a,k=g,A=m.skip?g:m,N=kt(k,w),Q=kt(A,k);let ct=N/(N+Q),wt=Q/(N+Q);ct=isNaN(ct)?0:ct,wt=isNaN(wt)?0:wt;const Gt=v*ct,Jt=v*wt;return{previous:{x:k.x-Gt*(A.x-w.x),y:k.y-Gt*(A.y-w.y)},next:{x:k.x+Jt*(A.x-w.x),y:k.y+Jt*(A.y-w.y)}}}function Ln(a,g,m){const v=a.length;let w,k,A,N,Q,ct=qe(a,0);for(let wt=0;wt<v-1;++wt)if(Q=ct,ct=qe(a,wt+1),!(!Q||!ct)){if(St(g[wt],0,Mi)){m[wt]=m[wt+1]=0;continue}w=m[wt]/g[wt],k=m[wt+1]/g[wt],N=Math.pow(w,2)+Math.pow(k,2),!(N<=9)&&(A=3/Math.sqrt(N),m[wt]=w*A*g[wt],m[wt+1]=k*A*g[wt])}}function In(a,g,m="x"){const v=si(m),w=a.length;let k,A,N,Q=qe(a,0);for(let ct=0;ct<w;++ct){if(A=N,N=Q,Q=qe(a,ct+1),!N)continue;const wt=N[m],Gt=N[v];A&&(k=(wt-A[m])/3,N[`cp1${m}`]=wt-k,N[`cp1${v}`]=Gt-k*g[ct]),Q&&(k=(Q[m]-wt)/3,N[`cp2${m}`]=wt+k,N[`cp2${v}`]=Gt+k*g[ct])}}function yn(a,g="x"){const m=si(g),v=a.length,w=Array(v).fill(0),k=Array(v);let A,N,Q,ct=qe(a,0);for(A=0;A<v;++A)if(N=Q,Q=ct,ct=qe(a,A+1),!!Q){if(ct){const wt=ct[g]-Q[g];w[A]=wt!==0?(ct[m]-Q[m])/wt:0}k[A]=N?ct?Ot(w[A-1])!==Ot(w[A])?0:(w[A-1]+w[A])/2:w[A-1]:w[A]}Ln(a,w,k),In(a,k,g)}function Fn(a,g,m){return Math.max(Math.min(a,m),g)}function Ei(a,g){let m,v,w,k,A,N=Gn(a[0],g);for(m=0,v=a.length;m<v;++m)A=k,k=N,N=m<v-1&&Gn(a[m+1],g),k&&(w=a[m],A&&(w.cp1x=Fn(w.cp1x,g.left,g.right),w.cp1y=Fn(w.cp1y,g.top,g.bottom)),N&&(w.cp2x=Fn(w.cp2x,g.left,g.right),w.cp2y=Fn(w.cp2y,g.top,g.bottom)))}function Oi(a,g,m,v,w){let k,A,N,Q;if(g.spanGaps&&(a=a.filter(ct=>!ct.skip)),g.cubicInterpolationMode==="monotone")yn(a,w);else{let ct=v?a[a.length-1]:a[0];for(k=0,A=a.length;k<A;++k)N=a[k],Q=Rn(ct,N,a[Math.min(k+1,A-(v?0:1))%A],g.tension),N.cp1x=Q.previous.x,N.cp1y=Q.previous.y,N.cp2x=Q.next.x,N.cp2y=Q.next.y,ct=N}g.capBezierPoints&&Ei(a,m)}function ri(){return typeof window<"u"&&typeof document<"u"}function Nn(a){let g=a.parentNode;return g&&g.toString()==="[object ShadowRoot]"&&(g=g.host),g}function Bn(a,g,m){let v;return typeof a=="string"?(v=parseInt(a,10),a.indexOf("%")!==-1&&(v=v/100*g.parentNode[m])):v=a,v}const vn=a=>a.ownerDocument.defaultView.getComputedStyle(a,null);function ki(a,g){return vn(a).getPropertyValue(g)}const We=["top","right","bottom","left"];function Xe(a,g,m){const v={};m=m?"-"+m:"";for(let w=0;w<4;w++){const k=We[w];v[k]=parseFloat(a[g+"-"+k+m])||0}return v.width=v.left+v.right,v.height=v.top+v.bottom,v}const Ti=(a,g,m)=>(a>0||g>0)&&(!m||!m.shadowRoot);function Wn(a,g){const m=a.touches,v=m&&m.length?m[0]:a,{offsetX:w,offsetY:k}=v;let A=!1,N,Q;if(Ti(w,k,a.target))N=w,Q=k;else{const ct=g.getBoundingClientRect();N=v.clientX-ct.left,Q=v.clientY-ct.top,A=!0}return{x:N,y:Q,box:A}}function an(a,g){if("native"in a)return a;const{canvas:m,currentDevicePixelRatio:v}=g,w=vn(m),k=w.boxSizing==="border-box",A=Xe(w,"padding"),N=Xe(w,"border","width"),{x:Q,y:ct,box:wt}=Wn(a,m),Gt=A.left+(wt&&N.left),Jt=A.top+(wt&&N.top);let{width:fe,height:ye}=g;return k&&(fe-=A.width+N.width,ye-=A.height+N.height),{x:Math.round((Q-Gt)/fe*m.width/v),y:Math.round((ct-Jt)/ye*m.height/v)}}function Ki(a,g,m){let v,w;if(g===void 0||m===void 0){const k=a&&Nn(a);if(!k)g=a.clientWidth,m=a.clientHeight;else{const A=k.getBoundingClientRect(),N=vn(k),Q=Xe(N,"border","width"),ct=Xe(N,"padding");g=A.width-ct.width-Q.width,m=A.height-ct.height-Q.height,v=Bn(N.maxWidth,k,"clientWidth"),w=Bn(N.maxHeight,k,"clientHeight")}}return{width:g,height:m,maxWidth:v||Pt,maxHeight:w||Pt}}const zn=a=>Math.round(a*10)/10;function d(a,g,m,v){const w=vn(a),k=Xe(w,"margin"),A=Bn(w.maxWidth,a,"clientWidth")||Pt,N=Bn(w.maxHeight,a,"clientHeight")||Pt,Q=Ki(a,g,m);let{width:ct,height:wt}=Q;if(w.boxSizing==="content-box"){const Jt=Xe(w,"border","width"),fe=Xe(w,"padding");ct-=fe.width+Jt.width,wt-=fe.height+Jt.height}return ct=Math.max(0,ct-k.width),wt=Math.max(0,v?ct/v:wt-k.height),ct=zn(Math.min(ct,A,Q.maxWidth)),wt=zn(Math.min(wt,N,Q.maxHeight)),ct&&!wt&&(wt=zn(ct/2)),(g!==void 0||m!==void 0)&&v&&Q.height&&wt>Q.height&&(wt=Q.height,ct=zn(Math.floor(wt*v))),{width:ct,height:wt}}function h(a,g,m){const v=g||1,w=Math.floor(a.height*v),k=Math.floor(a.width*v);a.height=Math.floor(a.height),a.width=Math.floor(a.width);const A=a.canvas;return A.style&&(m||!A.style.height&&!A.style.width)&&(A.style.height=`${a.height}px`,A.style.width=`${a.width}px`),a.currentDevicePixelRatio!==v||A.height!==w||A.width!==k?(a.currentDevicePixelRatio=v,A.height=w,A.width=k,a.ctx.setTransform(v,0,0,v,0,0),!0):!1}const p=function(){let a=!1;try{const g={get passive(){return a=!0,!1}};ri()&&(window.addEventListener("test",null,g),window.removeEventListener("test",null,g))}catch{}return a}();function y(a,g){const m=ki(a,g),v=m&&m.match(/^(\d+)(\.\d+)?px$/);return v?+v[1]:void 0}function P(a,g,m,v){return{x:a.x+m*(g.x-a.x),y:a.y+m*(g.y-a.y)}}function M(a,g,m,v){return{x:a.x+m*(g.x-a.x),y:v==="middle"?m<.5?a.y:g.y:v==="after"?m<1?a.y:g.y:m>0?g.y:a.y}}function E(a,g,m,v){const w={x:a.cp2x,y:a.cp2y},k={x:g.cp1x,y:g.cp1y},A=P(a,w,m),N=P(w,k,m),Q=P(k,g,m),ct=P(A,N,m),wt=P(N,Q,m);return P(ct,wt,m)}const R=function(a,g){return{x(m){return a+a+g-m},setWidth(m){g=m},textAlign(m){return m==="center"?m:m==="right"?"left":"right"},xPlus(m,v){return m-v},leftForLtr(m,v){return m-v}}},$=function(){return{x(a){return a},setWidth(a){},textAlign(a){return a},xPlus(a,g){return a+g},leftForLtr(a,g){return a}}};function st(a,g,m){return a?R(g,m):$()}function Dt(a,g){let m,v;(g==="ltr"||g==="rtl")&&(m=a.canvas.style,v=[m.getPropertyValue("direction"),m.getPropertyPriority("direction")],m.setProperty("direction",g,"important"),a.prevTextDirection=v)}function Yt(a,g){g!==void 0&&(delete a.prevTextDirection,a.canvas.style.setProperty("direction",g[0],g[1]))}function Qt(a){return a==="angle"?{between:Et,compare:Kt,normalize:jt}:{between:_t,compare:(g,m)=>g-m,normalize:g=>g}}function ge({start:a,end:g,count:m,loop:v,style:w}){return{start:a%m,end:g%m,loop:v&&(g-a+1)%m===0,style:w}}function me(a,g,m){const{property:v,start:w,end:k}=m,{between:A,normalize:N}=Qt(v),Q=g.length;let{start:ct,end:wt,loop:Gt}=a,Jt,fe;if(Gt){for(ct+=Q,wt+=Q,Jt=0,fe=Q;Jt<fe&&A(N(g[ct%Q][v]),w,k);++Jt)ct--,wt--;ct%=Q,wt%=Q}return wt<ct&&(wt+=Q),{start:ct,end:wt,loop:Gt,style:a.style}}function Le(a,g,m){if(!m)return[a];const{property:v,start:w,end:k}=m,A=g.length,{compare:N,between:Q,normalize:ct}=Qt(v),{start:wt,end:Gt,loop:Jt,style:fe}=me(a,g,m),ye=[];let ee=!1,Xt=null,Ee,jn,ai;const os=()=>Q(w,ai,Ee)&&N(w,ai)!==0,as=()=>N(k,Ee)===0||Q(k,ai,Ee),Qi=()=>ee||os(),ls=()=>!ee||as();for(let Vn=wt,Ji=wt;Vn<=Gt;++Vn)jn=g[Vn%A],!jn.skip&&(Ee=ct(jn[v]),Ee!==ai&&(ee=Q(Ee,w,k),Xt===null&&Qi()&&(Xt=N(Ee,w)===0?Vn:Ji),Xt!==null&&ls()&&(ye.push(ge({start:Xt,end:Vn,loop:Jt,count:A,style:fe})),Xt=null),Ji=Vn,ai=Ee));return Xt!==null&&ye.push(ge({start:Xt,end:Gt,loop:Jt,count:A,style:fe})),ye}function Ze(a,g){const m=[],v=a.segments;for(let w=0;w<v.length;w++){const k=Le(v[w],a.points,g);k.length&&m.push(...k)}return m}function Ie(a,g,m,v){let w=0,k=g-1;if(m&&!v)for(;w<g&&!a[w].skip;)w++;for(;w<g&&a[w].skip;)w++;for(w%=g,m&&(k+=w);k>w&&a[k%g].skip;)k--;return k%=g,{start:w,end:k}}function Me(a,g,m,v){const w=a.length,k=[];let A=g,N=a[g],Q;for(Q=g+1;Q<=m;++Q){const ct=a[Q%w];ct.skip||ct.stop?N.skip||(v=!1,k.push({start:g%w,end:(Q-1)%w,loop:v}),g=A=ct.stop?Q:null):(A=Q,N.skip&&(g=Q)),N=ct}return A!==null&&k.push({start:g%w,end:A%w,loop:v}),k}function $e(a,g){const m=a.points,v=a.options.spanGaps,w=m.length;if(!w)return[];const k=!!a._loop,{start:A,end:N}=Ie(m,w,k,v);if(v===!0)return Ge(a,[{start:A,end:N,loop:k}],m,g);const Q=N<A?N+w:N,ct=!!a._fullLoop&&A===0&&N===w-1;return Ge(a,Me(m,A,Q,ct),m,g)}function Ge(a,g,m,v){return!v||!v.setContext||!m?g:oi(a,g,m,v)}function oi(a,g,m,v){const w=a._chart.getContext(),k=Gi(a.options),{_datasetIndex:A,options:{spanGaps:N}}=a,Q=m.length,ct=[];let wt=k,Gt=g[0].start,Jt=Gt;function fe(ye,ee,Xt,Ee){const jn=N?-1:1;if(ye!==ee){for(ye+=Q;m[ye%Q].skip;)ye-=jn;for(;m[ee%Q].skip;)ee+=jn;ye%Q!==ee%Q&&(ct.push({start:ye%Q,end:ee%Q,loop:Xt,style:Ee}),wt=Ee,Gt=ee%Q)}}for(const ye of g){Gt=N?Gt:ye.start;let ee=m[Gt%Q],Xt;for(Jt=Gt+1;Jt<=ye.end;Jt++){const Ee=m[Jt%Q];Xt=Gi(v.setContext(Ke(w,{type:"segment",p0:ee,p1:Ee,p0DataIndex:(Jt-1)%Q,p1DataIndex:Jt%Q,datasetIndex:A}))),rs(Xt,wt)&&fe(Gt,Jt-1,ye.loop,wt),ee=Ee,wt=Xt}Gt<Jt-1&&fe(Gt,Jt-1,ye.loop,wt)}return ct}function Gi(a){return{backgroundColor:a.backgroundColor,borderCapStyle:a.borderCapStyle,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderJoinStyle:a.borderJoinStyle,borderWidth:a.borderWidth,borderColor:a.borderColor}}function rs(a,g){if(!g)return!1;const m=[],v=function(w,k){return Pn(k)?(m.includes(k)||m.push(k),m.indexOf(k)):k};return JSON.stringify(a,v)!==JSON.stringify(g,v)}},7282:(ut,X,x)=>{"use strict";x.d(X,{Z:()=>Wn});var c=x(3148),S=x(6672);const D={modes:{point(d,h){return V(d,h,{intersect:!0})},nearest(d,h,p){return J(d,h,p)},x(d,h,p){return V(d,h,{intersect:p.intersect,axis:"x"})},y(d,h,p){return V(d,h,{intersect:p.intersect,axis:"y"})}}};function T(d,h,p){return(D.modes[p.mode]||D.modes.nearest)(d,h,p)}function F(d,h,p){return p!=="x"&&p!=="y"?d.inRange(h.x,h.y,"x",!0)||d.inRange(h.x,h.y,"y",!0):d.inRange(h.x,h.y,p,!0)}function W(d,h,p){return p==="x"?{x:d.x,y:h.y}:p==="y"?{x:h.x,y:d.y}:h}function V(d,h,p){return d.filter(y=>p.intersect?y.inRange(h.x,h.y):F(y,h,p.axis))}function J(d,h,p){let y=Number.POSITIVE_INFINITY;return V(d,h,p).reduce((P,M)=>{const E=M.getCenterPoint(),R=W(h,E,p.axis),$=(0,S.aE)(h,R);return $<y?(P=[M],y=$):$===y&&P.push(M),P},[]).sort((P,M)=>P._index-M._index).slice(0,1)}function at(d,h,p){const y=Math.cos(p),P=Math.sin(p),M=h.x,E=h.y;return{x:M+y*(d.x-M)-P*(d.y-E),y:E+P*(d.x-M)+y*(d.y-E)}}const gt=(d,h)=>h>d||d.length>h.length&&d.slice(0,h.length)===h,et=.001,tt=(d,h,p)=>Math.min(p,Math.max(h,d)),z=(d,h)=>d.value>=d.start-h&&d.value<=d.end+h;function q(d,h,p){for(const y of Object.keys(d))d[y]=tt(d[y],h,p);return d}function bt(d,h,p,y){return!d||!h||p<=0?!1:Math.pow(d.x-h.x,2)+Math.pow(d.y-h.y,2)<=Math.pow(p+y,2)}function Z(d,{x:h,y:p,x2:y,y2:P},M,{borderWidth:E,hitTolerance:R}){const $=(E+R)/2,st=d.x>=h-$-et&&d.x<=y+$+et,Dt=d.y>=p-$-et&&d.y<=P+$+et;return M==="x"?st:(M==="y"||st)&&Dt}function ht(d,{rect:h,center:p},y,{rotation:P,borderWidth:M,hitTolerance:E}){const R=at(d,p,(0,S.t)(-P));return Z(R,h,y,{borderWidth:M,hitTolerance:E})}function I(d,h){const{centerX:p,centerY:y}=d.getProps(["centerX","centerY"],h);return{x:p,y}}function B(d,h,p,y=!0){const P=p.split(".");let M=0;for(const E of h.split(".")){const R=P[M++];if(parseInt(E,10)<parseInt(R,10))break;if(gt(R,E)){if(y)throw new Error(`${d} v${p} is not supported. v${h} or newer is required.`);return!1}}return!0}const ot=d=>typeof d=="string"&&d.endsWith("%"),yt=d=>parseFloat(d)/100,At=d=>tt(yt(d),0,1),Wt=(d,h)=>({x:d,y:h,x2:d,y2:h,width:0,height:0}),Ht={box:d=>Wt(d.centerX,d.centerY),doughnutLabel:d=>Wt(d.centerX,d.centerY),ellipse:d=>({centerX:d.centerX,centerY:d.centerX,radius:0,width:0,height:0}),label:d=>Wt(d.centerX,d.centerY),line:d=>Wt(d.x,d.y),point:d=>({centerX:d.centerX,centerY:d.centerY,radius:0,width:0,height:0}),polygon:d=>Wt(d.centerX,d.centerY)};function Zt(d,h){return h==="start"?0:h==="end"?d:ot(h)?At(h)*d:d/2}function te(d,h,p=!0){return typeof h=="number"?h:ot(h)?(p?At(h):yt(h))*d:d}function oe(d,h){const{x:p,width:y}=d,P=h.textAlign;return P==="center"?p+y/2:P==="end"||P==="right"?p+y:p}function se(d,h,{borderWidth:p,position:y,xAdjust:P,yAdjust:M},E){const R=(0,S.i)(E),$=h.width+(R?E.width:0)+p,st=h.height+(R?E.height:0)+p,Dt=ne(y),Yt=re(d.x,$,P,Dt.x),Qt=re(d.y,st,M,Dt.y);return{x:Yt,y:Qt,x2:Yt+$,y2:Qt+st,width:$,height:st,centerX:Yt+$/2,centerY:Qt+st/2}}function ne(d,h="center"){return(0,S.i)(d)?{x:(0,S.v)(d.x,h),y:(0,S.v)(d.y,h)}:(d=(0,S.v)(d,h),{x:d,y:d})}const Bt=(d,h)=>d&&d.autoFit&&h<1;function dt(d,h){const p=d.font,y=(0,S.b)(p)?p:[p];return Bt(d,h)?y.map(function(P){const M=(0,S.a0)(P);return M.size=Math.floor(P.size*h),M.lineHeight=P.lineHeight,(0,S.a0)(M)}):y.map(P=>(0,S.a0)(P))}function Ut(d){return d&&((0,S.h)(d.xValue)||(0,S.h)(d.yValue))}function re(d,h,p=0,y){return d-Zt(h,y)+p}function Pt(d,h,p){const y=p.init;if(y){if(y===!0)return H(h,p)}else return;return U(d,h,p)}function G(d,h,p){let y=!1;return h.forEach(P=>{(0,S.a7)(d[P])?(y=!0,p[P]=d[P]):(0,S.h)(p[P])&&delete p[P]}),y}function H(d,h){const p=h.type||"line";return Ht[p](d)}function U(d,h,p){const y=(0,S.Q)(p.init,[{chart:d,properties:h,options:p}]);if(y===!0)return H(h,p);if((0,S.i)(y))return y}const lt=new Map,Ct=d=>isNaN(d)||d<=0,Ot=d=>d.reduce(function(h,p){return h+=p.string,h},"");function St(d){if(d&&typeof d=="object"){const h=d.toString();return h==="[object HTMLImageElement]"||h==="[object HTMLCanvasElement]"}}function vt(d,{x:h,y:p},y){y&&(d.translate(h,p),d.rotate((0,S.t)(y)),d.translate(-h,-p))}function Ft(d,h){if(h&&h.borderWidth)return d.lineCap=h.borderCapStyle||"butt",d.setLineDash(h.borderDash),d.lineDashOffset=h.borderDashOffset,d.lineJoin=h.borderJoinStyle||"miter",d.lineWidth=h.borderWidth,d.strokeStyle=h.borderColor,!0}function $t(d,h){d.shadowColor=h.backgroundShadowColor,d.shadowBlur=h.shadowBlur,d.shadowOffsetX=h.shadowOffsetX,d.shadowOffsetY=h.shadowOffsetY}function Rt(d,h){const p=h.content;if(St(p))return{width:te(p.width,h.width),height:te(p.height,h.height)};const y=dt(h),P=h.textStrokeWidth,M=(0,S.b)(p)?p:[p],E=M.join()+Ot(y)+P+(d._measureText?"-spriting":"");return lt.has(E)||lt.set(E,kt(d,M,y,P)),lt.get(E)}function ie(d,h,p){const{x:y,y:P,width:M,height:E}=h;d.save(),$t(d,p);const R=Ft(d,p);d.fillStyle=p.backgroundColor,d.beginPath(),(0,S.au)(d,{x:y,y:P,w:M,h:E,radius:q((0,S.aw)(p.borderRadius),0,Math.min(M,E)/2)}),d.closePath(),d.fill(),R&&(d.shadowColor=p.borderShadowColor,d.stroke()),d.restore()}function ue(d,h,p,y){const P=p.content;if(St(P)){d.save(),d.globalAlpha=Et(p.opacity,P.style.opacity),d.drawImage(P,h.x,h.y,h.width,h.height),d.restore();return}const M=(0,S.b)(P)?P:[P],E=dt(p,y),R=p.color,$=(0,S.b)(R)?R:[R],st=oe(h,p),Dt=h.y+p.textStrokeWidth/2;d.save(),d.textBaseline="middle",d.textAlign=p.textAlign,j(d,p)&&Kt(d,{x:st,y:Dt},M,E),jt(d,{x:st,y:Dt},M,{fonts:E,colors:$}),d.restore()}function j(d,h){if(h.textStrokeWidth>0)return d.lineJoin="round",d.miterLimit=2,d.lineWidth=h.textStrokeWidth,d.strokeStyle=h.textStrokeColor,!0}function K(d,h,p,y){const{radius:P,options:M}=h,E=M.pointStyle,R=M.rotation;let $=(R||0)*S.b3;if(St(E)){d.save(),d.translate(p,y),d.rotate($),d.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),d.restore();return}Ct(P)||pt(d,{x:p,y,radius:P,rotation:R,style:E,rad:$})}function pt(d,{x:h,y:p,radius:y,rotation:P,style:M,rad:E}){let R,$,st,Dt;switch(d.beginPath(),M){default:d.arc(h,p,y,0,S.T),d.closePath();break;case"triangle":d.moveTo(h+Math.sin(E)*y,p-Math.cos(E)*y),E+=S.b5,d.lineTo(h+Math.sin(E)*y,p-Math.cos(E)*y),E+=S.b5,d.lineTo(h+Math.sin(E)*y,p-Math.cos(E)*y),d.closePath();break;case"rectRounded":Dt=y*.516,st=y-Dt,R=Math.cos(E+S.b4)*st,$=Math.sin(E+S.b4)*st,d.arc(h-R,p-$,Dt,E-S.P,E-S.H),d.arc(h+$,p-R,Dt,E-S.H,E),d.arc(h+R,p+$,Dt,E,E+S.H),d.arc(h-$,p+R,Dt,E+S.H,E+S.P),d.closePath();break;case"rect":if(!P){st=Math.SQRT1_2*y,d.rect(h-st,p-st,2*st,2*st);break}E+=S.b4;case"rectRot":R=Math.cos(E)*y,$=Math.sin(E)*y,d.moveTo(h-R,p-$),d.lineTo(h+$,p-R),d.lineTo(h+R,p+$),d.lineTo(h-$,p+R),d.closePath();break;case"crossRot":E+=S.b4;case"cross":R=Math.cos(E)*y,$=Math.sin(E)*y,d.moveTo(h-R,p-$),d.lineTo(h+R,p+$),d.moveTo(h+$,p-R),d.lineTo(h-$,p+R);break;case"star":R=Math.cos(E)*y,$=Math.sin(E)*y,d.moveTo(h-R,p-$),d.lineTo(h+R,p+$),d.moveTo(h+$,p-R),d.lineTo(h-$,p+R),E+=S.b4,R=Math.cos(E)*y,$=Math.sin(E)*y,d.moveTo(h-R,p-$),d.lineTo(h+R,p+$),d.moveTo(h+$,p-R),d.lineTo(h-$,p+R);break;case"line":R=Math.cos(E)*y,$=Math.sin(E)*y,d.moveTo(h-R,p-$),d.lineTo(h+R,p+$);break;case"dash":d.moveTo(h,p),d.lineTo(h+Math.cos(E)*y,p+Math.sin(E)*y);break}d.fill()}function kt(d,h,p,y){d.save();const P=h.length;let M=0,E=y;for(let R=0;R<P;R++){const $=p[Math.min(R,p.length-1)];d.font=$.string;const st=h[R];M=Math.max(M,d.measureText(st).width+y),E+=$.lineHeight}return d.restore(),{width:M,height:E}}function Kt(d,{x:h,y:p},y,P){d.beginPath();let M=0;y.forEach(function(E,R){const $=P[Math.min(R,P.length-1)],st=$.lineHeight;d.font=$.string,d.strokeText(E,h,p+st/2+M),M+=st}),d.stroke()}function jt(d,{x:h,y:p},y,{fonts:P,colors:M}){let E=0;y.forEach(function(R,$){const st=M[Math.min($,M.length-1)],Dt=P[Math.min($,P.length-1)],Yt=Dt.lineHeight;d.beginPath(),d.font=Dt.string,d.fillStyle=st,d.fillText(R,h,p+Yt/2+E),E+=Yt,d.fill()})}function Et(d,h){const p=(0,S.x)(d)?d:h;return(0,S.x)(p)?tt(p,0,1):1}const Vt=["left","bottom","top","right"];function mt(d,h){const{pointX:p,pointY:y,options:P}=h,M=P.callout,E=M&&M.display&&ce(h,M);if(!E||Se(h,M,E))return;if(d.save(),d.beginPath(),!Ft(d,M))return d.restore();const{separatorStart:$,separatorEnd:st}=_t(h,E),{sideStart:Dt,sideEnd:Yt}=Lt(h,E,$);(M.margin>0||P.borderWidth===0)&&(d.moveTo($.x,$.y),d.lineTo(st.x,st.y)),d.moveTo(Dt.x,Dt.y),d.lineTo(Yt.x,Yt.y);const Qt=at({x:p,y},h.getCenterPoint(),(0,S.t)(-h.rotation));d.lineTo(Qt.x,Qt.y),d.stroke(),d.restore()}function _t(d,h){const{x:p,y,x2:P,y2:M}=d,E=Tt(d,h);let R,$;return h==="left"||h==="right"?(R={x:p+E,y},$={x:R.x,y:M}):(R={x:p,y:y+E},$={x:P,y:R.y}),{separatorStart:R,separatorEnd:$}}function Tt(d,h){const{width:p,height:y,options:P}=d,M=P.callout.margin+P.borderWidth/2;return h==="right"?p+M:h==="bottom"?y+M:-M}function Lt(d,h,p){const{y,width:P,height:M,options:E}=d,R=E.callout.start,$=de(h,E.callout);let st,Dt;return h==="left"||h==="right"?(st={x:p.x,y:y+te(M,R)},Dt={x:st.x+$,y:st.y}):(st={x:p.x+te(P,R),y:p.y},Dt={x:st.x,y:st.y+$}),{sideStart:st,sideEnd:Dt}}function de(d,h){const p=h.side;return d==="left"||d==="top"?-p:p}function ce(d,h){const p=h.position;return Vt.includes(p)?p:Ce(d,h)}function Ce(d,h){const{x:p,y,x2:P,y2:M,width:E,height:R,pointX:$,pointY:st,centerX:Dt,centerY:Yt,rotation:Qt}=d,ge={x:Dt,y:Yt},me=h.start,Le=te(E,me),Ze=te(R,me),Ie=[p,p+Le,p+Le,P],Me=[y+Ze,M,y,M],$e=[];for(let Ge=0;Ge<4;Ge++){const oi=at({x:Ie[Ge],y:Me[Ge]},ge,(0,S.t)(Qt));$e.push({position:Vt[Ge],distance:(0,S.aE)(oi,{x:$,y:st})})}return $e.sort((Ge,oi)=>Ge.distance-oi.distance)[0].position}function Se(d,h,p){const{pointX:y,pointY:P}=d,M=h.margin;let E=y,R=P;return p==="left"?E+=M:p==="right"?E-=M:p==="top"?R+=M:p==="bottom"&&(R-=M),d.inRange(E,R)}const xe={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function be(d,h,p){return h=typeof h=="number"?h:d.parse(h),(0,S.g)(h)?d.getPixelForValue(h):p}function we(d,h,p){const y=h[p];if(y||p==="scaleID")return y;const P=p.charAt(0),M=Object.values(d).filter(E=>E.axis&&E.axis===P);return M.length?M[0].id:P}function ke(d,h){if(d){const p=d.options.reverse,y=be(d,h.min,p?h.end:h.start),P=be(d,h.max,p?h.start:h.end);return{start:y,end:P}}}function Ae(d,h){const{chartArea:p,scales:y}=d,P=y[we(y,h,"xScaleID")],M=y[we(y,h,"yScaleID")];let E=p.width/2,R=p.height/2;return P&&(E=be(P,h.xValue,P.left+P.width/2)),M&&(R=be(M,h.yValue,M.top+M.height/2)),{x:E,y:R}}function Qe(d,h){const p=d.scales,y=p[we(p,h,"xScaleID")],P=p[we(p,h,"yScaleID")];if(!y&&!P)return{};let{left:M,right:E}=y||d.chartArea,{top:R,bottom:$}=P||d.chartArea;const st=hi(y,{min:h.xMin,max:h.xMax,start:M,end:E});M=st.start,E=st.end;const Dt=hi(P,{min:h.yMin,max:h.yMax,start:$,end:R});return R=Dt.start,$=Dt.end,{x:M,y:R,x2:E,y2:$,width:E-M,height:$-R,centerX:M+(E-M)/2,centerY:R+($-R)/2}}function Te(d,h){if(!Ut(h)){const p=Qe(d,h);let y=h.radius;(!y||isNaN(y))&&(y=Math.min(p.width,p.height)/2,h.radius=y);const P=y*2,M=p.centerX+h.xAdjust,E=p.centerY+h.yAdjust;return{x:M-y,y:E-y,x2:M+y,y2:E+y,centerX:M,centerY:E,width:P,height:P,radius:y}}return Hn(d,h)}function je(d,h){const{scales:p,chartArea:y}=d,P=p[h.scaleID],M={x:y.left,y:y.top,x2:y.right,y2:y.bottom};return P?un(P,M,h):Un(p,M,h),M}function xn(d,h){const p=Qe(d,h);return p.initProperties=Pt(d,p,h),p.elements=[{type:"label",optionScope:"label",properties:hn(d,p,h),initProperties:p.initProperties}],p}function Hn(d,h){const p=Ae(d,h),y=h.radius*2;return{x:p.x-h.radius+h.xAdjust,y:p.y-h.radius+h.yAdjust,x2:p.x+h.radius+h.xAdjust,y2:p.y+h.radius+h.yAdjust,centerX:p.x+h.xAdjust,centerY:p.y+h.yAdjust,radius:h.radius,width:y,height:y}}function hi(d,h){const p=ke(d,h)||h;return{start:Math.min(p.start,p.end),end:Math.max(p.start,p.end)}}function un(d,h,p){const y=be(d,p.value,NaN),P=be(d,p.endValue,y);d.isHorizontal()?(h.x=y,h.x2=P):(h.y=y,h.y2=P)}function Un(d,h,p){for(const y of Object.keys(xe)){const P=d[we(d,p,y)];if(P){const{min:M,max:E,start:R,end:$,startProp:st,endProp:Dt}=xe[y],Yt=ke(P,{min:p[M],max:p[E],start:P[R],end:P[$]});h[st]=Yt.start,h[Dt]=Yt.end}}}function di({properties:d,options:h},p,y,P){const{x:M,x2:E,width:R}=d;return Pn({start:M,end:E,size:R,borderWidth:h.borderWidth},{position:y.x,padding:{start:P.left,end:P.right},adjust:h.label.xAdjust,size:p.width})}function wn({properties:d,options:h},p,y,P){const{y:M,y2:E,height:R}=d;return Pn({start:M,end:E,size:R,borderWidth:h.borderWidth},{position:y.y,padding:{start:P.top,end:P.bottom},adjust:h.label.yAdjust,size:p.height})}function Pn(d,h){const{start:p,end:y,borderWidth:P}=d,{position:M,padding:{start:E,end:R},adjust:$}=h,st=y-P-p-E-R-h.size;return p+P/2+$+Zt(st,M)}function hn(d,h,p){const y=p.label;y.backgroundColor="transparent",y.callout.display=!1;const P=ne(y.position),M=(0,S.E)(y.padding),E=Rt(d.ctx,y),R=di({properties:h,options:p},E,P,M),$=wn({properties:h,options:p},E,P,M),st=E.width+M.width,Dt=E.height+M.height;return{x:R,y:$,x2:R+st,y2:$+Dt,width:st,height:Dt,centerX:R+st/2,centerY:$+Dt/2,rotation:y.rotation}}const Ve=["enter","leave"],Cn=Ve.concat("click");function Pe(d,h,p){h.listened=G(p,Cn,h.listeners),h.moveListened=!1,Ve.forEach(y=>{(0,S.a7)(p[y])&&(h.moveListened=!0)}),(!h.listened||!h.moveListened)&&h.annotations.forEach(y=>{!h.listened&&(0,S.a7)(y.click)&&(h.listened=!0),h.moveListened||Ve.forEach(P=>{(0,S.a7)(y[P])&&(h.listened=!0,h.moveListened=!0)})})}function fi(d,h,p){if(d.listened)switch(h.type){case"mousemove":case"mouseout":return Ri(d,h,p);case"click":return Li(d,h,p)}}function Ri(d,h,p){if(!d.moveListened)return;let y;h.type==="mousemove"?y=T(d.visibleElements,h,p.interaction):y=[];const P=d.hovered;d.hovered=y;const M={state:d,event:h};let E=en(M,"leave",P,y);return en(M,"enter",y,P)||E}function en({state:d,event:h},p,y,P){let M;for(const E of y)P.indexOf(E)<0&&(M=Sn(E.options[p]||d.listeners[p],E,h)||M);return M}function Li(d,h,p){const y=d.listeners,P=T(d.visibleElements,h,p.interaction);let M;for(const E of P)M=Sn(E.options.click||y.click,E,h)||M;return M}function Sn(d,h,p){return(0,S.Q)(d,[h.$context,p])===!0}const dn=["afterDraw","beforeDraw"];function gi(d,h,p){const y=h.visibleElements;h.hooked=G(p,dn,h.hooks),h.hooked||y.forEach(P=>{h.hooked||dn.forEach(M=>{(0,S.a7)(P.options[M])&&(h.hooked=!0)})})}function Kn(d,h,p){if(d.hooked){const y=h.options[p]||d.hooks[p];return(0,S.Q)(y,[h.$context])}}function Ii(d,h,p){const y=Xn(d.scales,h,p);let P=nn(h,y,"min","suggestedMin");P=nn(h,y,"max","suggestedMax")||P,P&&(0,S.a7)(h.handleTickRangeOptions)&&h.handleTickRangeOptions()}function pi(d,h){for(const p of d)Yn(p,h)}function nn(d,h,p,y){if((0,S.g)(h[p])&&!fn(d.options,p,y)){const P=d[p]!==h[p];return d[p]=h[p],P}}function fn(d,h,p){return(0,S.h)(d[h])||(0,S.h)(d[p])}function Yn(d,h){for(const p of["scaleID","xScaleID","yScaleID"]){const y=we(h,d,p);y&&!h[y]&&gn(d,p)&&console.warn(`No scale found with id '${y}' for annotation '${d.id}'`)}}function gn(d,h){if(h==="scaleID")return!0;const p=h.charAt(0);for(const y of["Min","Max","Value"])if((0,S.h)(d[p+y]))return!0;return!1}function Xn(d,h,p){const y=h.axis,P=h.id,M=y+"ScaleID",E={min:(0,S.v)(h.min,Number.NEGATIVE_INFINITY),max:(0,S.v)(h.max,Number.POSITIVE_INFINITY)};for(const R of p)R.scaleID===P?Zn(R,h,["value","endValue"],E):we(d,R,M)===P&&Zn(R,h,[y+"Min",y+"Max",y+"Value"],E);return E}function Zn(d,h,p,y){for(const P of p){const M=d[P];if((0,S.h)(M)){const E=h.parse(M);y.min=Math.min(y.min,E),y.max=Math.max(y.max,E)}}}class He extends c.W_{inRange(h,p,y,P){const{x:M,y:E}=at({x:h,y:p},this.getCenterPoint(P),(0,S.t)(-this.options.rotation));return Z({x:M,y:E},this.getProps(["x","y","x2","y2"],P),y,this.options)}getCenterPoint(h){return I(this,h)}draw(h){h.save(),vt(h,this.getCenterPoint(),this.options.rotation),ie(h,this,this.options),h.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(h,p){return xn(h,p)}}He.id="boxAnnotation",He.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},He.defaultRoutes={borderColor:"color",backgroundColor:"color"},He.descriptors={label:{_fallback:!0}};class Mn extends c.W_{inRange(h,p,y,P){return ht({x:h,y:p},{rect:this.getProps(["x","y","x2","y2"],P),center:this.getCenterPoint(P)},y,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(h){return I(this,h)}draw(h){const p=this.options;!p.display||!p.content||(Fe(h,this),h.save(),vt(h,this.getCenterPoint(),this.rotation),ue(h,this,p,this._fitRatio),h.restore())}resolveElementProperties(h,p){const y=Fi(h,p);if(!y)return{};const{controllerMeta:P,point:M,radius:E}=Ni(h,p,y);let R=Rt(h.ctx,p);const $=mi(R,E);Bt(p,$)&&(R={width:R.width*$,height:R.height*$});const{position:st,xAdjust:Dt,yAdjust:Yt}=p,Qt=se(M,R,{borderWidth:0,position:st,xAdjust:Dt,yAdjust:Yt});return{initProperties:Pt(h,Qt,p),...Qt,...P,rotation:p.rotation,_fitRatio:$}}}Mn.id="doughnutLabelAnnotation",Mn.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0},Mn.defaultRoutes={};function Fi(d,h){return d.getSortedVisibleDatasetMetas().reduce(function(p,y){const P=y.controller;return P instanceof c.jI&&$n(d,h,y.data)&&(!p||P.innerRadius<p.controller.innerRadius)&&P.options.circumference>=90?y:p},void 0)}function $n(d,h,p){if(!h.autoHide)return!0;for(let y=0;y<p.length;y++)if(!p[y].hidden&&d.getDataVisibility(y))return!0}function Ni({chartArea:d},h,p){const{left:y,top:P,right:M,bottom:E}=d,{innerRadius:R,offsetX:$,offsetY:st}=p.controller,Dt=(y+M)/2+$,Yt=(P+E)/2+st,Qt={left:Math.max(Dt-R,y),right:Math.min(Dt+R,M),top:Math.max(Yt-R,P),bottom:Math.min(Yt+R,E)},ge={x:(Qt.left+Qt.right)/2,y:(Qt.top+Qt.bottom)/2},me=h.spacing+h.borderWidth/2,Le=R-me,Ze=ge.y>Yt,Ie=Ze?P+me:E-me,Me=Gn(Ie,Dt,Yt,Le);return{controllerMeta:{_centerX:Dt,_centerY:Yt,_radius:Le,_counterclockwise:Ze,...Me},point:ge,radius:Math.min(R,Math.min(Qt.right-Qt.left,Qt.bottom-Qt.top)/2)}}function mi({width:d,height:h},p){const y=Math.sqrt(Math.pow(d,2)+Math.pow(h,2));return p*2/y}function Gn(d,h,p,y){const P=Math.pow(p-d,2),M=Math.pow(y,2),E=h*-2,R=Math.pow(h,2)+P-M,$=Math.pow(E,2)-4*R;if($<=0)return{_startAngle:0,_endAngle:S.T};const st=(-E-Math.sqrt($))/2,Dt=(-E+Math.sqrt($))/2;return{_startAngle:(0,S.D)({x:h,y:p},{x:st,y:d}).angle,_endAngle:(0,S.D)({x:h,y:p},{x:Dt,y:d}).angle}}function Fe(d,h){const{_centerX:p,_centerY:y,_radius:P,_startAngle:M,_endAngle:E,_counterclockwise:R,options:$}=h;d.save();const st=Ft(d,$);d.fillStyle=$.backgroundColor,d.beginPath(),d.arc(p,y,P,M,E,R),d.closePath(),d.fill(),st&&d.stroke(),d.restore()}class pn extends c.W_{inRange(h,p,y,P){return ht({x:h,y:p},{rect:this.getProps(["x","y","x2","y2"],P),center:this.getCenterPoint(P)},y,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(h){return I(this,h)}draw(h){const p=this.options,y=!(0,S.h)(this._visible)||this._visible;!p.display||!p.content||!y||(h.save(),vt(h,this.getCenterPoint(),this.rotation),mt(h,this),ie(h,this,p),ue(h,Bi(this),p),h.restore())}resolveElementProperties(h,p){let y;if(Ut(p))y=Ae(h,p);else{const{centerX:R,centerY:$}=Qe(h,p);y={x:R,y:$}}const P=(0,S.E)(p.padding),M=Rt(h.ctx,p),E=se(y,M,p,P);return{initProperties:Pt(h,E,p),pointX:y.x,pointY:y.y,...E,rotation:p.rotation}}}pn.id="labelAnnotation",pn.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},pn.defaultRoutes={borderColor:"color"};function Bi({x:d,y:h,width:p,height:y,options:P}){const M=P.borderWidth/2,E=(0,S.E)(P.padding);return{x:d+E.left+M,y:h+E.top+M,width:p-E.left-E.right-P.borderWidth,height:y-E.top-E.bottom-P.borderWidth}}const Qn=(d,h,p)=>({x:d.x+p*(h.x-d.x),y:d.y+p*(h.y-d.y)}),Jn=(d,h,p)=>Qn(h,p,Math.abs((d-h.y)/(p.y-h.y))).x,bi=(d,h,p)=>Qn(h,p,Math.abs((d-h.x)/(p.x-h.x))).y,Ue=d=>d*d,Wi=(d,h,{x:p,y,x2:P,y2:M},E)=>E==="y"?{start:Math.min(y,M),end:Math.max(y,M),value:h}:{start:Math.min(p,P),end:Math.max(p,P),value:d},yi=(d,h,p,y)=>(1-y)*(1-y)*d+2*(1-y)*y*h+y*y*p,En=(d,h,p,y)=>({x:yi(d.x,h.x,p.x,y),y:yi(d.y,h.y,p.y,y)}),qn=(d,h,p,y)=>2*(1-y)*(h-d)+2*y*(p-h),ti=(d,h,p,y)=>-Math.atan2(qn(d.x,h.x,p.x,y),qn(d.y,h.y,p.y,y))+.5*S.P;class mn extends c.W_{inRange(h,p,y,P){const M=(this.options.borderWidth+this.options.hitTolerance)/2;if(y!=="x"&&y!=="y"){const E={mouseX:h,mouseY:p},{path:R,ctx:$}=this;if(R){Ft($,this.options),$.lineWidth+=this.options.hitTolerance;const{chart:Dt}=this.$context,Yt=h*Dt.currentDevicePixelRatio,Qt=p*Dt.currentDevicePixelRatio,ge=$.isPointInStroke(R,Yt,Qt)||ei(this,E,P);return $.restore(),ge}const st=Ue(M);return ji(this,E,st,P)||ei(this,E,P)}return sn(this,{mouseX:h,mouseY:p},y,{hitSize:M,useFinalPosition:P})}getCenterPoint(h){return I(this,h)}draw(h){const{x:p,y,x2:P,y2:M,cp:E,options:R}=this;if(h.save(),!Ft(h,R))return h.restore();$t(h,R);const $=Math.sqrt(Math.pow(P-p,2)+Math.pow(M-y,2));if(R.curve&&E)return ni(h,this,E,$),h.restore();const{startOpts:st,endOpts:Dt,startAdjust:Yt,endAdjust:Qt}=Pi(this),ge=Math.atan2(M-y,P-p);h.translate(p,y),h.rotate(ge),h.beginPath(),h.moveTo(0+Yt,0),h.lineTo($-Qt,0),h.shadowColor=R.borderShadowColor,h.stroke(),Tn(h,0,Yt,st),Tn(h,$,-Qt,Dt),h.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(h,p){const y=je(h,p),{x:P,y:M,x2:E,y2:R}=y,$=vi(y,h.chartArea),st=$?zi({x:P,y:M},{x:E,y:R},h.chartArea):{x:P,y:M,x2:E,y2:R,width:Math.abs(E-P),height:Math.abs(R-M)};if(st.centerX=(E+P)/2,st.centerY=(R+M)/2,st.initProperties=Pt(h,st,p),p.curve){const Yt={x:st.x,y:st.y},Qt={x:st.x2,y:st.y2};st.cp=Hi(st,p,(0,S.aE)(Yt,Qt))}const Dt=Ke(h,st,p.label);return Dt._visible=$,st.elements=[{type:"label",optionScope:"label",properties:Dt,initProperties:st.initProperties}],st}}mn.id="lineAnnotation";const On={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};mn.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},On),fill:!1,length:12,start:Object.assign({},On),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},pn.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},mn.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}},mn.defaultRoutes={borderColor:"color"};function sn(d,{mouseX:h,mouseY:p},y,{hitSize:P,useFinalPosition:M}){const E=Wi(h,p,d.getProps(["x","y","x2","y2"],M),y);return z(E,P)||ei(d,{mouseX:h,mouseY:p},M,y)}function vi({x:d,y:h,x2:p,y2:y},{top:P,right:M,bottom:E,left:R}){return!(d<R&&p<R||d>M&&p>M||h<P&&y<P||h>E&&y>E)}function _i({x:d,y:h},p,{top:y,right:P,bottom:M,left:E}){return d<E&&(h=bi(E,{x:d,y:h},p),d=E),d>P&&(h=bi(P,{x:d,y:h},p),d=P),h<y&&(d=Jn(y,{x:d,y:h},p),h=y),h>M&&(d=Jn(M,{x:d,y:h},p),h=M),{x:d,y:h}}function zi(d,h,p){const{x:y,y:P}=_i(d,h,p),{x:M,y:E}=_i(h,d,p);return{x:y,y:P,x2:M,y2:E,width:Math.abs(M-y),height:Math.abs(E-P)}}function ji(d,{mouseX:h,mouseY:p},y=et,P){const{x:M,y:E,x2:R,y2:$}=d.getProps(["x","y","x2","y2"],P),st=R-M,Dt=$-E,Yt=Ue(st)+Ue(Dt),Qt=Yt===0?-1:((h-M)*st+(p-E)*Dt)/Yt;let ge,me;return Qt<0?(ge=M,me=E):Qt>1?(ge=R,me=$):(ge=M+Qt*st,me=E+Qt*Dt),Ue(h-ge)+Ue(p-me)<=y}function ei(d,{mouseX:h,mouseY:p},y,P){const M=d.label;return M.options.display&&M.inRange(h,p,P,y)}function Ke(d,h,p){const y=p.borderWidth,P=(0,S.E)(p.padding),M=Rt(d.ctx,p),E=M.width+P.width+y,R=M.height+P.height+y;return bn(h,p,{width:E,height:R,padding:P},d.chartArea)}function rn(d){const{x:h,y:p,x2:y,y2:P}=d,M=Math.atan2(P-p,y-h);return M>S.P/2?M-S.P:M<S.P/-2?M+S.P:M}function bn(d,h,p,y){const{width:P,height:M,padding:E}=p,{xAdjust:R,yAdjust:$}=h,st={x:d.x,y:d.y},Dt={x:d.x2,y:d.y2},Yt=h.rotation==="auto"?rn(d):(0,S.t)(h.rotation),Qt=xi(P,M,Yt),ge=Vi(d,h,{labelSize:Qt,padding:E},y),me=d.cp?En(st,d.cp,Dt,ge):Qn(st,Dt,ge),Le={size:Qt.w,min:y.left,max:y.right,padding:E.left},Ze={size:Qt.h,min:y.top,max:y.bottom,padding:E.top},Ie=wi(me.x,Le)+R,Me=wi(me.y,Ze)+$;return{x:Ie-P/2,y:Me-M/2,x2:Ie+P/2,y2:Me+M/2,centerX:Ie,centerY:Me,pointX:me.x,pointY:me.y,width:P,height:M,rotation:(0,S.U)(Yt)}}function xi(d,h,p){const y=Math.cos(p),P=Math.sin(p);return{w:Math.abs(d*y)+Math.abs(h*P),h:Math.abs(d*P)+Math.abs(h*y)}}function Vi(d,h,p,y){let P;const M=Re(d,y);return h.position==="start"?P=kn({w:d.x2-d.x,h:d.y2-d.y},p,h,M):h.position==="end"?P=1-kn({w:d.x-d.x2,h:d.y-d.y2},p,h,M):P=Zt(1,h.position),P}function kn(d,h,p,y){const{labelSize:P,padding:M}=h,E=d.w*y.dx,R=d.h*y.dy,$=E>0&&(P.w/2+M.left-y.x)/E,st=R>0&&(P.h/2+M.top-y.y)/R;return tt(Math.max($,st),0,.25)}function Re(d,h){const{x:p,x2:y,y:P,y2:M}=d,E=Math.min(P,M)-h.top,R=Math.min(p,y)-h.left,$=h.bottom-Math.max(P,M),st=h.right-Math.max(p,y);return{x:Math.min(R,st),y:Math.min(E,$),dx:R<=st?1:-1,dy:E<=$?1:-1}}function wi(d,h){const{size:p,min:y,max:P,padding:M}=h,E=p/2;return p>P-y?(P+y)/2:(y>=d-M-E&&(d=y+M+E),P<=d+M+E&&(d=P-M-E),d)}function Pi(d){const h=d.options,p=h.arrowHeads&&h.arrowHeads.start,y=h.arrowHeads&&h.arrowHeads.end;return{startOpts:p,endOpts:y,startAdjust:Ci(d,p),endAdjust:Ci(d,y)}}function Ci(d,h){if(!h||!h.display)return 0;const{length:p,width:y}=h,P=d.options.borderWidth/2,M={x:p,y:y+P};return Math.abs(Jn(0,M,{x:0,y:P}))}function Tn(d,h,p,y){if(!y||!y.display)return;const{length:P,width:M,fill:E,backgroundColor:R,borderColor:$}=y,st=Math.abs(h-P)+p;d.beginPath(),$t(d,y),Ft(d,y),d.moveTo(st,-M),d.lineTo(h+p,0),d.lineTo(st,M),E===!0?(d.fillStyle=R||$,d.closePath(),d.fill(),d.shadowColor="transparent"):d.shadowColor=y.borderShadowColor,d.stroke()}function Hi(d,h,p){const{x:y,y:P,x2:M,y2:E,centerX:R,centerY:$}=d,st=Math.atan2(E-P,M-y),Dt=ne(h.controlPoint,0),Yt={x:R+te(p,Dt.x,!1),y:$+te(p,Dt.y,!1)};return at(Yt,{x:R,y:$},st)}function Dn(d,{x:h,y:p},{angle:y,adjust:P},M){!M||!M.display||(d.save(),d.translate(h,p),d.rotate(y),Tn(d,0,-P,M),d.restore())}function ni(d,h,p,y){const{x:P,y:M,x2:E,y2:R,options:$}=h,{startOpts:st,endOpts:Dt,startAdjust:Yt,endAdjust:Qt}=Pi(h),ge={x:P,y:M},me={x:E,y:R},Le=ti(ge,p,me,0),Ze=ti(ge,p,me,1)-S.P,Ie=En(ge,p,me,Yt/y),Me=En(ge,p,me,1-Qt/y),$e=new Path2D;d.beginPath(),$e.moveTo(Ie.x,Ie.y),$e.quadraticCurveTo(p.x,p.y,Me.x,Me.y),d.shadowColor=$.borderShadowColor,d.stroke($e),h.path=$e,h.ctx=d,Dn(d,Ie,{angle:Le,adjust:Yt},st),Dn(d,Me,{angle:Ze,adjust:Qt},Dt)}class on extends c.W_{inRange(h,p,y,P){const M=this.options.rotation,E=(this.options.borderWidth+this.options.hitTolerance)/2;if(y!=="x"&&y!=="y")return Si({x:h,y:p},this.getProps(["width","height","centerX","centerY"],P),M,E);const{x:R,y:$,x2:st,y2:Dt}=this.getProps(["x","y","x2","y2"],P),Yt=y==="y"?{start:$,end:Dt}:{start:R,end:st},Qt=at({x:h,y:p},this.getCenterPoint(P),(0,S.t)(-M));return Qt[y]>=Yt.start-E-et&&Qt[y]<=Yt.end+E+et}getCenterPoint(h){return I(this,h)}draw(h){const{width:p,height:y,centerX:P,centerY:M,options:E}=this;h.save(),vt(h,this.getCenterPoint(),E.rotation),$t(h,this.options),h.beginPath(),h.fillStyle=E.backgroundColor;const R=Ft(h,E);h.ellipse(P,M,y/2,p/2,S.P/2,0,2*S.P),h.fill(),R&&(h.shadowColor=E.borderShadowColor,h.stroke()),h.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(h,p){return xn(h,p)}}on.id="ellipseAnnotation",on.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},He.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},on.defaultRoutes={borderColor:"color",backgroundColor:"color"},on.descriptors={label:{_fallback:!0}};function Si(d,h,p,y){const{width:P,height:M,centerX:E,centerY:R}=h,$=P/2,st=M/2;if($<=0||st<=0)return!1;const Dt=(0,S.t)(p||0),Yt=Math.cos(Dt),Qt=Math.sin(Dt),ge=Math.pow(Yt*(d.x-E)+Qt*(d.y-R),2),me=Math.pow(Qt*(d.x-E)-Yt*(d.y-R),2);return ge/Math.pow($+y,2)+me/Math.pow(st+y,2)<=1.0001}class An extends c.W_{inRange(h,p,y,P){const{x:M,y:E,x2:R,y2:$,width:st}=this.getProps(["x","y","x2","y2","width"],P),Dt=(this.options.borderWidth+this.options.hitTolerance)/2;return y!=="x"&&y!=="y"?bt({x:h,y:p},this.getCenterPoint(P),st/2,Dt):z(y==="y"?{start:E,end:$,value:p}:{start:M,end:R,value:h},Dt)}getCenterPoint(h){return I(this,h)}draw(h){const p=this.options,y=p.borderWidth;if(p.radius<.1)return;h.save(),h.fillStyle=p.backgroundColor,$t(h,p);const P=Ft(h,p);K(h,this,this.centerX,this.centerY),P&&!St(p.pointStyle)&&(h.shadowColor=p.borderShadowColor,h.stroke()),h.restore(),p.borderWidth=y}resolveElementProperties(h,p){const y=Te(h,p);return y.initProperties=Pt(h,y,p),y}}An.id="pointAnnotation",An.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},An.defaultRoutes={borderColor:"color",backgroundColor:"color"};class Je extends c.W_{inRange(h,p,y,P){if(y!=="x"&&y!=="y")return this.options.radius>=.1&&this.elements.length>1&&Ui(this.elements,h,p,P);const M=at({x:h,y:p},this.getCenterPoint(P),(0,S.t)(-this.options.rotation)),E=this.elements.map(st=>y==="y"?st.bY:st.bX),R=Math.min(...E),$=Math.max(...E);return M[y]>=R&&M[y]<=$}getCenterPoint(h){return I(this,h)}draw(h){const{elements:p,options:y}=this;h.save(),h.beginPath(),h.fillStyle=y.backgroundColor,$t(h,y);const P=Ft(h,y);let M=!0;for(const E of p)M?(h.moveTo(E.x,E.y),M=!1):h.lineTo(E.x,E.y);h.closePath(),h.fill(),P&&(h.shadowColor=y.borderShadowColor,h.stroke()),h.restore()}resolveElementProperties(h,p){const y=Te(h,p),{sides:P,rotation:M}=p,E=[],R=2*S.P/P;let $=M*S.b3;for(let st=0;st<P;st++,$+=R){const Dt=ii(y,p,$);Dt.initProperties=Pt(h,y,p),E.push(Dt)}return y.elements=E,y}}Je.id="polygonAnnotation",Je.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},Je.defaultRoutes={borderColor:"color",backgroundColor:"color"};function ii({centerX:d,centerY:h},{radius:p,borderWidth:y,hitTolerance:P},M){const E=(y+P)/2,R=Math.sin(M),$=Math.cos(M),st={x:d+R*p,y:h-$*p};return{type:"point",optionScope:"point",properties:{x:st.x,y:st.y,centerX:st.x,centerY:st.y,bX:d+R*(p+E),bY:h-$*(p+E)}}}function Ui(d,h,p,y){let P=!1,M=d[d.length-1].getProps(["bX","bY"],y);for(const E of d){const R=E.getProps(["bX","bY"],y);R.bY>p!=M.bY>p&&h<(M.bX-R.bX)*(p-R.bY)/(M.bY-R.bY)+R.bX&&(P=!P),M=R}return P}const Ye={box:He,doughnutLabel:Mn,ellipse:on,label:pn,line:mn,point:An,polygon:Je};Object.keys(Ye).forEach(d=>{S.d.describe(`elements.${Ye[d].id}`,{_fallback:"plugins.annotation.common"})});const Mi={update:Object.assign},qe=Cn.concat(dn),si=(d,h)=>(0,S.i)(h)?Nn(d,h):d,Rn=d=>d==="color"||d==="font";function Ln(d="line"){return Ye[d]?d:(console.warn(`Unknown annotation type: '${d}', defaulting to 'line'`),"line")}function In(d,h,p,y){const P=Fn(d,p.animations,y),M=h.annotations,E=vn(h.elements,M);for(let R=0;R<M.length;R++){const $=M[R],st=Oi(E,R,$.type),Dt=$.setContext(Bn(d,st,E,$)),Yt=st.resolveElementProperties(d,Dt);Yt.skip=yn(Yt),"elements"in Yt&&(Ei(st,Yt.elements,Dt,P),delete Yt.elements),(0,S.h)(st.x)||Object.assign(st,Yt),Object.assign(st,Yt.initProperties),Yt.options=ri(Dt),P.update(st,Yt)}}function yn(d){return isNaN(d.x)||isNaN(d.y)}function Fn(d,h,p){return p==="reset"||p==="none"||p==="resize"?Mi:new c.FK(d,h)}function Ei(d,h,p,y){const P=d.elements||(d.elements=[]);P.length=h.length;for(let M=0;M<h.length;M++){const E=h[M],R=E.properties,$=Oi(P,M,E.type,E.initProperties),st=p[E.optionScope].override(E);R.options=ri(st),y.update($,R)}}function Oi(d,h,p,y){const P=Ye[Ln(p)];let M=d[h];return(!M||!(M instanceof P))&&(M=d[h]=new P,Object.assign(M,y)),M}function ri(d){const h=Ye[Ln(d.type)],p={};p.id=d.id,p.type=d.type,p.drawTime=d.drawTime,Object.assign(p,Nn(d,h.defaults),Nn(d,h.defaultRoutes));for(const y of qe)p[y]=d[y];return p}function Nn(d,h){const p={};for(const y of Object.keys(h)){const P=h[y],M=d[y];Rn(y)&&(0,S.b)(M)?p[y]=M.map(E=>si(E,P)):p[y]=si(M,P)}return p}function Bn(d,h,p,y){return h.$context||(h.$context=Object.assign(Object.create(d.getContext()),{element:h,get elements(){return p.filter(P=>P&&P.options)},id:y.id,type:"annotation"}))}function vn(d,h){const p=h.length,y=d.length;if(y<p){const P=p-y;d.splice(y,0,...new Array(P))}else y>p&&d.splice(p,y-p);return d}var ki="3.1.0";const We=new Map,Xe=d=>d.type!=="doughnutLabel",Ti=Cn.concat(dn);var Wn={id:"annotation",version:ki,beforeRegister(){B("chart.js","4.0",c.kL.version)},afterRegister(){c.kL.register(Ye)},afterUnregister(){c.kL.unregister(Ye)},beforeInit(d){We.set(d,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(d,h,p){const y=We.get(d),P=y.annotations=[];let M=p.annotations;(0,S.i)(M)?Object.keys(M).forEach(E=>{const R=M[E];(0,S.i)(R)&&(R.id=E,P.push(R))}):(0,S.b)(M)&&P.push(...M),pi(P.filter(Xe),d.scales)},afterDataLimits(d,h){const p=We.get(d);Ii(d,h.scale,p.annotations.filter(Xe).filter(y=>y.display&&y.adjustScaleRange))},afterUpdate(d,h,p){const y=We.get(d);Pe(d,y,p),In(d,y,p,h.mode),y.visibleElements=y.elements.filter(P=>!P.skip&&P.options.display),gi(d,y,p)},beforeDatasetsDraw(d,h,p){an(d,"beforeDatasetsDraw",p.clip)},afterDatasetsDraw(d,h,p){an(d,"afterDatasetsDraw",p.clip)},beforeDatasetDraw(d,h,p){an(d,h.index,p.clip)},beforeDraw(d,h,p){an(d,"beforeDraw",p.clip)},afterDraw(d,h,p){an(d,"afterDraw",p.clip)},beforeEvent(d,h,p){const y=We.get(d);fi(y,h.event,p)&&(h.changed=!0)},afterDestroy(d){We.delete(d)},getAnnotations(d){const h=We.get(d);return h?h.elements:[]},_getAnnotationElementsAtEventForMode(d,h,p){return T(d,h,p)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:d=>!Ti.includes(d)&&d!=="init",annotations:{_allKeys:!1,_fallback:(d,h)=>`elements.${Ye[Ln(h.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:Rn,_fallback:!0},_indexable:Rn}},additionalOptionScopes:[""]};function an(d,h,p){const{ctx:y,chartArea:P}=d,M=We.get(d);p&&(0,S.Y)(y,P);const E=Ki(M.visibleElements,h).sort((R,$)=>R.element.options.z-$.element.options.z);for(const R of E)zn(y,P,M,R);p&&(0,S.$)(y)}function Ki(d,h){const p=[];for(const y of d)if(y.options.drawTime===h&&p.push({element:y,main:!0}),y.elements&&y.elements.length)for(const P of y.elements)P.options.display&&P.options.drawTime===h&&p.push({element:P});return p}function zn(d,h,p,y){const P=y.element;y.main?(Kn(p,P,"beforeDraw"),P.draw(d,h),Kn(p,P,"afterDraw")):P.draw(d,h)}}},ps={};function cn(ut){var X=ps[ut];if(X!==void 0)return X.exports;var x=ps[ut]={exports:{}};return Ys[ut](x,x.exports,cn),x.exports}(()=>{var ut=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",X=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",x=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",c=D=>{D&&D.d<1&&(D.d=1,D.forEach(T=>T.r--),D.forEach(T=>T.r--?T.r++:T()))},S=D=>D.map(T=>{if(T!==null&&typeof T=="object"){if(T[ut])return T;if(T.then){var F=[];F.d=0,T.then(J=>{W[X]=J,c(F)},J=>{W[x]=J,c(F)});var W={};return W[ut]=J=>J(F),W}}var V={};return V[ut]=J=>{},V[X]=T,V});cn.a=(D,T,F)=>{var W;F&&((W=[]).d=-1);var V=new Set,J=D.exports,at,gt,et,tt=new Promise((z,q)=>{et=q,gt=z});tt[X]=J,tt[ut]=z=>(W&&z(W),V.forEach(z),tt.catch(q=>{})),D.exports=tt,T(z=>{at=S(z);var q,bt=()=>at.map(ht=>{if(ht[x])throw ht[x];return ht[X]}),Z=new Promise(ht=>{q=()=>ht(bt),q.r=0;var I=B=>B!==W&&!V.has(B)&&(V.add(B),B&&!B.d&&(q.r++,B.push(q)));at.map(B=>B[ut](I))});return q.r?Z:bt()},z=>(z?et(tt[x]=z):gt(J),c(W))),W&&W.d<0&&(W.d=0)}})(),cn.n=ut=>{var X=ut&&ut.__esModule?()=>ut.default:()=>ut;return cn.d(X,{a:X}),X},cn.d=(ut,X)=>{for(var x in X)cn.o(X,x)&&!cn.o(ut,x)&&Object.defineProperty(ut,x,{enumerable:!0,get:X[x]})},cn.o=(ut,X)=>Object.prototype.hasOwnProperty.call(ut,X);var uo=cn(7733)})();})();
