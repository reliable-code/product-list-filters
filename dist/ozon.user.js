// ==UserScript==
// @name         Ozon List Clean
// @description  Remove product cards by filter
// @grant        GM_deleteValue
// @grant        GM_listValues
// @grant        GM_addValueChangeListener
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://www.ozon.ru/*
// @namespace    https://github.com/reliable-code/product-list-filters
// @version      1.3.73411750
// @icon         https://www.google.com/s2/favicons?sz=64&domain=ozon.ru
// @author       reliable-code
// ==/UserScript==

(()=>{(()=>{var Ys={1474:(dt,Z,P)=>{"use strict";P.d(Z,{GJ:()=>B,fS:()=>E,zy:()=>c});function c(){var T=new Date;return T.setHours(0,0,0,0),T.getTime()}function E(T){return new Date(T).toLocaleDateString()}function B(T){var W=new Date;return W.setMonth(W.getMonth()-T),W}},9944:(dt,Z,P)=>{"use strict";P.d(Z,{C:()=>T});var c=P(9085),E=P(7282),B=P(6598);c.ZP.register(E.Z);function T(W,z,ot){var ct=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},q=(0,B.wC)(ct),ft=document.createElement("canvas");return q.appendChild(ft),new c.ZP(ft,{type:W,data:z,options:ot}),q}},6598:(dt,Z,P)=>{"use strict";P.d(Z,{Bt:()=>T,EW:()=>q,_B:()=>W,ax:()=>ft,az:()=>tt,dn:()=>z,kQ:()=>ct,wC:()=>J});var c=P(1002),E=P(6576),B=P(1557);function T($,U,Y){var j=ot($,"text",U);return j.value=Y,j}function W($,U,Y,j,ht,wt){var gt=ot($,"number",U);return gt.value=Y,gt.step=j,gt.min=ht,gt.max=wt,gt}function z($,U,Y){var j=ot($,"checkbox",U);return j.checked=Y,j}function ot(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,j=tt("input",$);return U&&(j.type=U),Y&&(j.addEventListener("keyup",(0,E.D)(Y,200)),j.addEventListener("change",(0,E.D)(Y,100))),j}function ct(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return tt("span",$,U)}function q(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,j=tt("a",$,U);return Y&&(j.href=Y),j}function ft(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,j=tt("button",$,U);return Y&&(j.onclick=Y),j}function J(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return tt("div",$,U)}function tt($,U){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if((0,c.Z)(U)!=="object"||U===null)throw new TypeError("styles should be an object");var j=document.createElement($);return(0,B.Zs)(j,U),Y&&(j.innerHTML=Y),j}},5261:(dt,Z,P)=>{"use strict";P.d(Z,{y8:()=>ot});var c=P(6598),E={position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"1px solid #ccc",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",maxWidth:"60%",maxHeight:"75%",zIndex:"1000"},B={margin:"40px 0 30px",padding:"5px 25px 0",overflowY:"auto",maxHeight:"calc(75vh - 75px)"},T={position:"absolute",padding:"0",top:"0px",right:"11px",fontFamily:"system-ui",fontSize:"24px",cursor:"pointer",color:"#000",border:"none",background:"none",opacity:"1"},W={opacity:"0.6"},z=null;function ot(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:B,j=q($,U,Y);ct(j)}function ct($){return z&&J(z),z=$,document.addEventListener("click",function(U){return tt(U,$)}),$.addEventListener("click",function(U){U.stopPropagation()}),document.body.appendChild($),$}function q(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:B,j=(0,c.wC)(U),ht=ft(j);j.appendChild(ht);var wt=(0,c.wC)(Y);return $&&wt.appendChild($),j.appendChild(wt),j}function ft($){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:T,Y=(0,c.ax)(U,"\xD7");Y.addEventListener("click",function(){J($)});var j=function(wt){Object.assign(Y.style,wt?W:T)};return Y.addEventListener("mouseenter",function(){return j(!0)}),Y.addEventListener("mouseleave",function(){return j(!1)}),Y}function J($){$.remove(),document.removeEventListener("click",function(U){return tt(U,$)}),z=null}function tt($,U){U.contains($.target)||J(U)}},5694:(dt,Z,P)=>{"use strict";P.d(Z,{b3:()=>ct,s_:()=>ft,yt:()=>J});var c=P(6598),E=P(1483),B=["table","thead","tbody","tr","th","td"],T=Object.fromEntries(B.map(function(tt){return["create".concat((0,E.kC)(tt)),function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return(0,c.az)(tt,$,U)}]})),W=T.createTable,z=T.createThead,ot=T.createTbody,ct=T.createTr,q=T.createTh,ft=T.createTd;function J(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},j=W(tt),ht=z(tt),wt=ot(tt),gt=ct($);return Y.forEach(function(xt){var kt=q(U,xt);gt.appendChild(kt)}),ht.appendChild(gt),j.appendChild(ht),j.appendChild(wt),j}},1557:(dt,Z,P)=>{"use strict";P.d(Z,{DJ:()=>T,NI:()=>z,Zs:()=>ft,qX:()=>ot,tk:()=>B,wv:()=>tt});var c=P(1465),E=P(1483);function B($){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,j=U.querySelector($);return Y&&!j&&console.log("No element found for selector: ".concat($)),j}function T($){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,j=U.querySelectorAll($);return Y&&!j.length&&console.log("No elements found for selector: ".concat($)),j}function W($,U){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,ht=B(U,$,!0),wt=z(ht,Y,j);return wt}function z($){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(!$)return j===null?(console.log("No element found"),null):j;var ht=$.innerText;return q(ht,U,Y)}function ot($,U){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,j=$[U],ht=z(j,Y);return ht}function ct($){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,j=$.textContent;return q(j,U,Y)}function q($,U,Y){U&&($=(0,E.g7)($)),Y&&($=$.replace(",","."));var j=+$;return j}function ft($,U){Object.assign($.style,U)}function J($){return Object.entries($).map(function(U){var Y=_slicedToArray(U,2),j=Y[0],ht=Y[1];return"".concat(j.replace(/([A-Z])/g,"-$1").toLowerCase(),": ").concat(ht,";")}).join(" ")}function tt($){return $?$.split(";").filter(function(U){return U.trim()!==""}).reduce(function(U,Y){var j=Y.split(":").map(function(kt){return kt.trim()}),ht=(0,c.Z)(j,2),wt=ht[0],gt=ht[1],xt=wt.replace(/-([a-z])/g,function(kt,Ct){return Ct.toUpperCase()});return U[xt]=gt,U},{}):{}}},9397:(dt,Z,P)=>{"use strict";P.d(Z,{BE:()=>c,OQ:()=>T,V_:()=>B,e6:()=>E,q0:()=>U});function c(Y,j){Y.parentNode.insertBefore(j,Y.nextSibling)}function E(Y){ot(Y),W(Y,"none")}function B(Y,j){var ht=j||z(Y);W(Y,ht)}function T(Y,j,ht){j?E(Y):B(Y,ht)}function W(Y,j){Y.style.display=j}function z(Y){return ot(Y),Y.getAttribute("display")}function ot(Y){if(!Y.hasAttribute("display")){var j=getComputedStyle(Y),ht=j.display;Y.setAttribute("display",ht)}}function ct(Y,j){var ht=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.2;j?ft(Y,ht):q(Y)}function q(Y){Y.style.opacity=""}function ft(Y){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.2;Y.style.opacity=j}function J(Y){Y.style.order=""}function tt(Y,j){Y.style.order=j}function $(Y,j){Y.style.background=j}function U(Y){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"custom-global-style",ht=document.getElementById(j);ht||(ht=document.createElement("style"),ht.id=j,ht.type="text/css",document.head.appendChild(ht)),ht.textContent=Y}},6576:(dt,Z,P)=>{"use strict";P.d(Z,{D:()=>z,b:()=>T});var c=P(5861),E=P(4687),B=P.n(E);function T(ot,ct){return W.apply(this,arguments)}function W(){return W=(0,c.Z)(B().mark(function ot(ct,q){var ft,J,tt=arguments;return B().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(ft=tt.length>2&&tt[2]!==void 0?tt[2]:null,J=ct.querySelector(q),!J){U.next=4;break}return U.abrupt("return",J);case 4:return U.abrupt("return",new Promise(function(Y){var j=new MutationObserver(wt);j.observe(ct,{childList:!0,subtree:!0});var ht=null;ft&&(ht=setTimeout(function(){j.disconnect(),console.log("No element found for selector: ".concat(q)),Y(null)},ft));function wt(){var gt=ct.querySelector(q);gt&&(ht&&clearTimeout(ht),j.disconnect(),Y(gt))}}));case 5:case"end":return U.stop()}},ot)})),W.apply(this,arguments)}function z(ot){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,q;return function(){for(var ft=arguments.length,J=new Array(ft),tt=0;tt<ft;tt++)J[tt]=arguments[tt];clearTimeout(q),q=setTimeout(function(){return ot.apply(void 0,J)},ct)}}},9144:(dt,Z,P)=>{"use strict";P.d(Z,{E1:()=>B,J2:()=>c,YY:()=>T});function c(W,z){return!E(W,z)}function E(W,z){if(!z.value)return!0;var ot=W.toLowerCase(),ct=z.value.toLowerCase().split(",").map(function(J){return J.trim()}),q=[],ft=[];return ct.forEach(function(J){if(J.startsWith("!")){var tt=J.substring(1);tt&&ft.push(tt)}else q.push(J)}),q.every(function(J){return ot.includes(J)})&&ft.every(function(J){return!ot.includes(J)})}function B(W,z){return z.value&&W<z.value}function T(W,z){return z.value&&W>z.value}},2050:(dt,Z,P)=>{"use strict";P.d(Z,{XF:()=>T,Xi:()=>E,xy:()=>B});var c=P(6598);function E(W,z){var ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ct=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},q=(0,c.wC)(ot,W),ft=(0,c.Bt)(ct,z.updateValueFromEvent,z.value);return q.append(ft),q}function B(W,z,ot,ct,q){var ft=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},J=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},tt=(0,c.wC)(ft,W),$=(0,c._B)(J,z.updateValueFromEvent,z.value,ot,ct,q);return tt.append($),tt}function T(W,z){var ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ct=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},q=(0,c.wC)(ot,W),ft=(0,c.dn)(ct,z.updateValueFromEvent,z.value);return q.append(ft),q}},6332:(dt,Z,P)=>{"use strict";P.d(Z,{Cf:()=>W,T5:()=>E,b3:()=>tt,iz:()=>J,kc:()=>B,pN:()=>$,tn:()=>T});var c=P(2050);function E(U){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,c.Xi)("\u041F\u043E\u0438\u0441\u043A: ",U,Y,j)}function B(U){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ht=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.1;return(0,c.xy)("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",U,ht,3,5,Y,j)}function T(U){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return z("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",U,Y,j)}function W(U){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return z("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",U,Y,j)}function z(U,Y){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ht=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(0,c.xy)(U,Y,"1","1","999999",j,ht)}function ot(U){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ct("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",U,Y,j)}function ct(U,Y){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ht=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return createNumberFilterControl(U,Y,"5","0","100",j,ht)}function q(U){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return createNumberFilterControl("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",U,"5","0","100",Y,j)}function ft(U,Y){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ht=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},wt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"250";return(0,c.xy)(U,Y,wt,"0","1000000",j,ht)}function J(U){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ht=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"250";return ft("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",U,Y,j,ht)}function tt(U){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,c.XF)("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",U,Y,j)}function $(U){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,c.XF)("\u0412\u043A\u043B: ",U,Y,j)}},7798:(dt,Z,P)=>{"use strict";P.d(Z,{C:()=>B});var c=P(6598),E=P(1557);function B(T,W){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"customFiltersContainer",ct=(0,E.tk)("#".concat(ot),T);if(ct)if(z)ct.remove();else return;ct=(0,c.wC)(),ct.id=ot,W(ct,T)}},8743:(dt,Z,P)=>{"use strict";P.d(Z,{r:()=>c});function c(B){var T=B.slice().sort(function(z,ot){return z-ot}),W=Math.floor(T.length/2);return T.length%2!==0?T[W]:(T[W-1]+T[W])/2}function E(B,T){return Math.random()*(T-B)+B}},8162:(dt,Z,P)=>{"use strict";P.d(Z,{u:()=>T});var c=P(3144),E=P(5671),B=P(1474),T=(0,c.Z)(function W(z){var ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(0,B.zy)();(0,E.Z)(this,W),this.value=z,this.date=ot})},2022:(dt,Z,P)=>{"use strict";P.d(Z,{X:()=>B});var c=P(3144),E=P(5671),B=(0,c.Z)(function T(W,z,ot){(0,E.Z)(this,T),this.current=W,this.lowest=z,this.highest=ot})},1026:(dt,Z,P)=>{"use strict";P.d(Z,{e:()=>T});var c=P(5671),E=P(3144),B=P(4942),T=function(){function W(){var z=this,ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Date.now(),ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ft=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};(0,c.Z)(this,W),(0,B.Z)(this,"updateLastCheckDate",function(){z.lastCheckDate=Date.now()}),this.lastCheckDate=ot,this.lowestPrice=ct,this.highestPrice=q,this.priceHistory=ft}return(0,E.Z)(W,[{key:"lowestPriceValue",get:function(){return this.lowestPrice?this.lowestPrice.value:0}},{key:"highestPriceValue",get:function(){return this.highestPrice?this.highestPrice.value:0}}],[{key:"fromObject",value:function(ot){var ct=ot.lastCheckDate,q=ot.lowestPrice,ft=ot.highestPrice,J=ot.priceHistory;return new W(ct,q,ft,J)}}])}()},3832:(dt,Z,P)=>{"use strict";P.d(Z,{u:()=>q});var c=P(5671),E=P(3144),B=P(2963),T=P(1120),W=P(136),z=P(1026);function ot(ft,J,tt){return J=(0,T.Z)(J),(0,B.Z)(ft,ct()?Reflect.construct(J,tt||[],(0,T.Z)(ft).constructor):J.apply(ft,tt))}function ct(){try{var ft=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ct=function(){return!!ft})()}var q=function(ft){function J(){var tt,$=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Date.now(),U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ht=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;return(0,c.Z)(this,J),tt=ot(this,J,[$,U,Y,j]),tt.rating=ht,tt}return(0,W.Z)(J,ft),(0,E.Z)(J,null,[{key:"fromObject",value:function($){var U=$.lastCheckDate,Y=$.lowestPrice,j=$.highestPrice,ht=$.priceHistory,wt=$.rating;return new J(U,Y,j,ht,wt)}}])}(z.e)},5935:(dt,Z,P)=>{"use strict";P.d(Z,{Hc:()=>B,hL:()=>T,qR:()=>E,xo:()=>W});var c="appendPriceHistoryPassed",E="appendStoredPriceValuesPassed",B="currentPrice",T="lowestPrice",W="goodPrice"},7085:(dt,Z,P)=>{"use strict";P.d(Z,{r:()=>c});function c(E,B){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:50,W=Math.abs(E-B)/E*100,z=Math.min(1,Math.max(0,W/T)),ot=E>B?0:90,ct=100,q=35;return"hsla(".concat(ot,", ").concat(ct,"%, ").concat(q,"%, ").concat(z,")")}},9924:(dt,Z,P)=>{"use strict";P.d(Z,{J:()=>qt,L:()=>xt});var c=P(1465),E=P(5861),B=P(4687),T=P.n(B),W=P(6598),z=P(5935),ot=P(1557),ct=P(4830),q=P(1026),ft=P(3832),J=P(2022),tt=P(8162),$=P(1474),U=P(5694),Y=P(7085),j=P(5261),ht=P(8743),wt=P(2447),gt=P(9944);function xt(Pt,Tt,At){return kt.apply(this,arguments)}function kt(){return kt=(0,E.Z)(T().mark(function Pt(Tt,At,te){var Nt,it,O,A,G,et,nt,yt,zt;return T().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:if(Nt=(0,ot.NI)(At,!0),Nt){Lt.next=3;break}return Lt.abrupt("return",null);case 3:return it="product-".concat(te),O=(0,ct.su)(it),A=Ct(O),G="lowestPrice",et="highestPrice",A=Ot(A,G,Nt,function(Gt){return Nt<=Gt.value},"\u041C\u0438\u043D. \u0446\u0435\u043D\u0430","#d6f5b1",Tt),A=Ot(A,et,Nt,function(Gt){return Nt>=Gt.value},"\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430","#fed2ea",Tt),A=Zt(A,Nt),A.updateLastCheckDate(),nt=A,yt=nt.lowestPriceValue,zt=nt.highestPriceValue,Lt.next=15,(0,ct.EA)(it,A);case 15:return Lt.abrupt("return",new J.X(Nt,yt,zt));case 16:case"end":return Lt.stop()}},Pt)})),kt.apply(this,arguments)}function Ct(Pt){return Pt?Pt.rating?ft.u.fromObject(Pt):q.e.fromObject(Pt):new q.e}function Ot(Pt,Tt,At,te,Nt,it,O){var A=Pt[Tt];if(At){if(!A||te(A)){var G=new tt.u(At);Pt[Tt]=G,A=G}}else if(!A)return Pt;var et=Pt.priceHistory;return Yt(Nt,A,it,et,At,O),Pt}function Yt(Pt,Tt,At,te,Nt,it){var O="".concat(Pt,": "),A={color:"#000",fontSize:"16px",padding:"17px 0px 7px"},G=(0,W.wC)(A,O),et=(0,wt.A)(Tt.value),nt={fontWeight:"bold",padding:"6px 12px",borderRadius:"8px",cursor:"pointer",background:At},yt=(0,W.kQ)(nt,et);yt.addEventListener("mouseover",function(){yt.textContent=(0,$.fS)(Tt.date)}),yt.addEventListener("mouseleave",function(){yt.textContent=et}),yt.addEventListener("click",function(zt){zt.stopPropagation(),zt.preventDefault(),$t(te,Nt)}),G.append(yt),it.parentNode.append(G)}function $t(Pt,Tt){var At={width:"100%",borderCollapse:"collapse"},te={borderTop:"1px solid #ccc"},Nt={padding:"8px",textAlign:"left"},it={borderTop:"1px solid #ccc"},O={padding:"8px"},A=["\u0414\u0430\u0442\u0430","\u041C\u0438\u043D. \u0446\u0435\u043D\u0430","\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430"],G=(0,U.yt)(At,te,Nt,A),et=G.tBodies[0],nt=[],yt=[],zt=[],jt=[],Lt=(0,$.GJ)(6);Object.entries(Pt).forEach(function(H){var _t=(0,c.Z)(H,2),pt=_t[0],Bt=_t[1],Ft=Bt.lowest,re=Bt.highest,oe=new Date(+pt),pe=oe.toLocaleDateString();oe>=Lt&&(nt.push(Ft,re),yt.push(pe),zt.push(Ft),jt.push(re));var ye=[pe,Ft,re],we=(0,U.b3)(it);ye.forEach(function(ve,Wn){var Ue=(0,U.s_)(O,ve);Wn!==0&&(Ue.style.background=(0,Y.r)(ve,Tt)),we.appendChild(Ue)}),et.insertBefore(we,et.firstChild)});var Gt=(0,W.wC)(),ie=(0,ht.r)(nt),ee=Ut(Tt,ie),V=ne(yt,zt,jt,Tt);Gt.appendChild(ee),Gt.appendChild(V),Gt.appendChild(G),(0,j.y8)(Gt)}function Ut(Pt,Tt){var At={display:"flex",justifyContent:"center",gap:"70px",marginBottom:"10px",fontSize:"20px"},te=(0,W.kQ)({},"\u0422\u0435\u043A\u0443\u0449\u0430\u044F \u0446\u0435\u043D\u0430: <b>".concat((0,wt.A)(Pt),"</b>")),Nt=(0,W.kQ)({},"\u041C\u0435\u0434\u0438\u0430\u043D\u0430 \u0437\u0430 6 \u043C\u0435\u0441: <b>".concat((0,wt.A)(Tt),"</b>")),it=(0,W.wC)(At);return it.append(te,Nt),it}function ne(Pt,Tt,At,te){var Nt="line",it={labels:Pt,datasets:[{label:"\u041C\u0438\u043D. \u0446\u0435\u043D\u0430",data:Tt,borderColor:"hsl(90, 100%, 35%)",fill:!1},{label:"\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430",data:At,borderColor:"hsl(0, 100%, 35%)",fill:!1,hidden:!0}]},O={animation:!1,responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{boxHeight:1,font:{size:15}}},annotation:{annotations:{baseLine:{type:"line",scaleID:"y",value:te,borderColor:"#4872D8",borderWidth:3}}}}},A={width:"calc(60vw - 60px)",height:"45vh",marginBottom:"30px"},G=(0,gt.C)(Nt,it,O,A);return G}function Zt(Pt,Tt){var At,te,Nt=Pt.priceHistory,it=(0,$.zy)(),O=Nt[it]||{},A=Math.min((At=O.lowest)!==null&&At!==void 0?At:Tt,Tt),G=Math.max((te=O.highest)!==null&&te!==void 0?te:Tt,Tt);return Pt.priceHistory[it]={lowest:A,highest:G},Pt}function qt(Pt,Tt,At){var te=Tt.getAttribute(z.Hc),Nt=Tt.getAttribute(z.hL),it=1+At/100,O=Nt*it;if(te<=O)Pt.style.border="3px solid rgb(214, 245, 177)",Pt.style.borderRadius="14px",Pt.style.padding="4px 10px 6px",Pt.style.marginBottom="5px",Pt.style.width="-webkit-fill-available",Tt.setAttribute(z.xo,"");else{var A=["border","borderRadius","padding","marginBottom","width"];A.forEach(function(G){return Pt.style.removeProperty(G)}),Tt.removeAttribute(z.xo)}}},2447:(dt,Z,P)=>{"use strict";P.d(Z,{A:()=>c});function c(E){return"".concat(E.toLocaleString()," \u20BD")}},1469:(dt,Z,P)=>{"use strict";P.d(Z,{F:()=>c});function c(E){var B=E.target,T=B.type;switch(T){case"text":return'"'.concat(B.value,'"');case"number":return B.value;case"checkbox":return B.checked;default:return console.log("Unknown input type: ".concat(T)),null}}},7047:(dt,Z,P)=>{"use strict";P.d(Z,{H:()=>T});var c=P(3144),E=P(5671),B=P(4942),T=(0,c.Z)(function W(z,ot){var ct=this;(0,E.Z)(this,W),(0,B.Z)(this,"onChangeIfDefined",function(){ct.onChange&&ct.onChange()}),this.value=z,this.onChange=ot})},4830:(dt,Z,P)=>{"use strict";P.d(Z,{Cj:()=>tt,EA:()=>$,Yz:()=>j,su:()=>U,vV:()=>Y});var c=P(5671),E=P(3144),B=P(2963),T=P(1120),W=P(136),z=P(4942),ot=P(7047),ct=P(1469),q=P(3295);function ft(ht,wt,gt){return wt=(0,T.Z)(wt),(0,B.Z)(ht,J()?Reflect.construct(wt,gt||[],(0,T.Z)(ht).constructor):wt.apply(ht,gt))}function J(){try{var ht=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J=function(){return!!ht})()}var tt=window.GM_setValue,$=window.GM.setValue,U=window.GM_getValue,Y=window.GM_addValueChangeListener,j=function(ht){function wt(gt){var xt,kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return(0,c.Z)(this,wt),xt=ft(this,wt,[U(gt,kt),Ct]),(0,z.Z)(xt,"updateValueFromEvent",function(Ot){var Yt=(0,ct.F)(Ot),$t=(0,q.H)(Yt);xt.value!==$t&&(tt(xt.storageKey,$t),xt.value=$t,xt.onChangeIfDefined())}),xt.storageKey=gt,xt}return(0,W.Z)(wt,ht),(0,E.Z)(wt,null,[{key:"create",value:function(xt){var kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new wt(xt,kt,Ct)}},{key:"createWithCompositeKey",value:function(xt,kt){var Ct=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,Yt="".concat(xt,"-").concat(kt);return new wt(Yt,Ct,Ot)}}])}(ot.H)},3295:(dt,Z,P)=>{"use strict";P.d(Z,{H:()=>c});function c(E){return E===""?null:JSON.parse(E)}},1483:(dt,Z,P)=>{"use strict";P.d(Z,{g7:()=>E,kC:()=>T});function c(W){return W.replace(/\D/g,"")}function E(W){return W.replace(/[^\d.,-]/g,"")}function B(W){return W.replace(/\s/g,"")}function T(W){return W.charAt(0).toUpperCase()+W.slice(1)}},3950:(dt,Z,P)=>{"use strict";P.d(Z,{ML:()=>B,MP:()=>W,Ul:()=>ft,jw:()=>z,uW:()=>c});function c(J){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common",$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,U=window.location.pathname;return E(U,J,tt,$)}function E(J,tt,$){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Y=J.split("/"),j=Y[tt]||$;return U&&console.log("Pathname element: ".concat(j)),j}function B(J){var tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common",$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,U=c(J,"",$);return T(U,tt,$)}function T(J,tt,$){if(!J)return tt;var U=J.split("-").at(-1);return $&&console.log("Pathname element ending: ".concat(U)),U}function W(J,tt){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"common",U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Y=E(J,tt,"",U);return T(Y,$,U)}function z(J){var tt=window.location.search;return ot(tt,J)}function ot(J,tt){var $=new URLSearchParams(J);return $.get(tt)}function ct(J){return window.location.pathname.includes(J)}function q(J){return J.some(function(tt){return ct(tt)})}function ft(J){var tt=window.location.pathname.split("/");return tt.some(function($){return $===J})}},6610:(dt,Z,P)=>{"use strict";P.d(Z,{Z9:()=>j,Z6:()=>J,IW:()=>Y});var c=P(1465),E=P(4830),B=window.GM_listValues;function T(gt,xt){var kt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Ct=(0,E.su)("dbVersion");Ct!==xt&&(gt(),!kt&&(0,E.Cj)("dbVersion",xt))}function W(gt){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,kt=B();ot(kt,gt,xt)}function z(gt,xt){var kt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,Ct=B(),Ot=Ct.filter(gt);ot(Ot,xt,kt)}function ot(gt,xt,kt){var Ct=0;gt.forEach(function(Ot){var Yt=(0,E.su)(Ot);kt&&console.log("".concat(Ot,": ").concat(Yt)),xt(Ot,Yt),Ct+=1}),kt&&console.log("Total entries processed: ".concat(Ct))}function ct(gt){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,kt=function(Ot){xt||window.GM_deleteValue(Ot)};z(gt,kt)}var q=P(3832),ft=6;function J(){T(tt,ft,!1)}function tt(){var gt=function(Ct){return Ct.startsWith("product-")},xt=function(Ct,Ot){$(Ct,"lastCheckDate",Ot),U(Ct,"lowestPrice",Ot),U(Ct,"highestPrice",Ot)};z(gt,xt,!0)}function $(gt,xt,kt){var Ct=kt[xt];if(Ct){var Ot=Ct.split(".").map(Number),Yt=(0,c.Z)(Ot,3),$t=Yt[0],Ut=Yt[1],ne=Yt[2],Zt=new Date(ne,Ut-1,$t),qt=Zt.getTime();kt[xt]=qt,(0,E.Cj)(gt,kt)}}function U(gt,xt,kt){var Ct=kt[xt];if(Ct){var Ot=Ct.date,Yt=Ot.split(".").map(Number),$t=(0,c.Z)(Yt,3),Ut=$t[0],ne=$t[1],Zt=$t[2],qt=new Date(Zt,ne-1,Ut),Pt=qt.getTime();Ct.date=Pt,kt[xt]=Ct,(0,E.Cj)(gt,kt)}}function Y(gt,xt){var kt=wt(gt),Ct=(0,E.su)(kt),Ot=Ct?q.u.fromObject(Ct):new q.u;Ot.rating=xt,Ot.updateLastCheckDate(),(0,E.Cj)(kt,Ot),(0,E.Cj)("last-rate-update",Date.now())}function j(gt){var xt,kt=ht(gt);return(xt=kt?.rating)!==null&&xt!==void 0?xt:null}function ht(gt){var xt=wt(gt);return(0,E.su)(xt)}function wt(gt){return"product-".concat(gt)}},7733:(dt,Z,P)=>{"use strict";P.a(dt,async(c,E)=>{try{let gt=function(){return xt.apply(this,arguments)},xt=function(){return xt=(0,B.Z)(W().mark(function ne(){return W().wrap(function(qt){for(;;)switch(qt.prev=qt.next){case 0:j=j.then(Ot);case 1:case"end":return qt.stop()}},ne)})),xt.apply(this,arguments)},kt=function(){return wt.classList.contains("vsc-initialized")},Ct=function(){var ne=new MutationObserver((0,B.Z)(W().mark(function Zt(){return W().wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:if(!kt()){Pt.next=4;break}return ne.disconnect(),Pt.next=4,gt();case 4:case"end":return Pt.stop()}},Zt)})));ne.observe(wt,{attributes:!0,attributeFilter:["class"]})},Ot=function(){return Yt.apply(this,arguments)},Yt=function(){return Yt=(0,B.Z)(W().mark(function ne(){var Zt;return W().wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:if(!(0,ft.Ul)("gocheckout")){Pt.next=3;break}return(0,$.U)(),Pt.abrupt("return");case 3:if(!(0,ft.Ul)("cart")){Pt.next=6;break}return(0,$.A)(),Pt.abrupt("return");case 6:return Pt.next=8,$t();case 8:if(!ct.m){Pt.next=11;break}return(0,ct.K)(),Pt.abrupt("return");case 11:if(!(0,ft.Ul)("reviews")){Pt.next=15;break}return Zt=(0,J.tk)(Y),Zt&&Zt.scrollIntoView(),Pt.abrupt("return");case 15:if(!(0,ft.Ul)("product")){Pt.next=19;break}return Pt.next=18,(0,q.T)();case 18:return Pt.abrupt("return");case 19:if(!(0,ft.Ul)("favorites")){Pt.next=22;break}return Pt.next=22,(0,ot.O)();case 22:case"end":return Pt.stop()}},ne)})),Yt.apply(this,arguments)},$t=function(){return Ut.apply(this,arguments)},Ut=function(){return Ut=(0,B.Z)(W().mark(function ne(){var Zt;return W().wrap(function(Pt){for(;;)switch(Pt.prev=Pt.next){case 0:return Pt.next=2,(0,z.b)(document,'[data-widget="favoriteCounter"]');case 2:Zt=Pt.sent,Zt&&(Zt.href+="?avail=inStock");case 4:case"end":return Pt.stop()}},ne)})),Ut.apply(this,arguments)};var B=P(5861),T=P(4687),W=P.n(T),z=P(6576),ot=P(5830),ct=P(1570),q=P(370),ft=P(3950),J=P(1557),tt=P(6610),$=P(4464),U=P(1296),Y="#comments";(0,tt.Z6)(),(0,U.Dn)();var j=Promise.resolve(),ht=document,wt=ht.body;kt()?await gt():Ct(),E()}catch(gt){E(gt)}},1)},4464:(dt,Z,P)=>{"use strict";P.d(Z,{A:()=>T,U:()=>B});var c=P(1557),E={AUTO_CHECKOUT:"autoCheckout",AUTO_SKIP_CART:"autoSkipCart",AUTO_RELOAD_CHECKOUT:"autoReloadCheckout",AUTO_CHECKOUT_PROD:"autoCheckoutProd",AUTO_CHECKOUT_GOOD_PRICE:"autoCheckoutGoodPrice"};function B(){ot()&&$()}function T(){if(ct()){J();return}ot()&&tt()}function W(j){var ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",wt=localStorage.getItem(j);return wt!==null?wt:(localStorage.setItem(j,ht),ht)}function z(j){return W(j)==="1"}function ot(){return z(E.AUTO_CHECKOUT)}function ct(){return z(E.AUTO_SKIP_CART)}function q(){return z(E.AUTO_RELOAD_CHECKOUT)}function ft(){return z(E.AUTO_CHECKOUT_PROD)}function J(){var j=U(),ht=Y(j);ht.hasAttribute("disabled")?setTimeout(function(){return window.location.reload()},1500):ht.click()}function tt(){var j=localStorage.getItem(E.AUTO_CHECKOUT_GOOD_PRICE);if(j!==null){console.log("autoCheckoutGoodPrice: ",j);return}if(confirm("\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C \u0446\u0435\u043D\u0443 \u0434\u043B\u044F \u0430\u0432\u0442\u043E\u043F\u043E\u043A\u0443\u043F\u043A\u0438?")){var ht=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u0443\u044E \u0446\u0435\u043D\u0443:");localStorage.setItem(E.AUTO_CHECKOUT_GOOD_PRICE,ht)}}function $(){var j=U(),ht=Y(j);if(ht.hasAttribute("disabled")&&q()){setTimeout(function(){return window.location.reload()},1500);return}var wt=j.children[1].lastElementChild.children[1],gt=(0,c.NI)(wt,!0),xt=localStorage.getItem(E.AUTO_CHECKOUT_GOOD_PRICE);if(xt===null){console.log("No autoCheckoutGoodPrice in localStorage");return}var kt=+xt;gt<=kt?(ft()?(ht.click(),console.log("\u0420\u0435\u0430\u043B\u044C\u043D\u0430\u044F \u043F\u043E\u043A\u0443\u043F\u043A\u0430")):console.log("\u0422\u0435\u0441\u0442\u043E\u0432\u0430\u044F \u043F\u043E\u043A\u0443\u043F\u043A\u0430"),console.log("autoCheckoutGoodPrice: ",kt),console.log("price: ",gt)):(console.log("autoCheckoutGoodPrice: ",kt),console.log("price: ",gt),console.log("\u0414\u043E\u0440\u043E\u0433\u043E!"),q()&&setTimeout(function(){return window.location.reload()},1500))}function U(){var j=(0,c.tk)('[data-widget="total"]');return j.children[0]}function Y(j){return(0,c.tk)("button",j)}},1296:(dt,Z,P)=>{"use strict";P.d(Z,{Dn:()=>kt,I7:()=>tt,Ki:()=>Y,Ro:()=>$,YR:()=>gt,eQ:()=>ot,gD:()=>ct,ig:()=>J,q1:()=>ft,xe:()=>U,yF:()=>xt,yV:()=>j,z1:()=>z,zw:()=>wt});var c=P(4675),E=P(3950),B=P(6598),T=P(9397),W=P(1557),z=".widget-search-result-container > div > div.tile-root",ot='[data-widget="searchResultsSort"]',ct=".tsBody500Medium",q="margin-left: 5px;border: 2px solid #b3bcc5;border-radius: 6px;padding: 6px 10px;",ft=q+"width: 75px;",J=q+"width: 180px;",tt="display: flex;align-items: center;",$="margin-left: 5px;width: 25px;height: 25px;";function U(Ct){var Ot=Ct.getAttribute("href");return(0,E.MP)(Ot,2)}function Y(Ct){var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Yt={display:"inline-flex",alignItems:"center",marginLeft:"auto",color:"rgba(0, 26, 52, 0.6)",cursor:"pointer"},$t=(0,B.EW)(Yt,c.N$);if($t.onclick=function(){window.confirm("\u0412\u044B\u0441\u0442\u0430\u0432\u0438\u0442\u044C \u043D\u0438\u0437\u043A\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043D\u0433?")&&Ct()},Ot){var Ut=(0,B.kQ)({paddingLeft:"8px"},"\u0414\u0438\u0437\u043B\u0430\u0439\u043A");$t.append(Ut)}return $t}function j(Ct,Ot){ht(),Ct.style="display: flex;flex-flow: wrap;grid-gap: 15px;min-width: 1250px;",Ot.style="position: sticky;top: 2px;background-color: #fff;z-index: 2;padding-bottom: 11px;margin-bottom: 0;gap: 15px;"}function ht(){(0,T.q0)("input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button {    -webkit-appearance: auto;}")}function wt(){return(0,W.tk)(".widget-search-result-container").firstChild}function gt(Ct,Ot){Ct.forEach(function(Yt){xt(Yt,Ot)})}function xt(Ct,Ot){Ct.parentNode!==Ot&&Ot.appendChild(Ct)}function kt(){var Ct='[data-widget="bigPromoPDP"],[data-widget="blackFridayStatus"],[data-widget="cellList"],[data-widget="skuGrid"],[data-widget="skuShelfGoods"],[data-widget="tagList"],[data-widget="webInstallmentPurchase"],[data-widget="webOneClickButton"] {   display: none !important;}';(0,T.q0)(Ct)}},4675:(dt,Z,P)=>{"use strict";P.d(Z,{N$:()=>B,jB:()=>c});var c='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 14V4M8 14L4 14V4.00002L8 4M8 14L13.1956 20.0615C13.6886 20.6367 14.4642 20.884 15.1992 20.7002L15.2467 20.6883C16.5885 20.3529 17.1929 18.7894 16.4258 17.6387L14 14H18.5604C19.8225 14 20.7691 12.8454 20.5216 11.6078L19.3216 5.60779C19.1346 4.67294 18.3138 4.00002 17.3604 4.00002L8 4" stroke="#001a3499" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',E=null,B='<svg fill="#001a3499" width="16" height="16" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="M417.84,448a15.94,15.94,0,0,1-11.35-4.72L40.65,75.26A16,16,0,0,1,63.35,52.7l365.83,368A16,16,0,0,1,417.84,448Z"/><path d="M364.92,80c-48.09,0-80,29.55-96.92,51-16.88-21.48-48.83-51-96.92-51a107.37,107.37,0,0,0-31,4.55L168,112c22.26,0,45.81,9,63.94,26.67a123,123,0,0,1,21.75,28.47,16,16,0,0,0,28.6,0,123,123,0,0,1,21.77-28.51C322.19,121,342.66,112,364.92,112c43.15,0,78.62,36.33,79.07,81,.54,53.69-22.75,99.55-57.38,139.52l22.63,22.77c3-3.44,5.7-6.64,8.14-9.6,40-48.75,59.15-98.8,58.61-153C475.37,130.52,425.54,80,364.92,80Z"/><path d="M268,432C180.38,372.51,91,297.6,92,193a83.69,83.69,0,0,1,2.24-18.39L69,149.14a115.1,115.1,0,0,0-9,43.49c-.54,54.22,18.63,104.27,58.61,153,18.77,22.87,52.8,59.45,131.39,112.8a31.84,31.84,0,0,0,36,0c20.35-13.81,37.7-26.5,52.58-38.11l-22.66-22.81C300.25,409.6,284.09,421.05,268,432Z"/></svg>'},5830:(dt,Z,P)=>{"use strict";P.d(Z,{O:()=>Ot});var c=P(9062),E=P(5861),B=P(4687),T=P.n(B),W=P(6576),z=P(1296),ot=P(4830),ct=P(7798),q=P(9144),ft=P(2050),J=P(9397),tt=P(1557),$=P(5935),U=P(9924),Y=P(6332),j='[data-widget="paginator"]',ht=new ot.Yz("favorites-name-filter",null,Ut),wt=new ot.Yz("best-price-filter",!1,Ut),gt=function(){return Ut(!0)},xt=new ot.Yz("price-tolerance-percent",3,gt),kt=new ot.Yz("favorites-filter-enabled",!0,Ut),Ct=Promise.resolve();function Ot(){return Yt.apply(this,arguments)}function Yt(){return Yt=(0,E.Z)(T().mark(function it(){var O,A,G;return T().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return nt.next=2,(0,W.b)(document,z.eQ);case 2:return O=nt.sent,(0,ct.C)(O,$t),nt.next=6,Ut();case 6:A=new MutationObserver((0,W.D)(Ut)),G=(0,tt.tk)(j),A.observe(G,{childList:!0,subtree:!0});case 9:case"end":return nt.stop()}},it)})),Yt.apply(this,arguments)}function $t(it,O){(0,z.yV)(it,O);var A=(0,Y.T5)(ht,(0,tt.wv)(z.I7),(0,tt.wv)(z.ig)),G=(0,ft.XF)("\u041B\u0443\u0447\u0448\u0430\u044F \u0446\u0435\u043D\u0430: ",wt,(0,tt.wv)(z.I7),(0,tt.wv)(z.Ro)),et=(0,ft.xy)("\u0414\u043E\u043F\u0443\u0441\u043A \u0446\u0435\u043D\u044B, %: ",xt,1,0,100,(0,tt.wv)(z.I7),(0,tt.wv)(z.q1)),nt=(0,Y.pN)(kt,(0,tt.wv)(z.I7),(0,tt.wv)(z.Ro));it.append(A,G,et,nt),O.append(it)}function Ut(){return ne.apply(this,arguments)}function ne(){return ne=(0,E.Z)(T().mark(function it(){var O,A=arguments;return T().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:O=A.length>0&&A[0]!==void 0?A[0]:!1,Ct=Ct.then(function(){return Zt(O)});case 2:case"end":return et.stop()}},it)})),ne.apply(this,arguments)}function Zt(){return qt.apply(this,arguments)}function qt(){return qt=(0,E.Z)(T().mark(function it(){var O,A,G,et=arguments;return T().wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:return O=et.length>0&&et[0]!==void 0?et[0]:!1,A=(0,c.Z)((0,tt.DJ)(z.z1)),G=(0,z.zw)(),(0,z.YR)(A,G),yt.next=6,Promise.all(A.map(function(){var zt=(0,E.Z)(T().mark(function jt(Lt){var Gt,ie,ee,V,H;return T().wrap(function(pt){for(;;)switch(pt.prev=pt.next){case 0:if(kt.value){pt.next=3;break}return(0,J.V_)(Lt),pt.abrupt("return");case 3:return pt.next=5,Pt(Lt);case 5:if(O&&Lt.hasAttribute($.Hc)&&Lt.hasAttribute($.hL)&&(Gt=At(Lt).parentNode,(0,U.J)(Gt,Lt,xt.value)),ie=(0,tt.tk)(z.gD,Lt),ie){pt.next=10;break}return(0,J.e6)(Lt),pt.abrupt("return");case 10:ee=ie.innerText,ie.title=ee,V=wt.value?!Lt.hasAttribute($.xo):!1,H=(0,q.J2)(ee,ht)||V,(0,J.OQ)(Lt,H);case 15:case"end":return pt.stop()}},jt)}));return function(jt){return zt.apply(this,arguments)}}()));case 6:case"end":return yt.stop()}},it)})),qt.apply(this,arguments)}function Pt(it){return Tt.apply(this,arguments)}function Tt(){return Tt=(0,E.Z)(T().mark(function it(O){var A,G,et;return T().wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:if(!O.hasAttribute($.qR)){yt.next=2;break}return yt.abrupt("return");case 2:if(A=(0,tt.tk)(".tsBodyControl400Small",O),A?.innerText!=="\u041D\u0435\u0442 \u0432 \u043D\u0430\u043B\u0438\u0447\u0438\u0438"){yt.next=6;break}return O.setAttribute($.qR,""),yt.abrupt("return");case 6:return G=At(O),et=G.parentNode,yt.next=10,te(G,O,et);case 10:O.hasAttribute($.Hc)&&O.hasAttribute($.hL)&&(0,U.J)(et,O,xt.value);case 11:case"end":return yt.stop()}},it)})),Tt.apply(this,arguments)}function At(it){var O;return(it==null||(O=it.children[0])===null||O===void 0||(O=O.children[1])===null||O===void 0||(O=O.children[0])===null||O===void 0?void 0:O.children[0])||null}function te(it,O,A){return Nt.apply(this,arguments)}function Nt(){return Nt=(0,E.Z)(T().mark(function it(O,A,G){var et,nt,yt,zt;return T().wrap(function(Lt){for(;;)switch(Lt.prev=Lt.next){case 0:if(et=(0,tt.tk)("a",A),et){Lt.next=3;break}return Lt.abrupt("return");case 3:return nt=(0,z.xe)(et),yt=(0,tt.tk)("span",O),Lt.next=7,(0,U.L)(O,yt,nt);case 7:zt=Lt.sent,zt&&(A.setAttribute($.Hc,zt.current),A.setAttribute($.hL,zt.lowest),G.style.display="block"),A.setAttribute($.qR,"");case 10:case"end":return Lt.stop()}},it)})),Nt.apply(this,arguments)}},1570:(dt,Z,P)=>{"use strict";P.d(Z,{K:()=>Pt,m:()=>j});var c=P(4830),E=P(6576),B=P(7798),T=P(1296),W=P(3950),z=P(9144),ot=P(2050),ct=P(9397),q=P(1557),ft=P(6610),J=P(6332);function tt(O){for(var A=2166136261,G=16777619,et=A,nt=0;nt<O.length;nt+=1){var yt=O.charCodeAt(nt);et^=yt,et=Math.imul(et,G)}return et>>>0}function $(O){return tt(O).toString(16).padStart(8,"0")}function U(O){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common";return O?$(O):A}var Y="#paginatorContent",j=(0,q.tk)(Y),ht=".tsHeadline500Medium",wt=".tsBodyMBold",gt="dislikeButtonAdded",xt=qt(),kt=new c.Yz("".concat(xt,"-name-filter"),null,At),Ct=new c.Yz("".concat(xt,"-min-reviews-filter"),null,At),Ot=new c.Yz("".concat(xt,"-max-reviews-filter"),null,At),Yt=new c.Yz("".concat(xt,"-min-rating-filter"),4.8,At),$t=new c.Yz("".concat(xt,"-no-rating-filter"),!1,At),Ut=new c.Yz("".concat(xt,"-max-price-filter"),null,At),ne=new c.Yz("".concat(xt,"-filter-enabled"),!0,At),Zt=new c.Yz("name-lines-number",2,At);function qt(){var O;if((0,W.Ul)("search")){var A=(0,W.jw)("text");O=U(A)}else{var G=(0,W.uW)(2,"");O=U(G)}return O}function Pt(){(0,E.b)(document,T.eQ).then(function(O){(0,B.C)(O,Tt),(0,c.vV)("last-rate-update",At),At();var A=new MutationObserver((0,E.D)(At,150));A.observe(j,{childList:!0,subtree:!0})})}function Tt(O,A){(0,T.yV)(O,A);var G=(0,J.T5)(kt,(0,q.wv)(T.I7),(0,q.wv)(T.ig)),et=(0,J.tn)(Ct,(0,q.wv)(T.I7),(0,q.wv)(T.q1)),nt=(0,J.Cf)(Ot,(0,q.wv)(T.I7),(0,q.wv)(T.q1)),yt=(0,J.kc)(Yt,(0,q.wv)(T.I7),(0,q.wv)(T.q1)),zt=(0,J.b3)($t,(0,q.wv)(T.I7),(0,q.wv)(T.Ro)),jt=(0,J.iz)(Ut,(0,q.wv)(T.I7),(0,q.wv)(T.q1),"25"),Lt=(0,J.pN)(ne,(0,q.wv)(T.I7),(0,q.wv)(T.Ro)),Gt=(0,ot.xy)("\u0421\u0442\u0440\u043E\u043A: ",Zt,1,1,10,(0,q.wv)(T.I7),(0,q.wv)(T.q1));O.append(G,et,nt,yt,zt,jt,Lt,Gt),A.append(O)}function At(){var O=(0,q.DJ)(T.z1,j),A=O.length;te(A);var G=(0,T.zw)(),et=0;O.forEach(function(nt){if(!ne.value){(0,ct.V_)(nt),et+=1;return}(0,T.yF)(nt,G);var yt=(0,q.tk)("a",nt);if(!yt){(0,ct.e6)(nt);return}var zt=(0,T.xe)(yt),jt=(0,q.tk)(T.gD,nt),Lt=(0,q.tk)(ht,nt);if(!jt||!Lt){(0,ct.e6)(nt);return}jt.parentNode.style.webkitLineClamp=Zt.value;var Gt=(0,q.NI)(Lt,!0),ie=(0,q.tk)(wt,nt),ee,V;if(ie){var _t=(0,q.DJ)(":scope > span",ie,!0);ee=(0,q.qX)(_t,1,!0);var pt=(0,ft.Z9)(zt);pt?(V=pt,_t[0].children[1].textContent=pt.toString().padEnd(5)):V=(0,q.qX)(_t,0),Nt(ie,zt)}else{var H=Ct.value||Ot.value||Yt.value;if(H&&!$t.value){(0,ct.e6)(nt);return}}var Bt=jt.innerText;jt.title=Bt;var Ft=(0,z.J2)(Bt,kt)||(0,z.E1)(ee,Ct)||(0,z.YY)(ee,Ot)||(0,z.E1)(V,Yt)||(0,z.YY)(Gt,Ut);(0,ct.OQ)(nt,Ft),Ft||(et+=1)}),console.log("\u041E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043E: ".concat(et," \u0438\u0437 ").concat(A))}function te(O){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:36;O===A||window.location.search.includes("text")||console.warn("\u041E\u0437\u043E\u043D \u043F\u0440\u0435\u0434\u043E\u0441\u0442\u0430\u0432\u0438\u043B ".concat(O," \u043F\u043E\u0437\u0438\u0446\u0438\u0439 \u0438\u0437 ").concat(A))}function Nt(O,A){if(!O.hasAttribute(gt)){O.style="display: flex; width: 100%";var G=(0,T.Ki)(function(){return it(A)},!1);O.append(G),O.setAttribute(gt,"")}}function it(O){(0,ft.IW)(O,1),At()}},370:(dt,Z,P)=>{"use strict";P.d(Z,{T:()=>Y});var c=P(9062),E=P(5861),B=P(4687),T=P.n(B),W=P(6576),z=P(1296),ot=P(4675),ct=P(3950),q=P(6598),ft=P(9397),J=P(1557),tt=P(6610),$=P(9924),U='[data-widget="webSingleProductScore"]';function Y(){return j.apply(this,arguments)}function j(){return j=(0,E.Z)(T().mark(function O(){var A;return T().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return et.next=2,Promise.all([ht(),gt(),Nt()]);case 2:return et.next=4,(0,W.b)(document,"".concat(U));case 4:if(A=et.sent,A){et.next=7;break}return et.abrupt("return");case 7:return Ct(A),Ut(A),et.next=11,ne(Tt(A));case 11:case"end":return et.stop()}},O)})),j.apply(this,arguments)}function ht(){return wt.apply(this,arguments)}function wt(){return wt=(0,E.Z)(T().mark(function O(){var A,G,et;return T().wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:return yt.next=2,(0,W.b)(document,'[data-widget="webPrice"]');case 2:if(A=yt.sent,A){yt.next=5;break}return yt.abrupt("return");case 5:return G=Yt(),et=(0,J.tk)("span",A),yt.next=9,(0,$.L)(A,et,G);case 9:case"end":return yt.stop()}},O)})),wt.apply(this,arguments)}function gt(){return xt.apply(this,arguments)}function xt(){return xt=(0,E.Z)(T().mark(function O(){var A,G;return T().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return nt.next=2,(0,W.b)(document,'[data-widget="webGallery"]');case 2:if(A=nt.sent,A){nt.next=5;break}return nt.abrupt("return");case 5:G=new MutationObserver((0,W.D)(function(){kt(A),G.disconnect()})),G.observe(A,{childList:!0,subtree:!0});case 7:case"end":return nt.stop()}},O)})),xt.apply(this,arguments)}function kt(O){O=(0,J.tk)('[data-widget="webGallery"]');var A=(0,J.tk)('[data-index="0"]',O);if(A){var G=(0,J.tk)('[data-index="1"]',O);if(G){var et=(0,c.Z)(G.classList).every(function(nt){return A.classList.contains(nt)});et||G.click()}}}function Ct(O){var A=(0,q.wC)();A.classList=Ot(O);var G=Tt(O),et=(0,z.Ki)(function(){return $t(G)});A.append(et),(0,ft.BE)(O.parentNode,A)}function Ot(O){return(0,J.tk)(".tsBodyControl500Medium",O).classList}function Yt(){return(0,ct.ML)(2,"unknown")}function $t(O){var A=Yt();(0,tt.IW)(A,1),te(O,1)}function Ut(O){var A=(0,J.tk)("a",O);if(A){var G=(0,q.wC)();G.classList=Ot(O);var et={alignItems:"center",display:"flex",color:"rgba(0, 26, 52, 0.6)"},nt=(0,q.EW)(et,ot.jB,"".concat(A.href,"?sort=score_asc")),yt=(0,q.kQ)({paddingLeft:"8px"},"\u041F\u043B\u043E\u0445\u0438\u0435 \u043E\u0442\u0437\u044B\u0432\u044B");nt.append(yt),G.append(nt),(0,ft.BE)(O.parentNode,G)}}function ne(O){return Zt.apply(this,arguments)}function Zt(){return Zt=(0,E.Z)(T().mark(function O(A){var G,et,nt,yt,zt,jt,Lt,Gt;return T().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return G=Yt(),et=(0,tt.Z9)(G),et&&te(A,et),ee.prev=3,ee.next=6,(0,W.b)(document,'[data-widget="webReviewTabs"]');case 6:return nt=ee.sent,yt=(0,J.DJ)('[data-widget="column"]',nt),zt=yt[2],ee.next=11,(0,W.b)(zt,":scope > div:not([data-widget])");case 11:if(jt=ee.sent,Lt=jt?.children[0],Lt){ee.next=15;break}return ee.abrupt("return");case 15:if(Gt=Pt(Lt),Gt){ee.next=18;break}return ee.abrupt("return");case 18:(0,tt.IW)(G,Gt),te(A,Gt),ee.next=25;break;case 22:ee.prev=22,ee.t0=ee.catch(3),console.error("Error while appending rating value:",ee.t0);case 25:case"end":return ee.stop()}},O,null,[[3,22]])})),Zt.apply(this,arguments)}function qt(O){var A=O.children[0].children[1],G=A.children[0],et=At(G);return et}function Pt(O){var A=O.children[2].children;if(!A)return null;var G=0,et=0;if((0,c.Z)(A).forEach(function(zt){var jt=zt.children[0],Lt=(0,J.NI)(jt,!0),Gt=zt.children[2],ie=(0,J.NI)(Gt),ee=Lt*ie;G+=ie,et+=ee}),!G)return null;var nt=et/G,yt=Math.round((nt+Number.EPSILON)*1e3)/1e3;return yt}function Tt(O){return O.children[0].children[1]}function At(O){var A;try{var G=removeSpaces(O.innerHTML).split("/");A=G.length===2?G[0]:null}catch(et){console.log("Failed to get ratingValue: ".concat(et.message))}return A}function te(O,A){var G,et=O.textContent.split(" \u2022 "),nt=(G=et[1])!==null&&G!==void 0?G:et[0];O.textContent=[A,nt].join(" \u2022 ")}function Nt(){return it.apply(this,arguments)}function it(){return it=(0,E.Z)(T().mark(function O(){var A,G;return T().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return nt.next=2,(0,W.b)(document,'[data-widget="webProductHeading"]');case 2:if(A=nt.sent,A){nt.next=5;break}return nt.abrupt("return");case 5:G=(0,J.tk)("h1",A),G&&(G.style.maxHeight="90px");case 7:case"end":return nt.stop()}},O)})),it.apply(this,arguments)}},7061:(dt,Z,P)=>{var c=P(8698).default;function E(){"use strict";dt.exports=E=function(){return T},dt.exports.__esModule=!0,dt.exports.default=dt.exports;var B,T={},W=Object.prototype,z=W.hasOwnProperty,ot=Object.defineProperty||function(it,O,A){it[O]=A.value},ct=typeof Symbol=="function"?Symbol:{},q=ct.iterator||"@@iterator",ft=ct.asyncIterator||"@@asyncIterator",J=ct.toStringTag||"@@toStringTag";function tt(it,O,A){return Object.defineProperty(it,O,{value:A,enumerable:!0,configurable:!0,writable:!0}),it[O]}try{tt({},"")}catch{tt=function(A,G,et){return A[G]=et}}function $(it,O,A,G){var et=O&&O.prototype instanceof xt?O:xt,nt=Object.create(et.prototype),yt=new te(G||[]);return ot(nt,"_invoke",{value:qt(it,A,yt)}),nt}function U(it,O,A){try{return{type:"normal",arg:it.call(O,A)}}catch(G){return{type:"throw",arg:G}}}T.wrap=$;var Y="suspendedStart",j="suspendedYield",ht="executing",wt="completed",gt={};function xt(){}function kt(){}function Ct(){}var Ot={};tt(Ot,q,function(){return this});var Yt=Object.getPrototypeOf,$t=Yt&&Yt(Yt(Nt([])));$t&&$t!==W&&z.call($t,q)&&(Ot=$t);var Ut=Ct.prototype=xt.prototype=Object.create(Ot);function ne(it){["next","throw","return"].forEach(function(O){tt(it,O,function(A){return this._invoke(O,A)})})}function Zt(it,O){function A(et,nt,yt,zt){var jt=U(it[et],it,nt);if(jt.type!=="throw"){var Lt=jt.arg,Gt=Lt.value;return Gt&&c(Gt)=="object"&&z.call(Gt,"__await")?O.resolve(Gt.__await).then(function(ie){A("next",ie,yt,zt)},function(ie){A("throw",ie,yt,zt)}):O.resolve(Gt).then(function(ie){Lt.value=ie,yt(Lt)},function(ie){return A("throw",ie,yt,zt)})}zt(jt.arg)}var G;ot(this,"_invoke",{value:function(nt,yt){function zt(){return new O(function(jt,Lt){A(nt,yt,jt,Lt)})}return G=G?G.then(zt,zt):zt()}})}function qt(it,O,A){var G=Y;return function(et,nt){if(G===ht)throw Error("Generator is already running");if(G===wt){if(et==="throw")throw nt;return{value:B,done:!0}}for(A.method=et,A.arg=nt;;){var yt=A.delegate;if(yt){var zt=Pt(yt,A);if(zt){if(zt===gt)continue;return zt}}if(A.method==="next")A.sent=A._sent=A.arg;else if(A.method==="throw"){if(G===Y)throw G=wt,A.arg;A.dispatchException(A.arg)}else A.method==="return"&&A.abrupt("return",A.arg);G=ht;var jt=U(it,O,A);if(jt.type==="normal"){if(G=A.done?wt:j,jt.arg===gt)continue;return{value:jt.arg,done:A.done}}jt.type==="throw"&&(G=wt,A.method="throw",A.arg=jt.arg)}}}function Pt(it,O){var A=O.method,G=it.iterator[A];if(G===B)return O.delegate=null,A==="throw"&&it.iterator.return&&(O.method="return",O.arg=B,Pt(it,O),O.method==="throw")||A!=="return"&&(O.method="throw",O.arg=new TypeError("The iterator does not provide a '"+A+"' method")),gt;var et=U(G,it.iterator,O.arg);if(et.type==="throw")return O.method="throw",O.arg=et.arg,O.delegate=null,gt;var nt=et.arg;return nt?nt.done?(O[it.resultName]=nt.value,O.next=it.nextLoc,O.method!=="return"&&(O.method="next",O.arg=B),O.delegate=null,gt):nt:(O.method="throw",O.arg=new TypeError("iterator result is not an object"),O.delegate=null,gt)}function Tt(it){var O={tryLoc:it[0]};1 in it&&(O.catchLoc=it[1]),2 in it&&(O.finallyLoc=it[2],O.afterLoc=it[3]),this.tryEntries.push(O)}function At(it){var O=it.completion||{};O.type="normal",delete O.arg,it.completion=O}function te(it){this.tryEntries=[{tryLoc:"root"}],it.forEach(Tt,this),this.reset(!0)}function Nt(it){if(it||it===""){var O=it[q];if(O)return O.call(it);if(typeof it.next=="function")return it;if(!isNaN(it.length)){var A=-1,G=function et(){for(;++A<it.length;)if(z.call(it,A))return et.value=it[A],et.done=!1,et;return et.value=B,et.done=!0,et};return G.next=G}}throw new TypeError(c(it)+" is not iterable")}return kt.prototype=Ct,ot(Ut,"constructor",{value:Ct,configurable:!0}),ot(Ct,"constructor",{value:kt,configurable:!0}),kt.displayName=tt(Ct,J,"GeneratorFunction"),T.isGeneratorFunction=function(it){var O=typeof it=="function"&&it.constructor;return!!O&&(O===kt||(O.displayName||O.name)==="GeneratorFunction")},T.mark=function(it){return Object.setPrototypeOf?Object.setPrototypeOf(it,Ct):(it.__proto__=Ct,tt(it,J,"GeneratorFunction")),it.prototype=Object.create(Ut),it},T.awrap=function(it){return{__await:it}},ne(Zt.prototype),tt(Zt.prototype,ft,function(){return this}),T.AsyncIterator=Zt,T.async=function(it,O,A,G,et){et===void 0&&(et=Promise);var nt=new Zt($(it,O,A,G),et);return T.isGeneratorFunction(O)?nt:nt.next().then(function(yt){return yt.done?yt.value:nt.next()})},ne(Ut),tt(Ut,J,"Generator"),tt(Ut,q,function(){return this}),tt(Ut,"toString",function(){return"[object Generator]"}),T.keys=function(it){var O=Object(it),A=[];for(var G in O)A.push(G);return A.reverse(),function et(){for(;A.length;){var nt=A.pop();if(nt in O)return et.value=nt,et.done=!1,et}return et.done=!0,et}},T.values=Nt,te.prototype={constructor:te,reset:function(O){if(this.prev=0,this.next=0,this.sent=this._sent=B,this.done=!1,this.delegate=null,this.method="next",this.arg=B,this.tryEntries.forEach(At),!O)for(var A in this)A.charAt(0)==="t"&&z.call(this,A)&&!isNaN(+A.slice(1))&&(this[A]=B)},stop:function(){this.done=!0;var O=this.tryEntries[0].completion;if(O.type==="throw")throw O.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var A=this;function G(Lt,Gt){return yt.type="throw",yt.arg=O,A.next=Lt,Gt&&(A.method="next",A.arg=B),!!Gt}for(var et=this.tryEntries.length-1;et>=0;--et){var nt=this.tryEntries[et],yt=nt.completion;if(nt.tryLoc==="root")return G("end");if(nt.tryLoc<=this.prev){var zt=z.call(nt,"catchLoc"),jt=z.call(nt,"finallyLoc");if(zt&&jt){if(this.prev<nt.catchLoc)return G(nt.catchLoc,!0);if(this.prev<nt.finallyLoc)return G(nt.finallyLoc)}else if(zt){if(this.prev<nt.catchLoc)return G(nt.catchLoc,!0)}else{if(!jt)throw Error("try statement without catch or finally");if(this.prev<nt.finallyLoc)return G(nt.finallyLoc)}}}},abrupt:function(O,A){for(var G=this.tryEntries.length-1;G>=0;--G){var et=this.tryEntries[G];if(et.tryLoc<=this.prev&&z.call(et,"finallyLoc")&&this.prev<et.finallyLoc){var nt=et;break}}nt&&(O==="break"||O==="continue")&&nt.tryLoc<=A&&A<=nt.finallyLoc&&(nt=null);var yt=nt?nt.completion:{};return yt.type=O,yt.arg=A,nt?(this.method="next",this.next=nt.finallyLoc,gt):this.complete(yt)},complete:function(O,A){if(O.type==="throw")throw O.arg;return O.type==="break"||O.type==="continue"?this.next=O.arg:O.type==="return"?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):O.type==="normal"&&A&&(this.next=A),gt},finish:function(O){for(var A=this.tryEntries.length-1;A>=0;--A){var G=this.tryEntries[A];if(G.finallyLoc===O)return this.complete(G.completion,G.afterLoc),At(G),gt}},catch:function(O){for(var A=this.tryEntries.length-1;A>=0;--A){var G=this.tryEntries[A];if(G.tryLoc===O){var et=G.completion;if(et.type==="throw"){var nt=et.arg;At(G)}return nt}}throw Error("illegal catch attempt")},delegateYield:function(O,A,G){return this.delegate={iterator:Nt(O),resultName:A,nextLoc:G},this.method==="next"&&(this.arg=B),gt}},T}dt.exports=E,dt.exports.__esModule=!0,dt.exports.default=dt.exports},8698:dt=>{function Z(P){"@babel/helpers - typeof";return dt.exports=Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},dt.exports.__esModule=!0,dt.exports.default=dt.exports,Z(P)}dt.exports=Z,dt.exports.__esModule=!0,dt.exports.default=dt.exports},4687:(dt,Z,P)=>{var c=P(7061)();dt.exports=c;try{regeneratorRuntime=c}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=c:Function("r","regeneratorRuntime = r")(c)}},907:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>c});function c(E,B){(B==null||B>E.length)&&(B=E.length);for(var T=0,W=Array(B);T<B;T++)W[T]=E[T];return W}},3878:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>c});function c(E){if(Array.isArray(E))return E}},5057:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>E});var c=P(907);function E(B){if(Array.isArray(B))return(0,c.Z)(B)}},7326:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>c});function c(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}},5861:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>E});function c(B,T,W,z,ot,ct,q){try{var ft=B[ct](q),J=ft.value}catch(tt){return void W(tt)}ft.done?T(J):Promise.resolve(J).then(z,ot)}function E(B){return function(){var T=this,W=arguments;return new Promise(function(z,ot){var ct=B.apply(T,W);function q(J){c(ct,z,ot,q,ft,"next",J)}function ft(J){c(ct,z,ot,q,ft,"throw",J)}q(void 0)})}}},5671:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>c});function c(E,B){if(!(E instanceof B))throw new TypeError("Cannot call a class as a function")}},3144:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>B});var c=P(7343);function E(T,W){for(var z=0;z<W.length;z++){var ot=W[z];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(T,(0,c.Z)(ot.key),ot)}}function B(T,W,z){return W&&E(T.prototype,W),z&&E(T,z),Object.defineProperty(T,"prototype",{writable:!1}),T}},4942:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>E});var c=P(7343);function E(B,T,W){return(T=(0,c.Z)(T))in B?Object.defineProperty(B,T,{value:W,enumerable:!0,configurable:!0,writable:!0}):B[T]=W,B}},1120:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>c});function c(E){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},c(E)}},136:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>E});var c=P(9611);function E(B,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(T&&T.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),T&&(0,c.Z)(B,T)}},9199:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>c});function c(E){if(typeof Symbol<"u"&&E[Symbol.iterator]!=null||E["@@iterator"]!=null)return Array.from(E)}},1902:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>c});function c(E,B){var T=E==null?null:typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(T!=null){var W,z,ot,ct,q=[],ft=!0,J=!1;try{if(ot=(T=T.call(E)).next,B===0){if(Object(T)!==T)return;ft=!1}else for(;!(ft=(W=ot.call(T)).done)&&(q.push(W.value),q.length!==B);ft=!0);}catch(tt){J=!0,z=tt}finally{try{if(!ft&&T.return!=null&&(ct=T.return(),Object(ct)!==ct))return}finally{if(J)throw z}}return q}}},5267:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>c});function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},2786:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>c});function c(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},2963:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>B});var c=P(1002),E=P(7326);function B(T,W){if(W&&((0,c.Z)(W)=="object"||typeof W=="function"))return W;if(W!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,E.Z)(T)}},9611:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>c});function c(E,B){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,W){return T.__proto__=W,T},c(E,B)}},1465:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>W});var c=P(3878),E=P(1902),B=P(181),T=P(5267);function W(z,ot){return(0,c.Z)(z)||(0,E.Z)(z,ot)||(0,B.Z)(z,ot)||(0,T.Z)()}},9062:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>W});var c=P(5057),E=P(9199),B=P(181),T=P(2786);function W(z){return(0,c.Z)(z)||(0,E.Z)(z)||(0,B.Z)(z)||(0,T.Z)()}},5512:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>E});var c=P(1002);function E(B,T){if((0,c.Z)(B)!="object"||!B)return B;var W=B[Symbol.toPrimitive];if(W!==void 0){var z=W.call(B,T||"default");if((0,c.Z)(z)!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(B)}},7343:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>B});var c=P(1002),E=P(5512);function B(T){var W=(0,E.Z)(T,"string");return(0,c.Z)(W)=="symbol"?W:W+""}},1002:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>c});function c(E){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},c(E)}},181:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>E});var c=P(907);function E(B,T){if(B){if(typeof B=="string")return(0,c.Z)(B,T);var W={}.toString.call(B).slice(8,-1);return W==="Object"&&B.constructor&&(W=B.constructor.name),W==="Map"||W==="Set"?Array.from(B):W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W)?(0,c.Z)(B,T):void 0}}},6193:(dt,Z,P)=>{"use strict";P.d(Z,{Il:()=>ie});function c(V){return V+.5|0}const E=(V,H,_t)=>Math.max(Math.min(V,_t),H);function B(V){return E(c(V*2.55),0,255)}function T(V){return E(c(V/2.55),0,100)}function W(V){return E(c(V*255),0,255)}function z(V){return E(c(V/2.55)/100,0,1)}function ot(V){return E(c(V*100),0,100)}const ct={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},q=[..."0123456789ABCDEF"],ft=V=>q[V&15],J=V=>q[(V&240)>>4]+q[V&15],tt=V=>(V&240)>>4===(V&15),$=V=>tt(V.r)&&tt(V.g)&&tt(V.b)&&tt(V.a);function U(V){var H=V.length,_t;return V[0]==="#"&&(H===4||H===5?_t={r:255&ct[V[1]]*17,g:255&ct[V[2]]*17,b:255&ct[V[3]]*17,a:H===5?ct[V[4]]*17:255}:(H===7||H===9)&&(_t={r:ct[V[1]]<<4|ct[V[2]],g:ct[V[3]]<<4|ct[V[4]],b:ct[V[5]]<<4|ct[V[6]],a:H===9?ct[V[7]]<<4|ct[V[8]]:255})),_t}const Y=(V,H)=>V<255?H(V):"";function j(V){var H=$(V)?ft:J;return V?"#"+H(V.r)+H(V.g)+H(V.b)+Y(V.a,H):void 0}const ht=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function wt(V,H,_t){const pt=H*Math.min(_t,1-_t),Bt=(Ft,re=(Ft+V/30)%12)=>_t-pt*Math.max(Math.min(re-3,9-re,1),-1);return[Bt(0),Bt(8),Bt(4)]}function gt(V,H,_t){const pt=(Bt,Ft=(Bt+V/60)%6)=>_t-_t*H*Math.max(Math.min(Ft,4-Ft,1),0);return[pt(5),pt(3),pt(1)]}function xt(V,H,_t){const pt=wt(V,1,.5);let Bt;for(H+_t>1&&(Bt=1/(H+_t),H*=Bt,_t*=Bt),Bt=0;Bt<3;Bt++)pt[Bt]*=1-H-_t,pt[Bt]+=H;return pt}function kt(V,H,_t,pt,Bt){return V===Bt?(H-_t)/pt+(H<_t?6:0):H===Bt?(_t-V)/pt+2:(V-H)/pt+4}function Ct(V){const _t=V.r/255,pt=V.g/255,Bt=V.b/255,Ft=Math.max(_t,pt,Bt),re=Math.min(_t,pt,Bt),oe=(Ft+re)/2;let pe,ye,we;return Ft!==re&&(we=Ft-re,ye=oe>.5?we/(2-Ft-re):we/(Ft+re),pe=kt(_t,pt,Bt,we,Ft),pe=pe*60+.5),[pe|0,ye||0,oe]}function Ot(V,H,_t,pt){return(Array.isArray(H)?V(H[0],H[1],H[2]):V(H,_t,pt)).map(W)}function Yt(V,H,_t){return Ot(wt,V,H,_t)}function $t(V,H,_t){return Ot(xt,V,H,_t)}function Ut(V,H,_t){return Ot(gt,V,H,_t)}function ne(V){return(V%360+360)%360}function Zt(V){const H=ht.exec(V);let _t=255,pt;if(!H)return;H[5]!==pt&&(_t=H[6]?B(+H[5]):W(+H[5]));const Bt=ne(+H[2]),Ft=+H[3]/100,re=+H[4]/100;return H[1]==="hwb"?pt=$t(Bt,Ft,re):H[1]==="hsv"?pt=Ut(Bt,Ft,re):pt=Yt(Bt,Ft,re),{r:pt[0],g:pt[1],b:pt[2],a:_t}}function qt(V,H){var _t=Ct(V);_t[0]=ne(_t[0]+H),_t=Yt(_t),V.r=_t[0],V.g=_t[1],V.b=_t[2]}function Pt(V){if(!V)return;const H=Ct(V),_t=H[0],pt=ot(H[1]),Bt=ot(H[2]);return V.a<255?`hsla(${_t}, ${pt}%, ${Bt}%, ${z(V.a)})`:`hsl(${_t}, ${pt}%, ${Bt}%)`}const Tt={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},At={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function te(){const V={},H=Object.keys(At),_t=Object.keys(Tt);let pt,Bt,Ft,re,oe;for(pt=0;pt<H.length;pt++){for(re=oe=H[pt],Bt=0;Bt<_t.length;Bt++)Ft=_t[Bt],oe=oe.replace(Ft,Tt[Ft]);Ft=parseInt(At[re],16),V[oe]=[Ft>>16&255,Ft>>8&255,Ft&255]}return V}let Nt;function it(V){Nt||(Nt=te(),Nt.transparent=[0,0,0,0]);const H=Nt[V.toLowerCase()];return H&&{r:H[0],g:H[1],b:H[2],a:H.length===4?H[3]:255}}const O=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function A(V){const H=O.exec(V);let _t=255,pt,Bt,Ft;if(H){if(H[7]!==pt){const re=+H[7];_t=H[8]?B(re):E(re*255,0,255)}return pt=+H[1],Bt=+H[3],Ft=+H[5],pt=255&(H[2]?B(pt):E(pt,0,255)),Bt=255&(H[4]?B(Bt):E(Bt,0,255)),Ft=255&(H[6]?B(Ft):E(Ft,0,255)),{r:pt,g:Bt,b:Ft,a:_t}}}function G(V){return V&&(V.a<255?`rgba(${V.r}, ${V.g}, ${V.b}, ${z(V.a)})`:`rgb(${V.r}, ${V.g}, ${V.b})`)}const et=V=>V<=.0031308?V*12.92:Math.pow(V,1/2.4)*1.055-.055,nt=V=>V<=.04045?V/12.92:Math.pow((V+.055)/1.055,2.4);function yt(V,H,_t){const pt=nt(z(V.r)),Bt=nt(z(V.g)),Ft=nt(z(V.b));return{r:W(et(pt+_t*(nt(z(H.r))-pt))),g:W(et(Bt+_t*(nt(z(H.g))-Bt))),b:W(et(Ft+_t*(nt(z(H.b))-Ft))),a:V.a+_t*(H.a-V.a)}}function zt(V,H,_t){if(V){let pt=Ct(V);pt[H]=Math.max(0,Math.min(pt[H]+pt[H]*_t,H===0?360:1)),pt=Yt(pt),V.r=pt[0],V.g=pt[1],V.b=pt[2]}}function jt(V,H){return V&&Object.assign(H||{},V)}function Lt(V){var H={r:0,g:0,b:0,a:255};return Array.isArray(V)?V.length>=3&&(H={r:V[0],g:V[1],b:V[2],a:255},V.length>3&&(H.a=W(V[3]))):(H=jt(V,{r:0,g:0,b:0,a:1}),H.a=W(H.a)),H}function Gt(V){return V.charAt(0)==="r"?A(V):Zt(V)}class ie{constructor(H){if(H instanceof ie)return H;const _t=typeof H;let pt;_t==="object"?pt=Lt(H):_t==="string"&&(pt=U(H)||it(H)||Gt(H)),this._rgb=pt,this._valid=!!pt}get valid(){return this._valid}get rgb(){var H=jt(this._rgb);return H&&(H.a=z(H.a)),H}set rgb(H){this._rgb=Lt(H)}rgbString(){return this._valid?G(this._rgb):void 0}hexString(){return this._valid?j(this._rgb):void 0}hslString(){return this._valid?Pt(this._rgb):void 0}mix(H,_t){if(H){const pt=this.rgb,Bt=H.rgb;let Ft;const re=_t===Ft?.5:_t,oe=2*re-1,pe=pt.a-Bt.a,ye=((oe*pe===-1?oe:(oe+pe)/(1+oe*pe))+1)/2;Ft=1-ye,pt.r=255&ye*pt.r+Ft*Bt.r+.5,pt.g=255&ye*pt.g+Ft*Bt.g+.5,pt.b=255&ye*pt.b+Ft*Bt.b+.5,pt.a=re*pt.a+(1-re)*Bt.a,this.rgb=pt}return this}interpolate(H,_t){return H&&(this._rgb=yt(this._rgb,H._rgb,_t)),this}clone(){return new ie(this.rgb)}alpha(H){return this._rgb.a=W(H),this}clearer(H){const _t=this._rgb;return _t.a*=1-H,this}greyscale(){const H=this._rgb,_t=c(H.r*.3+H.g*.59+H.b*.11);return H.r=H.g=H.b=_t,this}opaquer(H){const _t=this._rgb;return _t.a*=1+H,this}negate(){const H=this._rgb;return H.r=255-H.r,H.g=255-H.g,H.b=255-H.b,this}lighten(H){return zt(this._rgb,2,H),this}darken(H){return zt(this._rgb,2,-H),this}saturate(H){return zt(this._rgb,1,H),this}desaturate(H){return zt(this._rgb,1,-H),this}rotate(H){return qt(this._rgb,H),this}}function ee(V){return new ie(V)}},9085:(dt,Z,P)=>{"use strict";P.d(Z,{ZP:()=>E});var c=P(3148);c.kL.register(...c.zX);const E=c.kL},3148:(dt,Z,P)=>{"use strict";P.d(Z,{FK:()=>ot,W_:()=>Se,jI:()=>V,kL:()=>p,zX:()=>co});var c=P(6672);class E{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const r=e.listeners[i],o=e.duration;r.forEach(l=>l({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=c.r.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let o=r.length-1,l=!1,u;for(;o>=0;--o)u=r[o],u._active?(u._total>n.duration&&(n.duration=u._total),u.tick(t),l=!0):(r[o]=r[r.length-1],r.pop());l&&(i.draw(),this._notify(i,n,t,"progress")),r.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var B=new E;const T="transparent",W={boolean(s,t,e){return e>.5?t:s},color(s,t,e){const n=(0,c.c)(s||T),i=n.valid&&(0,c.c)(t||T);return i&&i.valid?i.mix(n,e).hexString():t},number(s,t,e){return s+(t-s)*e}};class z{constructor(t,e,n,i){const r=e[n];i=(0,c.a)([t.to,i,r,t.from]);const o=(0,c.a)([t.from,r,i]);this._active=!0,this._fn=t.fn||W[t.type||typeof o],this._easing=c.e[t.easing]||c.e.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=(0,c.a)([t.to,e,i,t.from]),this._from=(0,c.a)([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,r=this._from,o=this._loop,l=this._to;let u;if(this._active=r!==l&&(o||e<n),!this._active){this._target[i]=l,this._notify(!0);return}if(e<0){this._target[i]=r;return}u=e/n%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(r,l,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}}class ot{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!(0,c.i)(t))return;const e=Object.keys(c.d.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!(0,c.i)(r))return;const o={};for(const l of e)o[l]=r[l];((0,c.b)(r.properties)&&r.properties||[i]).forEach(l=>{(l===i||!n.has(l))&&n.set(l,o)})})}_animateOptions(t,e){const n=e.options,i=q(t,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&ct(t.options.$animations,n).then(()=>{t.options=n},()=>{}),r}_createAnimations(t,e){const n=this._properties,i=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),l=Date.now();let u;for(u=o.length-1;u>=0;--u){const f=o[u];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(t,e));continue}const b=e[f];let v=r[f];const M=n.get(f);if(v)if(M&&v.active()){v.update(M,b,l);continue}else v.cancel();if(!M||!M.duration){t[f]=b;continue}r[f]=v=new z(M,t,f,b),i.push(v)}return i}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const n=this._createAnimations(t,e);if(n.length)return B.add(this._chart,n),!0}}function ct(s,t){const e=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const r=s[n[i]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function q(s,t){if(!t)return;let e=s.options;if(!e){s.options=t;return}return e.$shared&&(s.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function ft(s,t){const e=s&&s.options||{},n=e.reverse,i=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:n?r:i,end:n?i:r}}function J(s,t,e){if(e===!1)return!1;const n=ft(s,e),i=ft(t,e);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function tt(s){let t,e,n,i;return(0,c.i)(s)?(t=s.top,e=s.right,n=s.bottom,i=s.left):t=e=n=i=s,{top:t,right:e,bottom:n,left:i,disabled:s===!1}}function $(s,t){const e=[],n=s._getSortedDatasetMetas(t);let i,r;for(i=0,r=n.length;i<r;++i)e.push(n[i].index);return e}function U(s,t,e,n={}){const i=s.keys,r=n.mode==="single";let o,l,u,f;if(t===null)return;let b=!1;for(o=0,l=i.length;o<l;++o){if(u=+i[o],u===e){if(b=!0,n.all)continue;break}f=s.values[u],(0,c.g)(f)&&(r||t===0||(0,c.s)(t)===(0,c.s)(f))&&(t+=f)}return!b&&!n.all?0:t}function Y(s,t){const{iScale:e,vScale:n}=t,i=e.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",o=Object.keys(s),l=new Array(o.length);let u,f,b;for(u=0,f=o.length;u<f;++u)b=o[u],l[u]={[i]:b,[r]:s[b]};return l}function j(s,t){const e=s&&s.options.stacked;return e||e===void 0&&t.stack!==void 0}function ht(s,t,e){return`${s.id}.${t.id}.${e.stack||e.type}`}function wt(s){const{min:t,max:e,minDefined:n,maxDefined:i}=s.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?e:Number.POSITIVE_INFINITY}}function gt(s,t,e){const n=s[t]||(s[t]={});return n[e]||(n[e]={})}function xt(s,t,e,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const r=s[i.index];if(e&&r>0||!e&&r<0)return i.index}return null}function kt(s,t){const{chart:e,_cachedMeta:n}=s,i=e._stacks||(e._stacks={}),{iScale:r,vScale:o,index:l}=n,u=r.axis,f=o.axis,b=ht(r,o,n),v=t.length;let M;for(let k=0;k<v;++k){const I=t[k],{[u]:N,[f]:st}=I,Q=I._stacks||(I._stacks={});M=Q[f]=gt(i,b,N),M[l]=st,M._top=xt(M,o,!0,n.type),M._bottom=xt(M,o,!1,n.type);const at=M._visualValues||(M._visualValues={});at[l]=st}}function Ct(s,t){const e=s.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function Ot(s,t){return(0,c.j)(s,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Yt(s,t,e){return(0,c.j)(s,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function $t(s,t){const e=s.controller.index,n=s.vScale&&s.vScale.axis;if(n){t=t||s._parsed;for(const i of t){const r=i._stacks;if(!r||r[n]===void 0||r[n][e]===void 0)return;delete r[n][e],r[n]._visualValues!==void 0&&r[n]._visualValues[e]!==void 0&&delete r[n]._visualValues[e]}}}const Ut=s=>s==="reset"||s==="none",ne=(s,t)=>t?s:Object.assign({},s),Zt=(s,t,e)=>s&&!t.hidden&&t._stacked&&{keys:$(e,!0),values:null};class qt{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=j(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&$t(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(v,M,k,I)=>v==="x"?M:v==="r"?I:k,r=e.xAxisID=(0,c.v)(n.xAxisID,Ct(t,"x")),o=e.yAxisID=(0,c.v)(n.yAxisID,Ct(t,"y")),l=e.rAxisID=(0,c.v)(n.rAxisID,Ct(t,"r")),u=e.indexAxis,f=e.iAxisID=i(u,r,o,l),b=e.vAxisID=i(u,o,r,l);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(l),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(b)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&(0,c.u)(this._data,this),t._stacked&&$t(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if((0,c.i)(e)){const i=this._cachedMeta;this._data=Y(e,i)}else if(n!==e){if(n){(0,c.u)(n,this);const i=this._cachedMeta;$t(i),i._parsed=[]}e&&Object.isExtensible(e)&&(0,c.l)(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=e._stacked;e._stacked=j(e.vScale,e),e.stack!==n.stack&&(i=!0,$t(e),e.stack=n.stack),this._resyncElements(t),(i||r!==e._stacked)&&(kt(this,e._parsed),e._stacked=j(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:o}=n,l=r.axis;let u=t===0&&e===i.length?!0:n._sorted,f=t>0&&n._parsed[t-1],b,v,M;if(this._parsing===!1)n._parsed=i,n._sorted=!0,M=i;else{(0,c.b)(i[t])?M=this.parseArrayData(n,i,t,e):(0,c.i)(i[t])?M=this.parseObjectData(n,i,t,e):M=this.parsePrimitiveData(n,i,t,e);const k=()=>v[l]===null||f&&v[l]<f[l];for(b=0;b<e;++b)n._parsed[b+t]=v=M[b],u&&(k()&&(u=!1),f=v);n._sorted=u}o&&kt(this,M)}parsePrimitiveData(t,e,n,i){const{iScale:r,vScale:o}=t,l=r.axis,u=o.axis,f=r.getLabels(),b=r===o,v=new Array(i);let M,k,I;for(M=0,k=i;M<k;++M)I=M+n,v[M]={[l]:b||r.parse(f[I],I),[u]:o.parse(e[I],I)};return v}parseArrayData(t,e,n,i){const{xScale:r,yScale:o}=t,l=new Array(i);let u,f,b,v;for(u=0,f=i;u<f;++u)b=u+n,v=e[b],l[u]={x:r.parse(v[0],b),y:o.parse(v[1],b)};return l}parseObjectData(t,e,n,i){const{xScale:r,yScale:o}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,f=new Array(i);let b,v,M,k;for(b=0,v=i;b<v;++b)M=b+n,k=e[M],f[b]={x:r.parse((0,c.f)(k,l),M),y:o.parse((0,c.f)(k,u),M)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const i=this.chart,r=this._cachedMeta,o=e[t.axis],l={keys:$(i,!0),values:e._stacks[t.axis]._visualValues};return U(l,o,r.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const r=n[e.axis];let o=r===null?NaN:r;const l=i&&n._stacks[e.axis];i&&l&&(i.values=l,o=U(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&t===n.iScale,o=i.length,l=this._getOtherScale(t),u=Zt(e,n,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:b,max:v}=wt(l);let M,k;function I(){k=i[M];const N=k[l.axis];return!(0,c.g)(k[t.axis])||b>N||v<N}for(M=0;M<o&&!(!I()&&(this.updateRangeFromParsed(f,t,k,u),r));++M);if(r){for(M=o-1;M>=0;--M)if(!I()){this.updateRangeFromParsed(f,t,k,u);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i][t.axis],(0,c.g)(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=tt((0,c.v)(this.options.clip,J(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,i=n.data||[],r=e.chartArea,o=[],l=this._drawStart||0,u=this._drawCount||i.length-l,f=this.options.drawActiveElementsOnTop;let b;for(n.dataset&&n.dataset.draw(t,r,l,u),b=l;b<l+u;++b){const v=i[b];v.hidden||(v.active&&f?o.push(v):v.draw(t,r))}for(b=0;b<o.length;++b)o[b].draw(t,r)}getStyle(t,e){const n=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=Yt(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=Ot(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const i=e==="active",r=this._cachedDataOpts,o=t+"-"+e,l=r[o],u=this.enableOptionSharing&&(0,c.h)(n);if(l)return ne(l,u);const f=this.chart.config,b=f.datasetElementScopeKeys(this._type,t),v=i?[`${t}Hover`,"hover",t,""]:[t,""],M=f.getOptionScopes(this.getDataset(),b),k=Object.keys(c.d.elements[t]),I=()=>this.getContext(n,i,e),N=f.resolveNamedOptions(M,k,I,v);return N.$shared&&(N.$shared=u,r[o]=Object.freeze(ne(N,u))),N}_resolveAnimations(t,e,n){const i=this.chart,r=this._cachedDataOpts,o=`animation-${e}`,l=r[o];if(l)return l;let u;if(i.options.animation!==!1){const b=this.chart.config,v=b.datasetAnimationScopeKeys(this._type,e),M=b.getOptionScopes(this.getDataset(),v);u=b.createResolver(M,this.getContext(t,n,e))}const f=new ot(i,u&&u.animations);return u&&u._cacheable&&(r[o]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Ut(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),i=this._sharedOptions,r=this.getSharedOptions(n),o=this.includeOptions(e,r)||r!==i;return this.updateSharedOptions(r,e,n),{sharedOptions:r,includeOptions:o}}updateElement(t,e,n,i){Ut(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!Ut(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const r=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[l,u,f]of this._syncList)this[l](u,f);this._syncList=[];const i=n.length,r=e.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,e,n=!0){const i=this._cachedMeta,r=i.data,o=t+e;let l;const u=f=>{for(f.length+=e,l=f.length-1;l>=o;l--)f[l]=f[l-e]};for(u(r),l=t;l<o;++l)r[l]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(t,e),n&&this.updateElements(r,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&$t(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Pt(s,t){if(!s._cache.$bar){const e=s.getMatchingVisibleMetas(t);let n=[];for(let i=0,r=e.length;i<r;i++)n=n.concat(e[i].controller.getAllParsedValues(s));s._cache.$bar=(0,c._)(n.sort((i,r)=>i-r))}return s._cache.$bar}function Tt(s){const t=s.iScale,e=Pt(t,s.type);let n=t._length,i,r,o,l;const u=()=>{o===32767||o===-32768||((0,c.h)(l)&&(n=Math.min(n,Math.abs(o-l)||n)),l=o)};for(i=0,r=e.length;i<r;++i)o=t.getPixelForValue(e[i]),u();for(l=void 0,i=0,r=t.ticks.length;i<r;++i)o=t.getPixelForTick(i),u();return n}function At(s,t,e,n){const i=e.barThickness;let r,o;return(0,c.k)(i)?(r=t.min*e.categoryPercentage,o=e.barPercentage):(r=i*n,o=1),{chunk:r/n,ratio:o,start:t.pixels[s]-r/2}}function te(s,t,e,n){const i=t.pixels,r=i[s];let o=s>0?i[s-1]:null,l=s<i.length-1?i[s+1]:null;const u=e.categoryPercentage;o===null&&(o=r-(l===null?t.end-t.start:l-r)),l===null&&(l=r+r-o);const f=r-(r-Math.min(o,l))/2*u;return{chunk:Math.abs(l-o)/2*u/n,ratio:e.barPercentage,start:f}}function Nt(s,t,e,n){const i=e.parse(s[0],n),r=e.parse(s[1],n),o=Math.min(i,r),l=Math.max(i,r);let u=o,f=l;Math.abs(o)>Math.abs(l)&&(u=l,f=o),t[e.axis]=f,t._custom={barStart:u,barEnd:f,start:i,end:r,min:o,max:l}}function it(s,t,e,n){return(0,c.b)(s)?Nt(s,t,e,n):t[e.axis]=e.parse(s,n),t}function O(s,t,e,n){const i=s.iScale,r=s.vScale,o=i.getLabels(),l=i===r,u=[];let f,b,v,M;for(f=e,b=e+n;f<b;++f)M=t[f],v={},v[i.axis]=l||i.parse(o[f],f),u.push(it(M,v,r,f));return u}function A(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function G(s,t,e){return s!==0?(0,c.s)(s):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function et(s){let t,e,n,i,r;return s.horizontal?(t=s.base>s.x,e="left",n="right"):(t=s.base<s.y,e="bottom",n="top"),t?(i="end",r="start"):(i="start",r="end"),{start:e,end:n,reverse:t,top:i,bottom:r}}function nt(s,t,e,n){let i=t.borderSkipped;const r={};if(!i){s.borderSkipped=r;return}if(i===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:u,top:f,bottom:b}=et(s);i==="middle"&&e&&(s.enableBorderRadius=!0,(e._top||0)===n?i=f:(e._bottom||0)===n?i=b:(r[yt(b,o,l,u)]=!0,i=f)),r[yt(i,o,l,u)]=!0,s.borderSkipped=r}function yt(s,t,e,n){return n?(s=zt(s,t,e),s=jt(s,e,t)):s=jt(s,t,e),s}function zt(s,t,e){return s===t?e:s===e?t:s}function jt(s,t,e){return s==="start"?t:s==="end"?e:s}function Lt(s,{inflateAmount:t},e){s.inflateAmount=t==="auto"?e===1?.33:0:t}class Gt extends qt{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,n,i){return O(t,e,n,i)}parseArrayData(t,e,n,i){return O(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:r,vScale:o}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,f=r.axis==="x"?l:u,b=o.axis==="x"?l:u,v=[];let M,k,I,N;for(M=n,k=n+i;M<k;++M)N=e[M],I={},I[r.axis]=r.parse((0,c.f)(N,f),M),v.push(it((0,c.f)(N,b),I,o,M));return v}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const r=n._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,r=this.getParsed(t),o=r._custom,l=A(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),f=l.isHorizontal(),b=this._getRuler(),{sharedOptions:v,includeOptions:M}=this._getSharedOptions(e,i);for(let k=e;k<e+n;k++){const I=this.getParsed(k),N=r||(0,c.k)(I[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(k),st=this._calculateBarIndexPixels(k,b),Q=(I._stacks||{})[l.axis],at={horizontal:f,base:N.base,enableBorderRadius:!Q||A(I._custom)||o===Q._top||o===Q._bottom,x:f?N.head:st.center,y:f?st.center:N.head,height:f?st.size:Math.abs(N.size),width:f?Math.abs(N.size):st.size};M&&(at.options=v||this.resolveDataElementOptions(k,t[k].active?"active":i));const vt=at.options||t[k].options;nt(at,vt,Q,o),Lt(at,vt,b.ratio),this.updateElement(t[k],k,at,i)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(b=>b.controller.options.grouped),r=n.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(e),u=l&&l[n.axis],f=b=>{const v=b._parsed.find(k=>k[n.axis]===u),M=v&&v[b.vScale.axis];if((0,c.k)(M)||isNaN(M))return!0};for(const b of i)if(!(e!==void 0&&f(b))&&((r===!1||o.indexOf(b.stack)===-1||r===void 0&&b.stack===void 0)&&o.push(b.stack),b.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const i=this._getStacks(t,n),r=e!==void 0?i.indexOf(e):-1;return r===-1?i.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let r,o;for(r=0,o=e.data.length;r<o;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const l=t.barThickness;return{min:l||Tt(e),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:i},options:{base:r,minBarLength:o}}=this,l=r||0,u=this.getParsed(t),f=u._custom,b=A(f);let v=u[e.axis],M=0,k=n?this.applyStack(e,u,n):v,I,N;k!==v&&(M=k-v,k=v),b&&(v=f.barStart,k=f.barEnd-f.barStart,v!==0&&(0,c.s)(v)!==(0,c.s)(f.barEnd)&&(M=0),M+=v);const st=!(0,c.k)(r)&&!b?r:M;let Q=e.getPixelForValue(st);if(this.chart.getDataVisibility(t)?I=e.getPixelForValue(M+k):I=Q,N=I-Q,Math.abs(N)<o){N=G(N,e,l)*o,v===l&&(Q-=N/2);const at=e.getPixelForDecimal(0),vt=e.getPixelForDecimal(1),mt=Math.min(at,vt),ut=Math.max(at,vt);Q=Math.max(Math.min(Q,ut),mt),I=Q+N,n&&!b&&(u._stacks[e.axis]._visualValues[i]=e.getValueForPixel(I)-e.getValueForPixel(Q))}if(Q===e.getPixelForValue(l)){const at=(0,c.s)(N)*e.getLineWidthForValue(l)/2;Q+=at,N-=at}return{size:N,base:Q,head:I,center:I+N/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,r=i.skipNull,o=(0,c.v)(i.maxBarThickness,1/0);let l,u;if(e.grouped){const f=r?this._getStackCount(t):e.stackCount,b=i.barThickness==="flex"?te(t,e,i,f):At(t,e,i,f),v=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);l=b.start+b.chunk*v+b.chunk/2,u=Math.min(o,b.chunk*b.ratio)}else l=n.getPixelForValue(this.getParsed(t)[n.axis],t),u=Math.min(o,e.min*e.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let r=0;for(;r<i;++r)this.getParsed(r)[e.axis]!==null&&!n[r].hidden&&n[r].draw(this._ctx)}}class ie extends qt{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,i){const r=super.parsePrimitiveData(t,e,n,i);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+n).radius;return r}parseArrayData(t,e,n,i){const r=super.parseArrayData(t,e,n,i);for(let o=0;o<r.length;o++){const l=e[n+o];r[o]._custom=(0,c.v)(l[2],this.resolveDataElementOptions(o+n).radius)}return r}parseObjectData(t,e,n,i){const r=super.parseObjectData(t,e,n,i);for(let o=0;o<r.length;o++){const l=e[n+o];r[o]._custom=(0,c.v)(l&&l.r&&+l.r,this.resolveDataElementOptions(o+n).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,o=this.getParsed(t),l=i.getLabelForValue(o.x),u=r.getLabelForValue(o.y),f=o._custom;return{label:n[t]||"",value:"("+l+", "+u+(f?", "+f:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,i){const r=i==="reset",{iScale:o,vScale:l}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(e,i),b=o.axis,v=l.axis;for(let M=e;M<e+n;M++){const k=t[M],I=!r&&this.getParsed(M),N={},st=N[b]=r?o.getPixelForDecimal(.5):o.getPixelForValue(I[b]),Q=N[v]=r?l.getBasePixel():l.getPixelForValue(I[v]);N.skip=isNaN(st)||isNaN(Q),f&&(N.options=u||this.resolveDataElementOptions(M,k.active?"active":i),r&&(N.options.radius=0)),this.updateElement(k,M,N,i)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return e!=="active"&&(i.radius=0),i.radius+=(0,c.v)(n&&n._custom,r),i}}function ee(s,t,e){let n=1,i=1,r=0,o=0;if(t<c.T){const l=s,u=l+t,f=Math.cos(l),b=Math.sin(l),v=Math.cos(u),M=Math.sin(u),k=(vt,mt,ut)=>(0,c.p)(vt,l,u,!0)?1:Math.max(mt,mt*e,ut,ut*e),I=(vt,mt,ut)=>(0,c.p)(vt,l,u,!0)?-1:Math.min(mt,mt*e,ut,ut*e),N=k(0,f,v),st=k(c.H,b,M),Q=I(c.P,f,v),at=I(c.P+c.H,b,M);n=(N-Q)/2,i=(st-at)/2,r=-(N+Q)/2,o=-(st+at)/2}return{ratioX:n,ratioY:i,offsetX:r,offsetY:o}}class V extends qt{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map((r,o)=>{const u=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let r=u=>+n[u];if((0,c.i)(n[t])){const{key:u="value"}=this._parsing;r=f=>+(0,c.f)(n[f],u)}let o,l;for(o=t,l=t+e;o<l;++o)i._parsed[o]=r(o)}}_getRotation(){return(0,c.t)(this.options.rotation-90)}_getCircumference(){return(0,c.t)(this.options.circumference)}_getRotationExtents(){let t=c.T,e=-c.T;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),o=i._getCircumference();t=Math.min(t,r),e=Math.max(e,r+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-o)/2,0),u=Math.min((0,c.m)(this.options.cutout,l),1),f=this._getRingWeight(this.index),{circumference:b,rotation:v}=this._getRotationExtents(),{ratioX:M,ratioY:k,offsetX:I,offsetY:N}=ee(v,b,u),st=(n.width-o)/M,Q=(n.height-o)/k,at=Math.max(Math.min(st,Q)/2,0),vt=(0,c.n)(this.options.radius,at),mt=Math.max(vt*u,0),ut=(vt-mt)/this._getVisibleDatasetWeightTotal();this.offsetX=I*vt,this.offsetY=N*vt,i.total=this.calculateTotal(),this.outerRadius=vt-ut*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-ut*f,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/c.T)}updateElements(t,e,n,i){const r=i==="reset",o=this.chart,l=o.chartArea,f=o.options.animation,b=(l.left+l.right)/2,v=(l.top+l.bottom)/2,M=r&&f.animateScale,k=M?0:this.innerRadius,I=M?0:this.outerRadius,{sharedOptions:N,includeOptions:st}=this._getSharedOptions(e,i);let Q=this._getRotation(),at;for(at=0;at<e;++at)Q+=this._circumference(at,r);for(at=e;at<e+n;++at){const vt=this._circumference(at,r),mt=t[at],ut={x:b+this.offsetX,y:v+this.offsetY,startAngle:Q,endAngle:Q+vt,circumference:vt,outerRadius:I,innerRadius:k};st&&(ut.options=N||this.resolveDataElementOptions(at,mt.active?"active":i)),Q+=vt,this.updateElement(mt,at,ut,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n=0,i;for(i=0;i<e.length;i++){const r=t._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!e[i].hidden&&(n+=Math.abs(r))}return n}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?c.T*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=(0,c.o)(e._parsed[t],n.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const n=this.chart;let i,r,o,l,u;if(!t){for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),t=o.data,l=o.controller;break}}if(!t)return 0;for(i=0,r=t.length;i<r;++i)u=l.resolveDataElementOptions(i),u.borderAlign!=="inner"&&(e=Math.max(e,u.borderWidth||0,u.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,i=t.length;n<i;++n){const r=this.resolveDataElementOptions(n);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max((0,c.v)(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class H extends qt{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=e,o=this.chart._animationsDisabled;let{start:l,count:u}=(0,c.q)(e,i,o);this._drawStart=l,this._drawCount=u,(0,c.w)(e)&&(l=0,u=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:f},t),this.updateElements(i,l,u,t)}updateElements(t,e,n,i){const r=i==="reset",{iScale:o,vScale:l,_stacked:u,_dataset:f}=this._cachedMeta,{sharedOptions:b,includeOptions:v}=this._getSharedOptions(e,i),M=o.axis,k=l.axis,{spanGaps:I,segment:N}=this.options,st=(0,c.x)(I)?I:Number.POSITIVE_INFINITY,Q=this.chart._animationsDisabled||r||i==="none",at=e+n,vt=t.length;let mt=e>0&&this.getParsed(e-1);for(let ut=0;ut<vt;++ut){const St=t[ut],Et=Q?St:{};if(ut<e||ut>=at){Et.skip=!0;continue}const Dt=this.getParsed(ut),Kt=(0,c.k)(Dt[k]),Qt=Et[M]=o.getPixelForValue(Dt[M],ut),Jt=Et[k]=r||Kt?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,Dt,u):Dt[k],ut);Et.skip=isNaN(Qt)||isNaN(Jt)||Kt,Et.stop=ut>0&&Math.abs(Dt[M]-mt[M])>st,N&&(Et.parsed=Dt,Et.raw=f.data[ut]),v&&(Et.options=b||this.resolveDataElementOptions(ut,St.active?"active":i)),Q||this.updateElement(St,ut,Et,i),mt=Dt}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class _t extends qt{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map((r,o)=>{const u=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=(0,c.o)(e._parsed[t].r,n.options.locale);return{label:i[t]||"",value:r}}parseObjectData(t,e,n,i){return c.y.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,i)=>{const r=this.getParsed(i).r;!isNaN(r)&&this.chart.getDataVisibility(i)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(i/2,0),o=Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0),l=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,e,n,i){const r=i==="reset",o=this.chart,u=o.options.animation,f=this._cachedMeta.rScale,b=f.xCenter,v=f.yCenter,M=f.getIndexAngle(0)-.5*c.P;let k=M,I;const N=360/this.countVisibleElements();for(I=0;I<e;++I)k+=this._computeAngle(I,i,N);for(I=e;I<e+n;I++){const st=t[I];let Q=k,at=k+this._computeAngle(I,i,N),vt=o.getDataVisibility(I)?f.getDistanceFromCenterForValue(this.getParsed(I).r):0;k=at,r&&(u.animateScale&&(vt=0),u.animateRotate&&(Q=at=M));const mt={x:b,y:v,innerRadius:0,outerRadius:vt,startAngle:Q,endAngle:at,options:this.resolveDataElementOptions(I,st.active?"active":i)};this.updateElement(st,I,mt,i)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++}),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?(0,c.t)(this.resolveDataElementOptions(t,e).angle||n):0}}class pt extends V{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class Bt extends qt{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,i){return c.y.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta,n=e.dataset,i=e.data||[],r=e.iScale.getLabels();if(n.points=i,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const l={_loop:!0,_fullLoop:r.length===i.length,options:o};this.updateElement(n,void 0,l,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,n,i){const r=this._cachedMeta.rScale,o=i==="reset";for(let l=e;l<e+n;l++){const u=t[l],f=this.resolveDataElementOptions(l,u.active?"active":i),b=r.getPointPositionForValue(l,this.getParsed(l).r),v=o?r.xCenter:b.x,M=o?r.yCenter:b.y,k={x:v,y:M,angle:b.angle,skip:isNaN(v)||isNaN(M),options:f};this.updateElement(u,l,k,i)}}}class Ft extends qt{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,o=this.getParsed(t),l=i.getLabelForValue(o.x),u=r.getLabelForValue(o.y);return{label:n[t]||"",value:"("+l+", "+u+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,i=this.chart._animationsDisabled;let{start:r,count:o}=(0,c.q)(e,n,i);if(this._drawStart=r,this._drawCount=o,(0,c.w)(e)&&(r=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:u}=e;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!u._decimated,l.points=n;const f=this.resolveDatasetElementOptions(t);f.segment=this.options.segment,this.updateElement(l,void 0,{animated:!i,options:f},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,i){const r=i==="reset",{iScale:o,vScale:l,_stacked:u,_dataset:f}=this._cachedMeta,b=this.resolveDataElementOptions(e,i),v=this.getSharedOptions(b),M=this.includeOptions(i,v),k=o.axis,I=l.axis,{spanGaps:N,segment:st}=this.options,Q=(0,c.x)(N)?N:Number.POSITIVE_INFINITY,at=this.chart._animationsDisabled||r||i==="none";let vt=e>0&&this.getParsed(e-1);for(let mt=e;mt<e+n;++mt){const ut=t[mt],St=this.getParsed(mt),Et=at?ut:{},Dt=(0,c.k)(St[I]),Kt=Et[k]=o.getPixelForValue(St[k],mt),Qt=Et[I]=r||Dt?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,St,u):St[I],mt);Et.skip=isNaN(Kt)||isNaN(Qt)||Dt,Et.stop=mt>0&&Math.abs(St[k]-vt[k])>Q,st&&(Et.parsed=St,Et.raw=f.data[mt]),M&&(Et.options=v||this.resolveDataElementOptions(mt,ut.active?"active":i)),at||this.updateElement(ut,mt,Et,i),vt=St}this.updateSharedOptions(v,i,b)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let l=0;for(let u=e.length-1;u>=0;--u)l=Math.max(l,e[u].size(this.resolveDataElementOptions(u))/2);return l>0&&l}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!e.length)return i;const r=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,r,o)/2}}var re=Object.freeze({__proto__:null,BarController:Gt,BubbleController:ie,DoughnutController:V,LineController:H,PieController:pt,PolarAreaController:_t,RadarController:Bt,ScatterController:Ft});function oe(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class pe{static override(t){Object.assign(pe.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return oe()}parse(){return oe()}format(){return oe()}add(){return oe()}diff(){return oe()}startOf(){return oe()}endOf(){return oe()}}var ye={_date:pe};function we(s,t,e,n){const{controller:i,data:r,_sorted:o}=s,l=i._cachedMeta.iScale;if(l&&t===l.axis&&t!=="r"&&o&&r.length){const u=l._reversePixels?c.A:c.B;if(n){if(i._sharedOptions){const f=r[0],b=typeof f.getRange=="function"&&f.getRange(t);if(b){const v=u(r,t,e-b),M=u(r,t,e+b);return{lo:v.lo,hi:M.hi}}}}else return u(r,t,e)}return{lo:0,hi:r.length-1}}function ve(s,t,e,n,i){const r=s.getSortedVisibleDatasetMetas(),o=e[t];for(let l=0,u=r.length;l<u;++l){const{index:f,data:b}=r[l],{lo:v,hi:M}=we(r[l],t,o,i);for(let k=v;k<=M;++k){const I=b[k];I.skip||n(I,f,k)}}}function Wn(s){const t=s.indexOf("x")!==-1,e=s.indexOf("y")!==-1;return function(n,i){const r=t?Math.abs(n.x-i.x):0,o=e?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Ue(s,t,e,n,i){const r=[];return!i&&!s.isPointInArea(t)||ve(s,e,t,function(l,u,f){!i&&!(0,c.C)(l,s.chartArea,0)||l.inRange(t.x,t.y,n)&&r.push({element:l,datasetIndex:u,index:f})},!0),r}function oi(s,t,e,n){let i=[];function r(o,l,u){const{startAngle:f,endAngle:b}=o.getProps(["startAngle","endAngle"],n),{angle:v}=(0,c.D)(o,{x:t.x,y:t.y});(0,c.p)(v,f,b)&&i.push({element:o,datasetIndex:l,index:u})}return ve(s,e,t,r),i}function Oi(s,t,e,n,i,r){let o=[];const l=Wn(e);let u=Number.POSITIVE_INFINITY;function f(b,v,M){const k=b.inRange(t.x,t.y,i);if(n&&!k)return;const I=b.getCenterPoint(i);if(!(!!r||s.isPointInArea(I))&&!k)return;const st=l(t,I);st<u?(o=[{element:b,datasetIndex:v,index:M}],u=st):st===u&&o.push({element:b,datasetIndex:v,index:M})}return ve(s,e,t,f),o}function gn(s,t,e,n,i,r){return!r&&!s.isPointInArea(t)?[]:e==="r"&&!n?oi(s,t,e,i):Oi(s,t,e,n,i,r)}function je(s,t,e,n,i){const r=[],o=e==="x"?"inXRange":"inYRange";let l=!1;return ve(s,e,t,(u,f,b)=>{u[o]&&u[o](t[e],i)&&(r.push({element:u,datasetIndex:f,index:b}),l=l||u.inRange(t.x,t.y,i))}),n&&!l?[]:r}var Ke={evaluateInteractionItems:ve,modes:{index(s,t,e,n){const i=(0,c.z)(t,s),r=e.axis||"x",o=e.includeInvisible||!1,l=e.intersect?Ue(s,i,r,n,o):gn(s,i,r,!1,n,o),u=[];return l.length?(s.getSortedVisibleDatasetMetas().forEach(f=>{const b=l[0].index,v=f.data[b];v&&!v.skip&&u.push({element:v,datasetIndex:f.index,index:b})}),u):[]},dataset(s,t,e,n){const i=(0,c.z)(t,s),r=e.axis||"xy",o=e.includeInvisible||!1;let l=e.intersect?Ue(s,i,r,n,o):gn(s,i,r,!1,n,o);if(l.length>0){const u=l[0].datasetIndex,f=s.getDatasetMeta(u).data;l=[];for(let b=0;b<f.length;++b)l.push({element:f[b],datasetIndex:u,index:b})}return l},point(s,t,e,n){const i=(0,c.z)(t,s),r=e.axis||"xy",o=e.includeInvisible||!1;return Ue(s,i,r,n,o)},nearest(s,t,e,n){const i=(0,c.z)(t,s),r=e.axis||"xy",o=e.includeInvisible||!1;return gn(s,i,r,e.intersect,n,o)},x(s,t,e,n){const i=(0,c.z)(t,s);return je(s,i,"x",e.intersect,n)},y(s,t,e,n){const i=(0,c.z)(t,s);return je(s,i,"y",e.intersect,n)}}};const pn=["left","top","right","bottom"];function Ye(s,t){return s.filter(e=>e.pos===t)}function mn(s,t){return s.filter(e=>pn.indexOf(e.pos)===-1&&e.box.axis===t)}function Xe(s,t){return s.sort((e,n)=>{const i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function Ti(s){const t=[];let e,n,i,r,o,l;for(e=0,n=(s||[]).length;e<n;++e)i=s[e],{position:r,options:{stack:o,stackWeight:l=1}}=i,t.push({index:e,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:l});return t}function ai(s){const t={};for(const e of s){const{stack:n,pos:i,stackWeight:r}=e;if(!n||!pn.includes(i))continue;const o=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function Ai(s,t){const e=ai(s),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let r,o,l;for(r=0,o=s.length;r<o;++r){l=s[r];const{fullSize:u}=l.box,f=e[l.stack],b=f&&l.stackWeight/f.weight;l.horizontal?(l.width=b?b*n:u&&t.availableWidth,l.height=i):(l.width=n,l.height=b?b*i:u&&t.availableHeight)}return e}function li(s){const t=Ti(s),e=Xe(t.filter(f=>f.box.fullSize),!0),n=Xe(Ye(t,"left"),!0),i=Xe(Ye(t,"right")),r=Xe(Ye(t,"top"),!0),o=Xe(Ye(t,"bottom")),l=mn(t,"x"),u=mn(t,"y");return{fullSize:e,leftAndTop:n.concat(r),rightAndBottom:i.concat(u).concat(o).concat(l),chartArea:Ye(t,"chartArea"),vertical:n.concat(i).concat(u),horizontal:r.concat(o).concat(l)}}function nn(s,t,e,n){return Math.max(s[e],t[e])+Math.max(s[n],t[n])}function zn(s,t){s.top=Math.max(s.top,t.top),s.left=Math.max(s.left,t.left),s.bottom=Math.max(s.bottom,t.bottom),s.right=Math.max(s.right,t.right)}function ci(s,t,e,n){const{pos:i,box:r}=e,o=s.maxPadding;if(!(0,c.i)(i)){e.size&&(s[i]-=e.size);const v=n[e.stack]||{size:0,count:1};v.size=Math.max(v.size,e.horizontal?r.height:r.width),e.size=v.size/v.count,s[i]+=e.size}r.getPadding&&zn(o,r.getPadding());const l=Math.max(0,t.outerWidth-nn(o,s,"left","right")),u=Math.max(0,t.outerHeight-nn(o,s,"top","bottom")),f=l!==s.w,b=u!==s.h;return s.w=l,s.h=u,e.horizontal?{same:f,other:b}:{same:b,other:f}}function bn(s){const t=s.maxPadding;function e(n){const i=Math.max(t[n]-s[n],0);return s[n]+=i,i}s.y+=e("top"),s.x+=e("left"),e("right"),e("bottom")}function _n(s,t){const e=t.maxPadding;function n(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(t[o],e[o])}),r}return n(s?["left","right"]:["top","bottom"])}function sn(s,t,e,n){const i=[];let r,o,l,u,f,b;for(r=0,o=s.length,f=0;r<o;++r){l=s[r],u=l.box,u.update(l.width||t.w,l.height||t.h,_n(l.horizontal,t));const{same:v,other:M}=ci(t,e,l,n);f|=v&&i.length,b=b||M,u.fullSize||i.push(l)}return f&&sn(i,t,e,n)||b}function Te(s,t,e,n,i){s.top=e,s.left=t,s.right=t+n,s.bottom=e+i,s.width=n,s.height=i}function yn(s,t,e,n){const i=e.padding;let{x:r,y:o}=t;for(const l of s){const u=l.box,f=n[l.stack]||{count:1,placed:0,weight:1},b=l.stackWeight/f.weight||1;if(l.horizontal){const v=t.w*b,M=f.size||u.height;(0,c.h)(f.start)&&(o=f.start),u.fullSize?Te(u,i.left,o,e.outerWidth-i.right-i.left,M):Te(u,t.left+f.placed,o,v,M),f.start=o,f.placed+=v,o=u.bottom}else{const v=t.h*b,M=f.size||u.width;(0,c.h)(f.start)&&(r=f.start),u.fullSize?Te(u,r,i.top,M,e.outerHeight-i.bottom-i.top):Te(u,r,t.top+f.placed,M,v),f.start=r,f.placed+=v,r=u.right}}t.x=r,t.y=o}var ge={addBox(s,t){s.boxes||(s.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},s.boxes.push(t)},removeBox(s,t){const e=s.boxes?s.boxes.indexOf(t):-1;e!==-1&&s.boxes.splice(e,1)},configure(s,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(s,t,e,n){if(!s)return;const i=(0,c.E)(s.options.layout.padding),r=Math.max(t-i.width,0),o=Math.max(e-i.height,0),l=li(s.boxes),u=l.vertical,f=l.horizontal;(0,c.F)(s.boxes,N=>{typeof N.beforeLayout=="function"&&N.beforeLayout()});const b=u.reduce((N,st)=>st.box.options&&st.box.options.display===!1?N:N+1,0)||1,v=Object.freeze({outerWidth:t,outerHeight:e,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/b,hBoxMaxHeight:o/2}),M=Object.assign({},i);zn(M,(0,c.E)(n));const k=Object.assign({maxPadding:M,w:r,h:o,x:i.left,y:i.top},i),I=Ai(u.concat(f),v);sn(l.fullSize,k,v,I),sn(u,k,v,I),sn(f,k,v,I)&&sn(u,k,v,I),bn(k),yn(l.leftAndTop,k,v,I),k.x+=k.w,k.y+=k.h,yn(l.rightAndBottom,k,v,I),s.chartArea={left:k.left,top:k.top,right:k.left+k.w,bottom:k.top+k.h,height:k.h,width:k.w},(0,c.F)(l.chartArea,N=>{const st=N.box;Object.assign(st,s.chartArea),st.update(k.w,k.h,{left:0,top:0,right:0,bottom:0})})}};class ui{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class Li extends ui{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const $e="$chartjs",Ri={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},vn=s=>s===null||s==="";function rn(s,t){const e=s.style,n=s.getAttribute("height"),i=s.getAttribute("width");if(s[$e]={initial:{height:n,width:i,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",vn(i)){const r=(0,c.J)(s,"width");r!==void 0&&(s.width=r)}if(vn(n))if(s.style.height==="")s.height=s.width/(t||2);else{const r=(0,c.J)(s,"height");r!==void 0&&(s.height=r)}return s}const hi=c.K?{passive:!0}:!1;function jn(s,t,e){s&&s.addEventListener(t,e,hi)}function Ii(s,t,e){s&&s.canvas&&s.canvas.removeEventListener(t,e,hi)}function di(s,t){const e=Ri[s.type]||s.type,{x:n,y:i}=(0,c.z)(s,t);return{type:e,chart:t,native:s,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Ze(s,t){for(const e of s)if(e===t||e.contains(t))return!0}function on(s,t,e){const n=s.canvas,i=new MutationObserver(r=>{let o=!1;for(const l of r)o=o||Ze(l.addedNodes,n),o=o&&!Ze(l.removedNodes,n);o&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}function Nn(s,t,e){const n=s.canvas,i=new MutationObserver(r=>{let o=!1;for(const l of r)o=o||Ze(l.removedNodes,n),o=o&&!Ze(l.addedNodes,n);o&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}const an=new Map;let Hn=0;function Vn(){const s=window.devicePixelRatio;s!==Hn&&(Hn=s,an.forEach((t,e)=>{e.currentDevicePixelRatio!==s&&t()}))}function Ae(s,t){an.size||window.addEventListener("resize",Vn),an.set(s,t)}function xn(s){an.delete(s),an.size||window.removeEventListener("resize",Vn)}function Bi(s,t,e){const n=s.canvas,i=n&&(0,c.I)(n);if(!i)return;const r=(0,c.L)((l,u)=>{const f=i.clientWidth;e(l,u),f<i.clientWidth&&e()},window),o=new ResizeObserver(l=>{const u=l[0],f=u.contentRect.width,b=u.contentRect.height;f===0&&b===0||r(f,b)});return o.observe(i),Ae(s,r),o}function Un(s,t,e){e&&e.disconnect(),t==="resize"&&xn(s)}function Fi(s,t,e){const n=s.canvas,i=(0,c.L)(r=>{s.ctx!==null&&e(di(r,s))},s);return jn(n,t,i),i}class fi extends ui{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(rn(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[$e])return!1;const n=e[$e].initial;["height","width"].forEach(r=>{const o=n[r];(0,c.k)(o)?e.removeAttribute(r):e.setAttribute(r,o)});const i=n.style||{};return Object.keys(i).forEach(r=>{e.style[r]=i[r]}),e.width=e.width,delete e[$e],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),o={attach:on,detach:Nn,resize:Bi}[e]||Fi;i[e]=o(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;({attach:Un,detach:Un,resize:Un}[e]||Ii)(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return(0,c.G)(t,e,n,i)}isAttached(t){const e=t&&(0,c.I)(t);return!!(e&&e.isConnected)}}function Kn(s){return!(0,c.M)()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?Li:fi}class Se{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return(0,c.x)(this.x)&&(0,c.x)(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach(r=>{i[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),i}}function ln(s,t){const e=s.options.ticks,n=Wi(s),i=Math.min(e.maxTicksLimit||n,n),r=e.major.enabled?Xn(t):[],o=r.length,l=r[0],u=r[o-1],f=[];if(o>i)return gi(t,f,r,o/i),f;const b=Yn(r,t,i);if(o>0){let v,M;const k=o>1?Math.round((u-l)/(o-1)):null;for(Le(t,f,b,(0,c.k)(k)?0:l-k,l),v=0,M=o-1;v<M;v++)Le(t,f,b,r[v],r[v+1]);return Le(t,f,b,u,(0,c.k)(k)?t.length:u+k),f}return Le(t,f,b),f}function Wi(s){const t=s.options.offset,e=s._tickSize(),n=s._length/e+(t?0:1),i=s._maxLength/e;return Math.floor(Math.min(n,i))}function Yn(s,t,e){const n=zi(s),i=t.length/e;if(!n)return Math.max(i,1);const r=(0,c.N)(n);for(let o=0,l=r.length-1;o<l;o++){const u=r[o];if(u>i)return u}return Math.max(i,1)}function Xn(s){const t=[];let e,n;for(e=0,n=s.length;e<n;e++)s[e].major&&t.push(e);return t}function gi(s,t,e,n){let i=0,r=e[0],o;for(n=Math.ceil(n),o=0;o<s.length;o++)o===r&&(t.push(s[o]),i++,r=e[i*n])}function Le(s,t,e,n,i){const r=(0,c.v)(n,0),o=Math.min((0,c.v)(i,s.length),s.length);let l=0,u,f,b;for(e=Math.ceil(e),i&&(u=i-n,e=u/Math.floor(u/e)),b=r;b<0;)l++,b=Math.round(r+l*e);for(f=Math.max(r,0);f<o;f++)f===b&&(t.push(s[f]),l++,b=Math.round(r+l*e))}function zi(s){const t=s.length;let e,n;if(t<2)return!1;for(n=s[0],e=1;e<t;++e)if(s[e]-s[e-1]!==n)return!1;return n}const pi=s=>s==="left"?"right":s==="right"?"left":s,wn=(s,t,e)=>t==="top"||t==="left"?s[t]+e:s[t]-e,$n=(s,t)=>Math.min(t||s,s);function Zn(s,t){const e=[],n=s.length/t,i=s.length;let r=0;for(;r<i;r+=n)e.push(s[Math.floor(r)]);return e}function cn(s,t,e){const n=s.ticks.length,i=Math.min(t,n-1),r=s._startPixel,o=s._endPixel,l=1e-6;let u=s.getPixelForTick(i),f;if(!(e&&(n===1?f=Math.max(u-r,o-u):t===0?f=(s.getPixelForTick(1)-u)/2:f=(u-s.getPixelForTick(i-1))/2,u+=i<t?f:-f,u<r-l||u>o+l)))return u}function Mn(s,t){(0,c.F)(s,e=>{const n=e.gc,i=n.length/2;let r;if(i>t){for(r=0;r<i;++r)delete e.data[n[r]];n.splice(0,i)}})}function Ge(s){return s.drawTicks?s.tickLength:0}function mi(s,t){if(!s.display)return 0;const e=(0,c.a0)(s.font,t),n=(0,c.E)(s.padding);return((0,c.b)(s.text)?s.text.length:1)*e.lineHeight+n.height}function bi(s,t){return(0,c.j)(s,{scale:t,type:"scale"})}function ji(s,t,e){return(0,c.j)(s,{tick:e,index:t,type:"tick"})}function Ni(s,t,e){let n=(0,c.a1)(s);return(e&&t!=="right"||!e&&t==="right")&&(n=pi(n)),n}function Gn(s,t,e,n){const{top:i,left:r,bottom:o,right:l,chart:u}=s,{chartArea:f,scales:b}=u;let v=0,M,k,I;const N=o-i,st=l-r;if(s.isHorizontal()){if(k=(0,c.a2)(n,r,l),(0,c.i)(e)){const Q=Object.keys(e)[0],at=e[Q];I=b[Q].getPixelForValue(at)+N-t}else e==="center"?I=(f.bottom+f.top)/2+N-t:I=wn(s,e,t);M=l-r}else{if((0,c.i)(e)){const Q=Object.keys(e)[0],at=e[Q];k=b[Q].getPixelForValue(at)-st+t}else e==="center"?k=(f.left+f.right)/2-st+t:k=wn(s,e,t);I=(0,c.a2)(n,o,i),v=e==="left"?-c.H:c.H}return{titleX:k,titleY:I,maxWidth:M,rotation:v}}class Re extends Se{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=(0,c.O)(t,Number.POSITIVE_INFINITY),e=(0,c.O)(e,Number.NEGATIVE_INFINITY),n=(0,c.O)(n,Number.POSITIVE_INFINITY),i=(0,c.O)(i,Number.NEGATIVE_INFINITY),{min:(0,c.O)(t,n),max:(0,c.O)(e,i),minDefined:(0,c.g)(t),maxDefined:(0,c.g)(e)}}getMinMax(t){let{min:e,max:n,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:e,max:n};const l=this.getMatchingVisibleMetas();for(let u=0,f=l.length;u<f;++u)o=l[u].controller.getMinMax(this,t),i||(e=Math.min(e,o.min)),r||(n=Math.max(n,o.max));return e=r&&e>n?n:e,n=i&&e>n?e:n,{min:(0,c.O)(e,(0,c.O)(n,e)),max:(0,c.O)(n,(0,c.O)(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){(0,c.Q)(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:r,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=(0,c.R)(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?Zn(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=ln(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){(0,c.Q)(this.options.afterUpdate,[this])}beforeSetDimensions(){(0,c.Q)(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){(0,c.Q)(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),(0,c.Q)(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){(0,c.Q)(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n],r.label=(0,c.Q)(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){(0,c.Q)(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){(0,c.Q)(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=$n(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,r=e.maxRotation;let o=i,l,u,f;if(!this._isVisible()||!e.display||i>=r||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const b=this._getLabelSizes(),v=b.widest.width,M=b.highest.height,k=(0,c.S)(this.chart.width-v,0,this.maxWidth);l=t.offset?this.maxWidth/n:k/(n-1),v+6>l&&(l=k/(n-(t.offset?.5:1)),u=this.maxHeight-Ge(t.grid)-e.padding-mi(t.title,this.chart.options.font),f=Math.sqrt(v*v+M*M),o=(0,c.U)(Math.min(Math.asin((0,c.S)((b.highest.height+6)/l,-1,1)),Math.asin((0,c.S)(u/f,-1,1))-Math.asin((0,c.S)(M/f,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){(0,c.Q)(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){(0,c.Q)(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:r}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const u=mi(i,e.options.font);if(l?(t.width=this.maxWidth,t.height=Ge(r)+u):(t.height=this.maxHeight,t.width=Ge(r)+u),n.display&&this.ticks.length){const{first:f,last:b,widest:v,highest:M}=this._getLabelSizes(),k=n.padding*2,I=(0,c.t)(this.labelRotation),N=Math.cos(I),st=Math.sin(I);if(l){const Q=n.mirror?0:st*v.width+N*M.height;t.height=Math.min(this.maxHeight,t.height+Q+k)}else{const Q=n.mirror?0:N*v.width+st*M.height;t.width=Math.min(this.maxWidth,t.width+Q+k)}this._calculatePadding(f,b,st,N)}}this._handleMargins(),l?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:r,padding:o},position:l}=this.options,u=this.labelRotation!==0,f=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const b=this.getPixelForTick(0)-this.left,v=this.right-this.getPixelForTick(this.ticks.length-1);let M=0,k=0;u?f?(M=i*t.width,k=n*e.height):(M=n*t.height,k=i*e.width):r==="start"?k=e.width:r==="end"?M=t.width:r!=="inner"&&(M=t.width/2,k=e.width/2),this.paddingLeft=Math.max((M-b+o)*this.width/(this.width-b),0),this.paddingRight=Math.max((k-v+o)*this.width/(this.width-v),0)}else{let b=e.height/2,v=t.height/2;r==="start"?(b=0,v=t.height):r==="end"&&(b=e.height,v=0),this.paddingTop=b+o,this.paddingBottom=v+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){(0,c.Q)(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)(0,c.k)(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=Zn(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:i,_longestTextCache:r}=this,o=[],l=[],u=Math.floor(e/$n(e,n));let f=0,b=0,v,M,k,I,N,st,Q,at,vt,mt,ut;for(v=0;v<e;v+=u){if(I=t[v].label,N=this._resolveTickFontOptions(v),i.font=st=N.string,Q=r[st]=r[st]||{data:{},gc:[]},at=N.lineHeight,vt=mt=0,!(0,c.k)(I)&&!(0,c.b)(I))vt=(0,c.V)(i,Q.data,Q.gc,vt,I),mt=at;else if((0,c.b)(I))for(M=0,k=I.length;M<k;++M)ut=I[M],!(0,c.k)(ut)&&!(0,c.b)(ut)&&(vt=(0,c.V)(i,Q.data,Q.gc,vt,ut),mt+=at);o.push(vt),l.push(mt),f=Math.max(vt,f),b=Math.max(mt,b)}Mn(r,e);const St=o.indexOf(f),Et=l.indexOf(b),Dt=Kt=>({width:o[Kt]||0,height:l[Kt]||0});return{first:Dt(0),last:Dt(e-1),widest:Dt(St),highest:Dt(Et),widths:o,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return(0,c.W)(this._alignToPixels?(0,c.X)(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=ji(this.getContext(),t,n))}return this.$context||(this.$context=bi(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=(0,c.t)(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,l=r?r.widest.width+o:0,u=r?r.highest.height+o:0;return this.isHorizontal()?u*n>l*i?l/n:u/i:u*i<l*n?u/n:l/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:r,position:o,border:l}=i,u=r.offset,f=this.isHorizontal(),v=this.ticks.length+(u?1:0),M=Ge(r),k=[],I=l.setContext(this.getContext()),N=I.display?I.width:0,st=N/2,Q=function(de){return(0,c.X)(n,de,N)};let at,vt,mt,ut,St,Et,Dt,Kt,Qt,Jt,se,_e;if(o==="top")at=Q(this.bottom),Et=this.bottom-M,Kt=at-st,Jt=Q(t.top)+st,_e=t.bottom;else if(o==="bottom")at=Q(this.top),Jt=t.top,_e=Q(t.bottom)-st,Et=at+st,Kt=this.top+M;else if(o==="left")at=Q(this.right),St=this.right-M,Dt=at-st,Qt=Q(t.left)+st,se=t.right;else if(o==="right")at=Q(this.left),Qt=t.left,se=Q(t.right)-st,St=at+st,Dt=this.left+M;else if(e==="x"){if(o==="center")at=Q((t.top+t.bottom)/2+.5);else if((0,c.i)(o)){const de=Object.keys(o)[0],fe=o[de];at=Q(this.chart.scales[de].getPixelForValue(fe))}Jt=t.top,_e=t.bottom,Et=at+st,Kt=Et+M}else if(e==="y"){if(o==="center")at=Q((t.left+t.right)/2);else if((0,c.i)(o)){const de=Object.keys(o)[0],fe=o[de];at=Q(this.chart.scales[de].getPixelForValue(fe))}St=at-st,Dt=St-M,Qt=t.left,se=t.right}const Oe=(0,c.v)(i.ticks.maxTicksLimit,v),ce=Math.max(1,Math.ceil(v/Oe));for(vt=0;vt<v;vt+=ce){const de=this.getContext(vt),fe=r.setContext(de),Ve=l.setContext(de),xe=fe.lineWidth,ki=fe.color,ss=Ve.dash||[],Di=Ve.dashOffset,$i=fe.tickWidth,si=fe.tickColor,Zi=fe.tickBorderDash||[],ri=fe.tickBorderDashOffset;mt=cn(this,vt,u),mt!==void 0&&(ut=(0,c.X)(n,mt,xe),f?St=Dt=Qt=se=ut:Et=Kt=Jt=_e=ut,k.push({tx1:St,ty1:Et,tx2:Dt,ty2:Kt,x1:Qt,y1:Jt,x2:se,y2:_e,width:xe,color:ki,borderDash:ss,borderDashOffset:Di,tickWidth:$i,tickColor:si,tickBorderDash:Zi,tickBorderDashOffset:ri}))}return this._ticksLength=v,this._borderValue=at,k}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:r}=n,o=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:f,padding:b,mirror:v}=r,M=Ge(n.grid),k=M+b,I=v?-b:k,N=-(0,c.t)(this.labelRotation),st=[];let Q,at,vt,mt,ut,St,Et,Dt,Kt,Qt,Jt,se,_e="middle";if(i==="top")St=this.bottom-I,Et=this._getXAxisLabelAlignment();else if(i==="bottom")St=this.top+I,Et=this._getXAxisLabelAlignment();else if(i==="left"){const ce=this._getYAxisLabelAlignment(M);Et=ce.textAlign,ut=ce.x}else if(i==="right"){const ce=this._getYAxisLabelAlignment(M);Et=ce.textAlign,ut=ce.x}else if(e==="x"){if(i==="center")St=(t.top+t.bottom)/2+k;else if((0,c.i)(i)){const ce=Object.keys(i)[0],de=i[ce];St=this.chart.scales[ce].getPixelForValue(de)+k}Et=this._getXAxisLabelAlignment()}else if(e==="y"){if(i==="center")ut=(t.left+t.right)/2-k;else if((0,c.i)(i)){const ce=Object.keys(i)[0],de=i[ce];ut=this.chart.scales[ce].getPixelForValue(de)}Et=this._getYAxisLabelAlignment(M).textAlign}e==="y"&&(u==="start"?_e="top":u==="end"&&(_e="bottom"));const Oe=this._getLabelSizes();for(Q=0,at=l.length;Q<at;++Q){vt=l[Q],mt=vt.label;const ce=r.setContext(this.getContext(Q));Dt=this.getPixelForTick(Q)+r.labelOffset,Kt=this._resolveTickFontOptions(Q),Qt=Kt.lineHeight,Jt=(0,c.b)(mt)?mt.length:1;const de=Jt/2,fe=ce.color,Ve=ce.textStrokeColor,xe=ce.textStrokeWidth;let ki=Et;o?(ut=Dt,Et==="inner"&&(Q===at-1?ki=this.options.reverse?"left":"right":Q===0?ki=this.options.reverse?"right":"left":ki="center"),i==="top"?f==="near"||N!==0?se=-Jt*Qt+Qt/2:f==="center"?se=-Oe.highest.height/2-de*Qt+Qt:se=-Oe.highest.height+Qt/2:f==="near"||N!==0?se=Qt/2:f==="center"?se=Oe.highest.height/2-de*Qt:se=Oe.highest.height-Jt*Qt,v&&(se*=-1),N!==0&&!ce.showLabelBackdrop&&(ut+=Qt/2*Math.sin(N))):(St=Dt,se=(1-Jt)*Qt/2);let ss;if(ce.showLabelBackdrop){const Di=(0,c.E)(ce.backdropPadding),$i=Oe.heights[Q],si=Oe.widths[Q];let Zi=se-Di.top,ri=0-Di.left;switch(_e){case"middle":Zi-=$i/2;break;case"bottom":Zi-=$i;break}switch(Et){case"center":ri-=si/2;break;case"right":ri-=si;break;case"inner":Q===at-1?ri-=si:Q>0&&(ri-=si/2);break}ss={left:ri,top:Zi,width:si+Di.width,height:$i+Di.height,color:ce.backdropColor}}st.push({label:mt,font:Kt,textOffset:se,options:{rotation:N,color:fe,strokeColor:Ve,strokeWidth:xe,textAlign:ki,textBaseline:_e,translation:[ut,St],backdrop:ss}})}return st}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-(0,c.t)(this.labelRotation))return t==="top"?"left":"right";let i="center";return e.align==="start"?i="left":e.align==="end"?i="right":e.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),l=t+r,u=o.widest.width;let f,b;return e==="left"?i?(b=this.right+r,n==="near"?f="left":n==="center"?(f="center",b+=u/2):(f="right",b+=u)):(b=this.right-l,n==="near"?f="right":n==="center"?(f="center",b-=u/2):(f="left",b=this.left)):e==="right"?i?(b=this.left+r,n==="near"?f="right":n==="center"?(f="center",b-=u/2):(f="left",b-=u)):(b=this.left+l,n==="near"?f="left":n==="center"?(f="center",b+=u/2):(f="right",b=this.right)):f="right",{textAlign:f,x:b}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,r,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex(r=>r.value===t);return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const l=(u,f,b)=>{!b.width||!b.color||(n.save(),n.lineWidth=b.width,n.strokeStyle=b.color,n.setLineDash(b.borderDash||[]),n.lineDashOffset=b.borderDashOffset,n.beginPath(),n.moveTo(u.x,u.y),n.lineTo(f.x,f.y),n.stroke(),n.restore())};if(e.display)for(r=0,o=i.length;r<o;++r){const u=i[r];e.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),e.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),o=n.display?r.width:0;if(!o)return;const l=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let f,b,v,M;this.isHorizontal()?(f=(0,c.X)(t,this.left,o)-o/2,b=(0,c.X)(t,this.right,l)+l/2,v=M=u):(v=(0,c.X)(t,this.top,o)-o/2,M=(0,c.X)(t,this.bottom,l)+l/2,f=b=u),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(f,v),e.lineTo(b,M),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&(0,c.Y)(n,i);const r=this.getLabelItems(t);for(const o of r){const l=o.options,u=o.font,f=o.label,b=o.textOffset;(0,c.Z)(n,f,0,b,u,l)}i&&(0,c.$)(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const r=(0,c.a0)(n.font),o=(0,c.E)(n.padding),l=n.align;let u=r.lineHeight/2;e==="bottom"||e==="center"||(0,c.i)(e)?(u+=o.bottom,(0,c.b)(n.text)&&(u+=r.lineHeight*(n.text.length-1))):u+=o.top;const{titleX:f,titleY:b,maxWidth:v,rotation:M}=Gn(this,u,e,l);(0,c.Z)(t,n.text,0,0,r,{color:n.color,maxWidth:v,rotation:M,textAlign:Ni(l,e,i),textBaseline:"middle",translation:[f,b]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=(0,c.v)(t.grid&&t.grid.z,-1),i=(0,c.v)(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Re.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,o;for(r=0,o=e.length;r<o;++r){const l=e[r];l[n]===this.id&&(!t||l.type===t)&&i.push(l)}return i}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return(0,c.a0)(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Qe{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;Hi(e)&&(n=this.register(e));const i=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,un(t,o,n),this.override&&c.d.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in c.d[i]&&(delete c.d[i][n],this.override&&delete c.a3[n])}}function un(s,t,e){const n=(0,c.a4)(Object.create(null),[e?c.d.get(e):{},c.d.get(t),s.defaults]);c.d.set(t,n),s.defaultRoutes&&_i(t,s.defaultRoutes),s.descriptors&&c.d.describe(t,s.descriptors)}function _i(s,t){Object.keys(t).forEach(e=>{const n=e.split("."),i=n.pop(),r=[s].concat(n).join("."),o=t[e].split("."),l=o.pop(),u=o.join(".");c.d.route(r,i,u,l)})}function Hi(s){return"id"in s&&"defaults"in s}class Pn{constructor(){this.controllers=new Qe(qt,"datasets",!0),this.elements=new Qe(Se,"elements"),this.plugins=new Qe(Object,"plugins"),this.scales=new Qe(Re,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(i=>{const r=n||this._getRegistryForType(i);n||r.isForType(i)||r===this.plugins&&i.id?this._exec(t,r,i):(0,c.F)(i,o=>{const l=n||this._getRegistryForType(o);this._exec(t,l,o)})})}_exec(t,e,n){const i=(0,c.a5)(t);(0,c.Q)(n["before"+i],[],n),e[t](n),(0,c.Q)(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var Me=new Pn;class yi{constructor(){this._init=[]}notify(t,e,n,i){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(r,t,e,n);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,i){i=i||{};for(const r of t){const o=r.plugin,l=o[n],u=[e,i,r.options];if((0,c.Q)(l,u,o)===!1&&i.cancelable)return!1}return!0}invalidate(){(0,c.k)(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=(0,c.v)(n.options&&n.options.plugins,{}),r=vi(n);return i===!1&&!e?[]:Cn(t,r,i,e)}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(r,o)=>r.filter(l=>!o.some(u=>l.plugin.id===u.plugin.id));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function vi(s){const t={},e=[],n=Object.keys(Me.plugins.items);for(let r=0;r<n.length;r++)e.push(Me.getPlugin(n[r]));const i=s.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];e.indexOf(o)===-1&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}function xi(s,t){return!t&&s===!1?null:s===!0?{}:s}function Cn(s,{plugins:t,localIds:e},n,i){const r=[],o=s.getContext();for(const l of t){const u=l.id,f=xi(n[u],i);f!==null&&r.push({plugin:l,options:Vi(s.config,{plugin:l,local:e[u]},f,o)})}return r}function Vi(s,{plugin:t,local:e},n,i){const r=s.pluginScopeKeys(t),o=s.getOptionScopes(n,r);return e&&t.defaults&&o.push(t.defaults),s.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Sn(s,t){const e=c.d.datasets[s]||{};return((t.datasets||{})[s]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Qn(s,t){let e=s;return s==="_index_"?e=t:s==="_value_"&&(e=t==="x"?"y":"x"),e}function Je(s,t){return s===t?"_index_":"_value_"}function wi(s){if(s==="x"||s==="y"||s==="r")return s}function En(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function Ne(s,...t){if(wi(s))return s;for(const e of t){const n=e.axis||En(e.position)||s.length>1&&wi(s[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function Jn(s,t,e){if(e[t+"AxisID"]===s)return{axis:t}}function Ui(s,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(n=>n.xAxisID===s||n.yAxisID===s);if(e.length)return Jn(s,"x",e[0])||Jn(s,"y",e[0])}return{}}function Ie(s,t){const e=c.a3[s.type]||{scales:{}},n=t.scales||{},i=Sn(s.type,t),r=Object.create(null);return Object.keys(n).forEach(o=>{const l=n[o];if(!(0,c.i)(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=Ne(o,l,Ui(o,s),c.d.scales[l.type]),f=Je(u,i),b=e.scales||{};r[o]=(0,c.ab)(Object.create(null),[{axis:u},l,b[u],b[f]])}),s.data.datasets.forEach(o=>{const l=o.type||s.type,u=o.indexAxis||Sn(l,t),b=(c.a3[l]||{}).scales||{};Object.keys(b).forEach(v=>{const M=Qn(v,u),k=o[M+"AxisID"]||M;r[k]=r[k]||Object.create(null),(0,c.ab)(r[k],[{axis:M},n[k],b[v]])})}),Object.keys(r).forEach(o=>{const l=r[o];(0,c.ab)(l,[c.d.scales[l.type],c.d.scale])}),r}function Mi(s){const t=s.options||(s.options={});t.plugins=(0,c.v)(t.plugins,{}),t.scales=Ie(s,t)}function He(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function qn(s){return s=s||{},s.data=He(s.data),Mi(s),s}const kn=new Map,Dn=new Set;function On(s,t){let e=kn.get(s);return e||(e=t(),kn.set(s,e),Dn.add(e)),e}const hn=(s,t,e)=>{const n=(0,c.f)(t,e);n!==void 0&&s.add(n)};class Tn{constructor(t){this._config=qn(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=He(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Mi(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return On(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return On(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return On(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,n=this.type;return On(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return(!i||e)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:r}=this,o=this._cachedScopes(t,n),l=o.get(e);if(l)return l;const u=new Set;e.forEach(b=>{t&&(u.add(t),b.forEach(v=>hn(u,t,v))),b.forEach(v=>hn(u,i,v)),b.forEach(v=>hn(u,c.a3[r]||{},v)),b.forEach(v=>hn(u,c.d,v)),b.forEach(v=>hn(u,c.a6,v))});const f=Array.from(u);return f.length===0&&f.push(Object.create(null)),Dn.has(e)&&o.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,c.a3[e]||{},c.d.datasets[e]||{},{type:e},c.d,c.a6]}resolveNamedOptions(t,e,n,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:l}=Pi(this._resolverCache,t,i);let u=o;if(ti(o,e)){r.$shared=!1,n=(0,c.a7)(n)?n():n;const f=this.createResolver(t,n,l);u=(0,c.a8)(o,n,f)}for(const f of e)r[f]=u[f];return r}createResolver(t,e,n=[""],i){const{resolver:r}=Pi(this._resolverCache,t,n);return(0,c.i)(e)?(0,c.a8)(r,e,void 0,i):r}}function Pi(s,t,e){let n=s.get(t);n||(n=new Map,s.set(t,n));const i=e.join();let r=n.get(i);return r||(r={resolver:(0,c.a9)(t,e),subPrefixes:e.filter(l=>!l.toLowerCase().includes("hover"))},n.set(i,r)),r}const Ci=s=>(0,c.i)(s)&&Object.getOwnPropertyNames(s).some(t=>(0,c.a7)(s[t]));function ti(s,t){const{isScriptable:e,isIndexable:n}=(0,c.aa)(s);for(const i of t){const r=e(i),o=n(i),l=(o||r)&&s[i];if(r&&((0,c.a7)(l)||Ci(l))||o&&(0,c.b)(l))return!0}return!1}var An="4.4.6";const Ln=["top","bottom","left","right","chartArea"];function dn(s,t){return s==="top"||s==="bottom"||Ln.indexOf(s)===-1&&t==="x"}function Si(s,t){return function(e,n){return e[s]===n[s]?e[t]-n[t]:e[s]-n[s]}}function De(s){const t=s.chart,e=t.options.animation;t.notifyPlugins("afterRender"),(0,c.Q)(e&&e.onComplete,[s],t)}function Be(s){const t=s.chart,e=t.options.animation;(0,c.Q)(e&&e.onProgress,[s],t)}function Ei(s){return(0,c.M)()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const Rn={},qe=s=>{const t=Ei(s);return Object.values(Rn).filter(e=>e.canvas===t).pop()};function Ki(s,t,e){const n=Object.keys(s);for(const i of n){const r=+i;if(r>=t){const o=s[i];delete s[i],(e>0||r>t)&&(s[r+e]=o)}}}function In(s,t,e,n){return!e||s.type==="mouseout"?null:n?t:s}function d(s,t,e){return s.options.clip?s[e]:t[e]}function h(s,t){const{xScale:e,yScale:n}=s;return e&&n?{left:d(e,t,"left"),right:d(e,t,"right"),top:d(n,t,"top"),bottom:d(n,t,"bottom")}:t}class p{static defaults=c.d;static instances=Rn;static overrides=c.a3;static registry=Me;static version=An;static getChart=qe;static register(...t){Me.add(...t),_()}static unregister(...t){Me.remove(...t),_()}constructor(t,e){const n=this.config=new Tn(e),i=Ei(t),r=qe(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Kn(i)),this.platform.updateConfig(n);const l=this.platform.acquireContext(i,o.aspectRatio),u=l&&l.canvas,f=u&&u.height,b=u&&u.width;if(this.id=(0,c.ac)(),this.ctx=l,this.canvas=u,this.width=b,this.height=f,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yi,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(0,c.ad)(v=>this.update(v),o.resizeDelay||0),this._dataChanges=[],Rn[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}B.listen(this,"complete",De),B.listen(this,"progress",Be),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:r}=this;return(0,c.k)(t)?e&&r?r:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Me}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():(0,c.ae)(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return(0,c.af)(this.canvas,this.ctx),this}stop(){return B.stop(this),this}resize(t,e){B.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,e,r),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,(0,c.ae)(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),(0,c.Q)(n.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};(0,c.F)(e,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce((o,l)=>(o[l]=!1,o),{});let r=[];e&&(r=r.concat(Object.keys(e).map(o=>{const l=e[o],u=Ne(o,l),f=u==="r",b=u==="x";return{options:l,dposition:f?"chartArea":b?"bottom":"left",dtype:f?"radialLinear":b?"category":"linear"}}))),(0,c.F)(r,o=>{const l=o.options,u=l.id,f=Ne(u,l),b=(0,c.v)(l.type,o.dtype);(l.position===void 0||dn(l.position,f)!==dn(o.dposition))&&(l.position=o.dposition),i[u]=!0;let v=null;if(u in n&&n[u].type===b)v=n[u];else{const M=Me.getScale(b);v=new M({id:u,type:b,ctx:this.ctx,chart:this}),n[v.id]=v}v.init(l,t)}),(0,c.F)(i,(o,l)=>{o||delete n[l]}),(0,c.F)(n,o=>{ge.configure(this,o,o.options),ge.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort((i,r)=>i.index-r.index),n>e){for(let i=e;i<n;++i)this._destroyDatasetMeta(i);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(Si("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((n,i)=>{e.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const r=e[n];let o=this.getDatasetMeta(n);const l=r.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=l,o.indexAxis=r.indexAxis||Sn(l,this.options),o.order=r.order||0,o.index=n,o.label=""+r.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const u=Me.getController(l),{datasetElementType:f,dataElementType:b}=c.d.datasets[l];Object.assign(u,{dataElementType:Me.getElement(b),datasetElementType:f&&Me.getElement(f)}),o.controller=new u(this,n),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){(0,c.F)(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let f=0,b=this.data.datasets.length;f<b;f++){const{controller:v}=this.getDatasetMeta(f),M=!i&&r.indexOf(v)===-1;v.buildOrUpdateElements(M),o=Math.max(+v.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||(0,c.F)(r,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Si("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){(0,c.F)(this.scales,t=>{ge.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!(0,c.ag)(e,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of e){const o=n==="_removeElements"?-r:r;Ki(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=r=>new Set(t.filter(o=>o[0]===r).map((o,l)=>l+","+o.splice(1).join(","))),i=n(0);for(let r=1;r<e;r++)if(!(0,c.ag)(i,n(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ge.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],(0,c.F)(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,n=this.data.datasets.length;e<n;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,(0,c.a7)(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(B.has(this)?this.attached&&!B.running(this)&&B.start(this):(this.draw(),De({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,r;for(i=0,r=e.length;i<r;++i){const o=e[i];(!t||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,i=!n.disabled,r=h(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&(0,c.Y)(e,{left:n.left===!1?0:r.left-n.left,right:n.right===!1?this.width:r.right+n.right,top:n.top===!1?0:r.top-n.top,bottom:n.bottom===!1?this.height:r.bottom+n.bottom}),t.controller.draw(),i&&(0,c.$)(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return(0,c.C)(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,i){const r=Ke.modes[e];return typeof r=="function"?r(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter(r=>r&&r._dataset===e).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=(0,c.j)(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!e.hidden}setDatasetVisibility(t,e){const n=this.getDatasetMeta(t);n.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,i);(0,c.h)(e)?(r.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(r,{visible:n}),this.update(l=>l.datasetIndex===t?i:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),B.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),(0,c.af)(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Rn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(r,o)=>{e.addEventListener(this,r,o),t[r]=o},i=(r,o,l)=>{r.offsetX=o,r.offsetY=l,this._eventHandler(r)};(0,c.F)(this.options.events,r=>n(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(u,f)=>{e.addEventListener(this,u,f),t[u]=f},i=(u,f)=>{t[u]&&(e.removeEventListener(this,u,f),delete t[u])},r=(u,f)=>{this.canvas&&this.resize(u,f)};let o;const l=()=>{i("attach",l),this.attached=!0,this.resize(),n("resize",r),n("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",l)},e.isAttached(this.canvas)?l():o()}unbindEvents(){(0,c.F)(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},(0,c.F)(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let r,o,l,u;for(e==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),l=0,u=t.length;l<u;++l){o=t[l];const f=o&&this.getDatasetMeta(o.datasetIndex).controller;f&&f[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map(({datasetIndex:r,index:o})=>{const l=this.getDatasetMeta(r);if(!l)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:l.data[o],index:o}});!(0,c.ah)(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,n){const i=this.options.hover,r=(u,f)=>u.filter(b=>!f.some(v=>b.datasetIndex===v.datasetIndex&&b.index===v.index)),o=r(e,t),l=n?t:r(t,e);o.length&&this.updateHoverStyle(o,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const r=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:r}=this,o=e,l=this._getActiveElements(t,i,n,o),u=(0,c.ai)(t),f=In(t,this._lastEvent,n,u);n&&(this._lastEvent=null,(0,c.Q)(r.onHover,[t,l,this],this),u&&(0,c.Q)(r.onClick,[t,l,this],this));const b=!(0,c.ah)(l,i);return(b||e)&&(this._active=l,this._updateHoverStyles(l,i,e)),this._lastEvent=f,b}_getActiveElements(t,e,n,i){if(t.type==="mouseout")return[];if(!n)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}function _(){return(0,c.F)(p.instances,s=>s._plugins.invalidate())}function w(s,t,e){const{startAngle:n,pixelMargin:i,x:r,y:o,outerRadius:l,innerRadius:u}=t;let f=i/l;s.beginPath(),s.arc(r,o,l,n-f,e+f),u>i?(f=i/u,s.arc(r,o,u,e+f,n-f,!0)):s.arc(r,o,i,e+c.H,n-c.H),s.closePath(),s.clip()}function C(s){return(0,c.ak)(s,["outerStart","outerEnd","innerStart","innerEnd"])}function S(s,t,e,n){const i=C(s.options.borderRadius),r=(e-t)/2,o=Math.min(r,n*t/2),l=u=>{const f=(e-Math.min(r,u))*n/2;return(0,c.S)(u,0,Math.min(r,f))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:(0,c.S)(i.innerStart,0,o),innerEnd:(0,c.S)(i.innerEnd,0,o)}}function R(s,t,e,n){return{x:e+s*Math.cos(t),y:n+s*Math.sin(t)}}function K(s,t,e,n,i,r){const{x:o,y:l,startAngle:u,pixelMargin:f,innerRadius:b}=t,v=Math.max(t.outerRadius+n+e-f,0),M=b>0?b+n+e+f:0;let k=0;const I=i-u;if(n){const ce=b>0?b-n:0,de=v>0?v-n:0,fe=(ce+de)/2,Ve=fe!==0?I*fe/(fe+n):I;k=(I-Ve)/2}const N=Math.max(.001,I*v-e/c.P)/v,st=(I-N)/2,Q=u+st+k,at=i-st-k,{outerStart:vt,outerEnd:mt,innerStart:ut,innerEnd:St}=S(t,M,v,at-Q),Et=v-vt,Dt=v-mt,Kt=Q+vt/Et,Qt=at-mt/Dt,Jt=M+ut,se=M+St,_e=Q+ut/Jt,Oe=at-St/se;if(s.beginPath(),r){const ce=(Kt+Qt)/2;if(s.arc(o,l,v,Kt,ce),s.arc(o,l,v,ce,Qt),mt>0){const xe=R(Dt,Qt,o,l);s.arc(xe.x,xe.y,mt,Qt,at+c.H)}const de=R(se,at,o,l);if(s.lineTo(de.x,de.y),St>0){const xe=R(se,Oe,o,l);s.arc(xe.x,xe.y,St,at+c.H,Oe+Math.PI)}const fe=(at-St/M+(Q+ut/M))/2;if(s.arc(o,l,M,at-St/M,fe,!0),s.arc(o,l,M,fe,Q+ut/M,!0),ut>0){const xe=R(Jt,_e,o,l);s.arc(xe.x,xe.y,ut,_e+Math.PI,Q-c.H)}const Ve=R(Et,Q,o,l);if(s.lineTo(Ve.x,Ve.y),vt>0){const xe=R(Et,Kt,o,l);s.arc(xe.x,xe.y,vt,Q-c.H,Kt)}}else{s.moveTo(o,l);const ce=Math.cos(Kt)*v+o,de=Math.sin(Kt)*v+l;s.lineTo(ce,de);const fe=Math.cos(Qt)*v+o,Ve=Math.sin(Qt)*v+l;s.lineTo(fe,Ve)}s.closePath()}function rt(s,t,e,n,i){const{fullCircles:r,startAngle:o,circumference:l}=t;let u=t.endAngle;if(r){K(s,t,e,n,u,i);for(let f=0;f<r;++f)s.fill();isNaN(l)||(u=o+(l%c.T||c.T))}return K(s,t,e,n,u,i),s.fill(),u}function Mt(s,t,e,n,i){const{fullCircles:r,startAngle:o,circumference:l,options:u}=t,{borderWidth:f,borderJoinStyle:b,borderDash:v,borderDashOffset:M}=u,k=u.borderAlign==="inner";if(!f)return;s.setLineDash(v||[]),s.lineDashOffset=M,k?(s.lineWidth=f*2,s.lineJoin=b||"round"):(s.lineWidth=f,s.lineJoin=b||"bevel");let I=t.endAngle;if(r){K(s,t,e,n,I,i);for(let N=0;N<r;++N)s.stroke();isNaN(l)||(I=o+(l%c.T||c.T))}k&&w(s,t,I),r||(K(s,t,e,n,I,i),s.stroke())}class Rt extends Se{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.getProps(["x","y"],n),{angle:r,distance:o}=(0,c.D)(i,{x:t,y:e}),{startAngle:l,endAngle:u,innerRadius:f,outerRadius:b,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),M=(this.options.spacing+this.options.borderWidth)/2,k=(0,c.v)(v,u-l),I=(0,c.p)(r,l,u)&&l!==u,N=k>=c.T||I,st=(0,c.aj)(o,f+M,b+M);return N&&st}getCenterPoint(t){const{x:e,y:n,startAngle:i,endAngle:r,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:f}=this.options,b=(i+r)/2,v=(o+l+f+u)/2;return{x:e+Math.cos(b)*v,y:n+Math.sin(b)*v}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,i=(e.offset||0)/4,r=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=n>c.T?Math.floor(n/c.T):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*i,Math.sin(l)*i);const u=1-Math.sin(Math.min(c.P,n||0)),f=i*u;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,rt(t,this,f,r,o),Mt(t,this,f,r,o),t.restore()}}function Ht(s,t,e=t){s.lineCap=(0,c.v)(e.borderCapStyle,t.borderCapStyle),s.setLineDash((0,c.v)(e.borderDash,t.borderDash)),s.lineDashOffset=(0,c.v)(e.borderDashOffset,t.borderDashOffset),s.lineJoin=(0,c.v)(e.borderJoinStyle,t.borderJoinStyle),s.lineWidth=(0,c.v)(e.borderWidth,t.borderWidth),s.strokeStyle=(0,c.v)(e.borderColor,t.borderColor)}function le(s,t,e){s.lineTo(e.x,e.y)}function ue(s){return s.stepped?c.ar:s.tension||s.cubicInterpolationMode==="monotone"?c.as:le}function Pe(s,t,e={}){const n=s.length,{start:i=0,end:r=n-1}=e,{start:o,end:l}=t,u=Math.max(i,o),f=Math.min(r,l),b=i<o&&r<o||i>l&&r>l;return{count:n,start:u,loop:t.loop,ilen:f<u&&!b?n+f-u:f-u}}function Fe(s,t,e,n){const{points:i,options:r}=t,{count:o,start:l,loop:u,ilen:f}=Pe(i,e,n),b=ue(r);let{move:v=!0,reverse:M}=n||{},k,I,N;for(k=0;k<=f;++k)I=i[(l+(M?f-k:k))%o],!I.skip&&(v?(s.moveTo(I.x,I.y),v=!1):b(s,N,I,M,r.stepped),N=I);return u&&(I=i[(l+(M?f:0))%o],b(s,N,I,M,r.stepped)),!!u}function Ce(s,t,e,n){const i=t.points,{count:r,start:o,ilen:l}=Pe(i,e,n),{move:u=!0,reverse:f}=n||{};let b=0,v=0,M,k,I,N,st,Q;const at=mt=>(o+(f?l-mt:mt))%r,vt=()=>{N!==st&&(s.lineTo(b,st),s.lineTo(b,N),s.lineTo(b,Q))};for(u&&(k=i[at(0)],s.moveTo(k.x,k.y)),M=0;M<=l;++M){if(k=i[at(M)],k.skip)continue;const mt=k.x,ut=k.y,St=mt|0;St===I?(ut<N?N=ut:ut>st&&(st=ut),b=(v*b+mt)/++v):(vt(),s.lineTo(mt,ut),I=St,v=0,N=st=ut),Q=ut}vt()}function me(s){const t=s.options,e=t.borderDash&&t.borderDash.length;return!s._decimated&&!s._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Ce:Fe}function We(s){return s.stepped?c.ao:s.tension||s.cubicInterpolationMode==="monotone"?c.ap:c.aq}function ze(s,t,e,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,e,n)&&i.closePath()),Ht(s,t.options),s.stroke(i)}function ei(s,t,e,n){const{segments:i,options:r}=t,o=me(t);for(const l of i)Ht(s,r,l.style),s.beginPath(),o(s,t,l,{start:e,end:e+n-1})&&s.closePath(),s.stroke()}const Gi=typeof Path2D=="function";function rs(s,t,e,n){Gi&&!t.options.segment?ze(s,t,e,n):ei(s,t,e,n)}class a extends Se{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;(0,c.al)(this._points,n,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=(0,c.am)(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,i=t[e],r=this.points,o=(0,c.an)(this,{property:e,start:i,end:i});if(!o.length)return;const l=[],u=We(n);let f,b;for(f=0,b=o.length;f<b;++f){const{start:v,end:M}=o[f],k=r[v],I=r[M];if(k===I){l.push(k);continue}const N=Math.abs((i-k[e])/(I[e]-k[e])),st=u(k,I,N,n.stepped);st[e]=t[e],l.push(st)}return l.length===1?l[0]:l}pathSegment(t,e,n){return me(this)(t,this,e,n)}path(t,e,n){const i=this.segments,r=me(this);let o=this._loop;e=e||0,n=n||this.points.length-e;for(const l of i)o&=r(t,this,l,{start:e,end:e+n-1});return!!o}draw(t,e,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),rs(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function g(s,t,e,n){const i=s.options,{[e]:r}=s.getProps([e],n);return Math.abs(t-r)<i.radius+i.hitRadius}class m extends Se{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],n);return Math.pow(t-r,2)+Math.pow(e-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return g(this,t,"x",e)}inYRange(t,e){return g(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const n=e&&t.borderWidth||0;return(e+n)*2}draw(t,e){const n=this.options;this.skip||n.radius<.1||!(0,c.C)(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,(0,c.at)(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function y(s,t){const{x:e,y:n,base:i,width:r,height:o}=s.getProps(["x","y","base","width","height"],t);let l,u,f,b,v;return s.horizontal?(v=o/2,l=Math.min(e,i),u=Math.max(e,i),f=n-v,b=n+v):(v=r/2,l=e-v,u=e+v,f=Math.min(n,i),b=Math.max(n,i)),{left:l,top:f,right:u,bottom:b}}function x(s,t,e,n){return s?0:(0,c.S)(t,e,n)}function D(s,t,e){const n=s.options.borderWidth,i=s.borderSkipped,r=(0,c.av)(n);return{t:x(i.top,r.top,0,e),r:x(i.right,r.right,0,t),b:x(i.bottom,r.bottom,0,e),l:x(i.left,r.left,0,t)}}function L(s,t,e){const{enableBorderRadius:n}=s.getProps(["enableBorderRadius"]),i=s.options.borderRadius,r=(0,c.aw)(i),o=Math.min(t,e),l=s.borderSkipped,u=n||(0,c.i)(i);return{topLeft:x(!u||l.top||l.left,r.topLeft,0,o),topRight:x(!u||l.top||l.right,r.topRight,0,o),bottomLeft:x(!u||l.bottom||l.left,r.bottomLeft,0,o),bottomRight:x(!u||l.bottom||l.right,r.bottomRight,0,o)}}function F(s){const t=y(s),e=t.right-t.left,n=t.bottom-t.top,i=D(s,e/2,n/2),r=L(s,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:r},inner:{x:t.left+i.l,y:t.top+i.t,w:e-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function X(s,t,e,n){const i=t===null,r=e===null,l=s&&!(i&&r)&&y(s,n);return l&&(i||(0,c.aj)(t,l.left,l.right))&&(r||(0,c.aj)(e,l.top,l.bottom))}function lt(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function bt(s,t){s.rect(t.x,t.y,t.w,t.h)}function Wt(s,t,e={}){const n=s.x!==e.x?-t:0,i=s.y!==e.y?-t:0,r=(s.x+s.w!==e.x+e.w?t:0)-n,o=(s.y+s.h!==e.y+e.h?t:0)-i;return{x:s.x+n,y:s.y+i,w:s.w+r,h:s.h+o,radius:s.radius}}class Vt extends Se{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:o}=F(this),l=lt(o.radius)?c.au:bt;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),l(t,Wt(o,e,r)),t.clip(),l(t,Wt(r,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),l(t,Wt(r,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return X(this,t,e,n)}inXRange(t,e){return X(this,t,null,e)}inYRange(t,e){return X(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+i)/2:e,y:r?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var ae=Object.freeze({__proto__:null,ArcElement:Rt,BarElement:Vt,LineElement:a,PointElement:m});const he=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Xt=he.map(s=>s.replace("rgb(","rgba(").replace(")",", 0.5)"));function It(s){return he[s%he.length]}function be(s){return Xt[s%Xt.length]}function Bn(s,t){return s.borderColor=It(t),s.backgroundColor=be(t),++t}function ni(s,t){return s.backgroundColor=s.data.map(()=>It(t++)),t}function os(s,t){return s.backgroundColor=s.data.map(()=>be(t++)),t}function as(s){let t=0;return(e,n)=>{const i=s.getDatasetMeta(n).controller;i instanceof V?t=ni(e,t):i instanceof _t?t=os(e,t):i&&(t=Bn(e,t))}}function Qi(s){let t;for(t in s)if(s[t].borderColor||s[t].backgroundColor)return!0;return!1}function ls(s){return s&&(s.borderColor||s.backgroundColor)}function Fn(){return c.d.borderColor!=="rgba(0,0,0,0.1)"||c.d.backgroundColor!=="rgba(0,0,0,0.1)"}var Ji={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(s,t,e){if(!e.enabled)return;const{data:{datasets:n},options:i}=s.config,{elements:r}=i,o=Qi(n)||ls(i)||r&&Qi(r)||Fn();if(!e.forceOverride&&o)return;const l=as(s);n.forEach(l)}};function Xs(s,t,e,n,i){const r=i.samples||n;if(r>=e)return s.slice(t,t+e);const o=[],l=(e-2)/(r-2);let u=0;const f=t+e-1;let b=t,v,M,k,I,N;for(o[u++]=s[b],v=0;v<r-2;v++){let st=0,Q=0,at;const vt=Math.floor((v+1)*l)+1+t,mt=Math.min(Math.floor((v+2)*l)+1,e)+t,ut=mt-vt;for(at=vt;at<mt;at++)st+=s[at].x,Q+=s[at].y;st/=ut,Q/=ut;const St=Math.floor(v*l)+1+t,Et=Math.min(Math.floor((v+1)*l)+1,e)+t,{x:Dt,y:Kt}=s[b];for(k=I=-1,at=St;at<Et;at++)I=.5*Math.abs((Dt-st)*(s[at].y-Kt)-(Dt-s[at].x)*(Q-Kt)),I>k&&(k=I,M=s[at],N=at);o[u++]=M,b=N}return o[u++]=s[f],o}function $s(s,t,e,n){let i=0,r=0,o,l,u,f,b,v,M,k,I,N;const st=[],Q=t+e-1,at=s[t].x,mt=s[Q].x-at;for(o=t;o<t+e;++o){l=s[o],u=(l.x-at)/mt*n,f=l.y;const ut=u|0;if(ut===b)f<I?(I=f,v=o):f>N&&(N=f,M=o),i=(r*i+l.x)/++r;else{const St=o-1;if(!(0,c.k)(v)&&!(0,c.k)(M)){const Et=Math.min(v,M),Dt=Math.max(v,M);Et!==k&&Et!==St&&st.push({...s[Et],x:i}),Dt!==k&&Dt!==St&&st.push({...s[Dt],x:i})}o>0&&St!==k&&st.push(s[St]),st.push(l),b=ut,r=0,I=N=f,v=M=k=o}}return st}function ms(s){if(s._decimated){const t=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function bs(s){s.data.datasets.forEach(t=>{ms(t)})}function Zs(s,t){const e=t.length;let n=0,i;const{iScale:r}=s,{min:o,max:l,minDefined:u,maxDefined:f}=r.getUserBounds();return u&&(n=(0,c.S)((0,c.B)(t,r.axis,o).lo,0,e-1)),f?i=(0,c.S)((0,c.B)(t,r.axis,l).hi+1,n,e)-n:i=e-n,{start:n,count:i}}var Gs={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,t,e)=>{if(!e.enabled){bs(s);return}const n=s.width;s.data.datasets.forEach((i,r)=>{const{_data:o,indexAxis:l}=i,u=s.getDatasetMeta(r),f=o||i.data;if((0,c.a)([l,s.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const b=s.scales[u.xAxisID];if(b.type!=="linear"&&b.type!=="time"||s.options.parsing)return;let{start:v,count:M}=Zs(u,f);const k=e.threshold||4*n;if(M<=k){ms(i);return}(0,c.k)(o)&&(i._data=f,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(N){this._data=N}}));let I;switch(e.algorithm){case"lttb":I=Xs(f,v,M,n,e);break;case"min-max":I=$s(f,v,M,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}i._decimated=I})},destroy(s){bs(s)}};function Qs(s,t,e){const n=s.segments,i=s.points,r=t.points,o=[];for(const l of n){let{start:u,end:f}=l;f=us(u,f,i);const b=cs(e,i[u],i[f],l.loop);if(!t.segments){o.push({source:l,target:b,start:i[u],end:i[f]});continue}const v=(0,c.an)(t,b);for(const M of v){const k=cs(e,r[M.start],r[M.end],M.loop),I=(0,c.ax)(l,i,k);for(const N of I)o.push({source:N,target:M,start:{[e]:_s(b,k,"start",Math.max)},end:{[e]:_s(b,k,"end",Math.min)}})}}return o}function cs(s,t,e,n){if(n)return;let i=t[s],r=e[s];return s==="angle"&&(i=(0,c.ay)(i),r=(0,c.ay)(r)),{property:s,start:i,end:r}}function Js(s,t){const{x:e=null,y:n=null}=s||{},i=t.points,r=[];return t.segments.forEach(({start:o,end:l})=>{l=us(o,l,i);const u=i[o],f=i[l];n!==null?(r.push({x:u.x,y:n}),r.push({x:f.x,y:n})):e!==null&&(r.push({x:e,y:u.y}),r.push({x:e,y:f.y}))}),r}function us(s,t,e){for(;t>s;t--){const n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function _s(s,t,e,n){return s&&t?n(s[e],t[e]):s?s[e]:t?t[e]:0}function ys(s,t){let e=[],n=!1;return(0,c.b)(s)?(n=!0,e=s):e=Js(s,t),e.length?new a({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function vs(s){return s&&s.fill!==!1}function qs(s,t,e){let i=s[t].fill;const r=[t];let o;if(!e)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!(0,c.g)(i))return i;if(o=s[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function tr(s,t,e){const n=sr(s);if((0,c.i)(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return(0,c.g)(i)&&Math.floor(i)===i?er(n[0],t,i,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function er(s,t,e,n){return(s==="-"||s==="+")&&(e=t+e),e===t||e<0||e>=n?!1:e}function nr(s,t){let e=null;return s==="start"?e=t.bottom:s==="end"?e=t.top:(0,c.i)(s)?e=t.getPixelForValue(s.value):t.getBasePixel&&(e=t.getBasePixel()),e}function ir(s,t,e){let n;return s==="start"?n=e:s==="end"?n=t.options.reverse?t.min:t.max:(0,c.i)(s)?n=s.value:n=t.getBaseValue(),n}function sr(s){const t=s.options,e=t.fill;let n=(0,c.v)(e&&e.target,e);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function rr(s){const{scale:t,index:e,line:n}=s,i=[],r=n.segments,o=n.points,l=or(t,e);l.push(ys({x:null,y:t.bottom},n));for(let u=0;u<r.length;u++){const f=r[u];for(let b=f.start;b<=f.end;b++)ar(i,o[b],l)}return new a({points:i,options:{}})}function or(s,t){const e=[],n=s.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const r=n[i];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}function ar(s,t,e){const n=[];for(let i=0;i<e.length;i++){const r=e[i],{first:o,last:l,point:u}=lr(r,t,"x");if(!(!u||o&&l)){if(o)n.unshift(u);else if(s.push(u),!l)break}}s.push(...n)}function lr(s,t,e){const n=s.interpolate(t,e);if(!n)return{};const i=n[e],r=s.segments,o=s.points;let l=!1,u=!1;for(let f=0;f<r.length;f++){const b=r[f],v=o[b.start][e],M=o[b.end][e];if((0,c.aj)(i,v,M)){l=i===v,u=i===M;break}}return{first:l,last:u,point:n}}class xs{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:i,y:r,radius:o}=this;return e=e||{start:0,end:c.T},t.arc(i,r,o,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:i}=this,r=t.angle;return{x:e+Math.cos(r)*i,y:n+Math.sin(r)*i,angle:r}}}function cr(s){const{chart:t,fill:e,line:n}=s;if((0,c.g)(e))return ur(t,e);if(e==="stack")return rr(s);if(e==="shape")return!0;const i=hr(s);return i instanceof xs?i:ys(i,n)}function ur(s,t){const e=s.getDatasetMeta(t);return e&&s.isDatasetVisible(t)?e.dataset:null}function hr(s){return(s.scale||{}).getPointPositionForValue?fr(s):dr(s)}function dr(s){const{scale:t={},fill:e}=s,n=nr(e,t);if((0,c.g)(n)){const i=t.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function fr(s){const{scale:t,fill:e}=s,n=t.options,i=t.getLabels().length,r=n.reverse?t.max:t.min,o=ir(e,t,r),l=[];if(n.grid.circular){const u=t.getPointPositionForValue(0,r);return new xs({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(o)})}for(let u=0;u<i;++u)l.push(t.getPointPositionForValue(u,o));return l}function hs(s,t,e){const n=cr(t),{line:i,scale:r,axis:o}=t,l=i.options,u=l.fill,f=l.backgroundColor,{above:b=f,below:v=f}=u||{};n&&i.points.length&&((0,c.Y)(s,e),gr(s,{line:i,target:n,above:b,below:v,area:e,scale:r,axis:o}),(0,c.$)(s))}function gr(s,t){const{line:e,target:n,above:i,below:r,area:o,scale:l}=t,u=e._loop?"angle":t.axis;s.save(),u==="x"&&r!==i&&(ws(s,n,o.top),Ms(s,{line:e,target:n,color:i,scale:l,property:u}),s.restore(),s.save(),ws(s,n,o.bottom)),Ms(s,{line:e,target:n,color:r,scale:l,property:u}),s.restore()}function ws(s,t,e){const{segments:n,points:i}=t;let r=!0,o=!1;s.beginPath();for(const l of n){const{start:u,end:f}=l,b=i[u],v=i[us(u,f,i)];r?(s.moveTo(b.x,b.y),r=!1):(s.lineTo(b.x,e),s.lineTo(b.x,b.y)),o=!!t.pathSegment(s,l,{move:o}),o?s.closePath():s.lineTo(v.x,e)}s.lineTo(t.first().x,e),s.closePath(),s.clip()}function Ms(s,t){const{line:e,target:n,property:i,color:r,scale:o}=t,l=Qs(e,n,i);for(const{source:u,target:f,start:b,end:v}of l){const{style:{backgroundColor:M=r}={}}=u,k=n!==!0;s.save(),s.fillStyle=M,pr(s,o,k&&cs(i,b,v)),s.beginPath();const I=!!e.pathSegment(s,u);let N;if(k){I?s.closePath():Ps(s,n,v,i);const st=!!n.pathSegment(s,f,{move:I,reverse:!0});N=I&&st,N||Ps(s,n,b,i)}s.closePath(),s.fill(N?"evenodd":"nonzero"),s.restore()}}function pr(s,t,e){const{top:n,bottom:i}=t.chart.chartArea,{property:r,start:o,end:l}=e||{};r==="x"&&(s.beginPath(),s.rect(o,n,l-o,i-n),s.clip())}function Ps(s,t,e,n){const i=t.interpolate(e,n);i&&s.lineTo(i.x,i.y)}var mr={id:"filler",afterDatasetsUpdate(s,t,e){const n=(s.data.datasets||[]).length,i=[];let r,o,l,u;for(o=0;o<n;++o)r=s.getDatasetMeta(o),l=r.dataset,u=null,l&&l.options&&l instanceof a&&(u={visible:s.isDatasetVisible(o),index:o,fill:tr(l,o,n),chart:s,axis:r.controller.options.indexAxis,scale:r.vScale,line:l}),r.$filler=u,i.push(u);for(o=0;o<n;++o)u=i[o],!(!u||u.fill===!1)&&(u.fill=qs(i,o,e.propagate))},beforeDraw(s,t,e){const n=e.drawTime==="beforeDraw",i=s.getSortedVisibleDatasetMetas(),r=s.chartArea;for(let o=i.length-1;o>=0;--o){const l=i[o].$filler;l&&(l.line.updateControlPoints(r,l.axis),n&&l.fill&&hs(s.ctx,l,r))}},beforeDatasetsDraw(s,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const n=s.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const r=n[i].$filler;vs(r)&&hs(s.ctx,r,s.chartArea)}},beforeDatasetDraw(s,t,e){const n=t.meta.$filler;!vs(n)||e.drawTime!=="beforeDatasetDraw"||hs(s.ctx,n,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Cs=(s,t)=>{let{boxHeight:e=t,boxWidth:n=t}=s;return s.usePointStyle&&(e=Math.min(e,t),n=s.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},br=(s,t)=>s!==null&&t!==null&&s.datasetIndex===t.datasetIndex&&s.index===t.index;class Ss extends Se{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=(0,c.Q)(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=(0,c.a0)(n.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=Cs(n,r);let f,b;e.font=i.string,this.isHorizontal()?(f=this.maxWidth,b=this._fitRows(o,r,l,u)+10):(b=this.maxHeight,f=this._fitCols(o,i,l,u)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(b,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,i){const{ctx:r,maxWidth:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],f=this.lineWidths=[0],b=i+l;let v=t;r.textAlign="left",r.textBaseline="middle";let M=-1,k=-b;return this.legendItems.forEach((I,N)=>{const st=n+e/2+r.measureText(I.text).width;(N===0||f[f.length-1]+st+2*l>o)&&(v+=b,f[f.length-(N>0?0:1)]=0,k+=b,M++),u[N]={left:0,top:k,row:M,width:st,height:i},f[f.length-1]+=st+l}),v}_fitCols(t,e,n,i){const{ctx:r,maxHeight:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],f=this.columnSizes=[],b=o-t;let v=l,M=0,k=0,I=0,N=0;return this.legendItems.forEach((st,Q)=>{const{itemWidth:at,itemHeight:vt}=_r(n,e,r,st,i);Q>0&&k+vt+2*l>b&&(v+=M+l,f.push({width:M,height:k}),I+=M+l,N++,M=k=0),u[Q]={left:I,top:k,col:N,width:at,height:vt},M=Math.max(M,at),k+=vt+l}),v+=M,f.push({width:M,height:k}),v}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:i},rtl:r}}=this,o=(0,c.az)(r,this.left,this.width);if(this.isHorizontal()){let l=0,u=(0,c.a2)(n,this.left+i,this.right-this.lineWidths[l]);for(const f of e)l!==f.row&&(l=f.row,u=(0,c.a2)(n,this.left+i,this.right-this.lineWidths[l])),f.top+=this.top+t+i,f.left=o.leftForLtr(o.x(u),f.width),u+=f.width+i}else{let l=0,u=(0,c.a2)(n,this.top+t+i,this.bottom-this.columnSizes[l].height);for(const f of e)f.col!==l&&(l=f.col,u=(0,c.a2)(n,this.top+t+i,this.bottom-this.columnSizes[l].height)),f.top=u,f.left+=this.left+i,f.left=o.leftForLtr(o.x(f.left),f.width),u+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;(0,c.Y)(t,this),this._draw(),(0,c.$)(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:i}=this,{align:r,labels:o}=t,l=c.d.color,u=(0,c.az)(t.rtl,this.left,this.width),f=(0,c.a0)(o.font),{padding:b}=o,v=f.size,M=v/2;let k;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:I,boxHeight:N,itemHeight:st}=Cs(o,v),Q=function(St,Et,Dt){if(isNaN(I)||I<=0||isNaN(N)||N<0)return;i.save();const Kt=(0,c.v)(Dt.lineWidth,1);if(i.fillStyle=(0,c.v)(Dt.fillStyle,l),i.lineCap=(0,c.v)(Dt.lineCap,"butt"),i.lineDashOffset=(0,c.v)(Dt.lineDashOffset,0),i.lineJoin=(0,c.v)(Dt.lineJoin,"miter"),i.lineWidth=Kt,i.strokeStyle=(0,c.v)(Dt.strokeStyle,l),i.setLineDash((0,c.v)(Dt.lineDash,[])),o.usePointStyle){const Qt={radius:N*Math.SQRT2/2,pointStyle:Dt.pointStyle,rotation:Dt.rotation,borderWidth:Kt},Jt=u.xPlus(St,I/2),se=Et+M;(0,c.aD)(i,Qt,Jt,se,o.pointStyleWidth&&I)}else{const Qt=Et+Math.max((v-N)/2,0),Jt=u.leftForLtr(St,I),se=(0,c.aw)(Dt.borderRadius);i.beginPath(),Object.values(se).some(_e=>_e!==0)?(0,c.au)(i,{x:Jt,y:Qt,w:I,h:N,radius:se}):i.rect(Jt,Qt,I,N),i.fill(),Kt!==0&&i.stroke()}i.restore()},at=function(St,Et,Dt){(0,c.Z)(i,Dt.text,St,Et+st/2,f,{strikethrough:Dt.hidden,textAlign:u.textAlign(Dt.textAlign)})},vt=this.isHorizontal(),mt=this._computeTitleHeight();vt?k={x:(0,c.a2)(r,this.left+b,this.right-n[0]),y:this.top+b+mt,line:0}:k={x:this.left+b,y:(0,c.a2)(r,this.top+mt+b,this.bottom-e[0].height),line:0},(0,c.aA)(this.ctx,t.textDirection);const ut=st+b;this.legendItems.forEach((St,Et)=>{i.strokeStyle=St.fontColor,i.fillStyle=St.fontColor;const Dt=i.measureText(St.text).width,Kt=u.textAlign(St.textAlign||(St.textAlign=o.textAlign)),Qt=I+M+Dt;let Jt=k.x,se=k.y;u.setWidth(this.width),vt?Et>0&&Jt+Qt+b>this.right&&(se=k.y+=ut,k.line++,Jt=k.x=(0,c.a2)(r,this.left+b,this.right-n[k.line])):Et>0&&se+ut>this.bottom&&(Jt=k.x=Jt+e[k.line].width+b,k.line++,se=k.y=(0,c.a2)(r,this.top+mt+b,this.bottom-e[k.line].height));const _e=u.x(Jt);if(Q(_e,se,St),Jt=(0,c.aB)(Kt,Jt+I+M,vt?Jt+Qt:this.right,t.rtl),at(u.x(Jt),se,St),vt)k.x+=Qt+b;else if(typeof St.text!="string"){const Oe=f.lineHeight;k.y+=Es(St,Oe)+b}else k.y+=ut}),(0,c.aC)(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=(0,c.a0)(e.font),i=(0,c.E)(e.padding);if(!e.display)return;const r=(0,c.az)(t.rtl,this.left,this.width),o=this.ctx,l=e.position,u=n.size/2,f=i.top+u;let b,v=this.left,M=this.width;if(this.isHorizontal())M=Math.max(...this.lineWidths),b=this.top+f,v=(0,c.a2)(t.align,v,this.right-M);else{const I=this.columnSizes.reduce((N,st)=>Math.max(N,st.height),0);b=f+(0,c.a2)(t.align,this.top,this.bottom-I-t.labels.padding-this._computeTitleHeight())}const k=(0,c.a2)(l,v,v+M);o.textAlign=r.textAlign((0,c.a1)(l)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,(0,c.Z)(o,e.text,k,b,n)}_computeTitleHeight(){const t=this.options.title,e=(0,c.a0)(t.font),n=(0,c.E)(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,i,r;if((0,c.aj)(t,this.left,this.right)&&(0,c.aj)(e,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],(0,c.aj)(t,i.left,i.left+i.width)&&(0,c.aj)(e,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const e=this.options;if(!xr(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,r=br(i,n);i&&!r&&(0,c.Q)(e.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!r&&(0,c.Q)(e.onHover,[t,n,this],this)}else n&&(0,c.Q)(e.onClick,[t,n,this],this)}}function _r(s,t,e,n,i){const r=yr(n,s,t,e),o=vr(i,n,t.lineHeight);return{itemWidth:r,itemHeight:o}}function yr(s,t,e,n){let i=s.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),t+e.size/2+n.measureText(i).width}function vr(s,t,e){let n=s;return typeof t.text!="string"&&(n=Es(t,e)),n}function Es(s,t){const e=s.text?s.text.length:0;return t*e}function xr(s,t){return!!((s==="mousemove"||s==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(s==="click"||s==="mouseup"))}var wr={id:"legend",_element:Ss,start(s,t,e){const n=s.legend=new Ss({ctx:s.ctx,options:e,chart:s});ge.configure(s,n,e),ge.addBox(s,n)},stop(s){ge.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,t,e){const n=s.legend;ge.configure(s,n,e),n.options=e},afterUpdate(s){const t=s.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(s,t){t.replay||s.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,t,e){const n=t.datasetIndex,i=e.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const t=s.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:i,color:r,useBorderRadius:o,borderRadius:l}}=s.legend.options;return s._getSortedDatasetMetas().map(u=>{const f=u.controller.getStyle(e?0:void 0),b=(0,c.E)(f.borderWidth);return{text:t[u.index].label,fillStyle:f.backgroundColor,fontColor:r,hidden:!u.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(b.width+b.height)/4,strokeStyle:f.borderColor,pointStyle:n||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:o&&(l||f.borderRadius),datasetIndex:u.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class ds extends Se{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const i=(0,c.b)(n.text)?n.text.length:1;this._padding=(0,c.E)(n.padding);const r=i*(0,c.a0)(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:n,bottom:i,right:r,options:o}=this,l=o.align;let u=0,f,b,v;return this.isHorizontal()?(b=(0,c.a2)(l,n,r),v=e+t,f=r-n):(o.position==="left"?(b=n+t,v=(0,c.a2)(l,i,e),u=c.P*-.5):(b=r-t,v=(0,c.a2)(l,e,i),u=c.P*.5),f=i-e),{titleX:b,titleY:v,maxWidth:f,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=(0,c.a0)(e.font),r=n.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:u,rotation:f}=this._drawArgs(r);(0,c.Z)(t,e.text,0,0,n,{color:e.color,maxWidth:u,rotation:f,textAlign:(0,c.a1)(e.align),textBaseline:"middle",translation:[o,l]})}}function Mr(s,t){const e=new ds({ctx:s.ctx,options:t,chart:s});ge.configure(s,e,t),ge.addBox(s,e),s.titleBlock=e}var Pr={id:"title",_element:ds,start(s,t,e){Mr(s,e)},stop(s){const t=s.titleBlock;ge.removeBox(s,t),delete s.titleBlock},beforeUpdate(s,t,e){const n=s.titleBlock;ge.configure(s,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qi=new WeakMap;var Cr={id:"subtitle",start(s,t,e){const n=new ds({ctx:s.ctx,options:e,chart:s});ge.configure(s,n,e),ge.addBox(s,n),qi.set(s,n)},stop(s){ge.removeBox(s,qi.get(s)),qi.delete(s)},beforeUpdate(s,t,e){const n=qi.get(s);ge.configure(s,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yi={average(s){if(!s.length)return!1;let t,e,n=new Set,i=0,r=0;for(t=0,e=s.length;t<e;++t){const l=s[t].element;if(l&&l.hasValue()){const u=l.tooltipPosition();n.add(u.x),i+=u.y,++r}}return r===0||n.size===0?!1:{x:[...n].reduce((l,u)=>l+u)/n.size,y:i/r}},nearest(s,t){if(!s.length)return!1;let e=t.x,n=t.y,i=Number.POSITIVE_INFINITY,r,o,l;for(r=0,o=s.length;r<o;++r){const u=s[r].element;if(u&&u.hasValue()){const f=u.getCenterPoint(),b=(0,c.aE)(t,f);b<i&&(i=b,l=u)}}if(l){const u=l.tooltipPosition();e=u.x,n=u.y}return{x:e,y:n}}};function tn(s,t){return t&&((0,c.b)(t)?Array.prototype.push.apply(s,t):s.push(t)),s}function fn(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function Sr(s,t){const{element:e,datasetIndex:n,index:i}=t,r=s.getDatasetMeta(n).controller,{label:o,value:l}=r.getLabelAndValue(i);return{chart:s,label:o,parsed:r.getParsed(i),raw:s.data.datasets[n].data[i],formattedValue:l,dataset:r.getDataset(),dataIndex:i,datasetIndex:n,element:e}}function ks(s,t){const e=s.chart.ctx,{body:n,footer:i,title:r}=s,{boxWidth:o,boxHeight:l}=t,u=(0,c.a0)(t.bodyFont),f=(0,c.a0)(t.titleFont),b=(0,c.a0)(t.footerFont),v=r.length,M=i.length,k=n.length,I=(0,c.E)(t.padding);let N=I.height,st=0,Q=n.reduce((mt,ut)=>mt+ut.before.length+ut.lines.length+ut.after.length,0);if(Q+=s.beforeBody.length+s.afterBody.length,v&&(N+=v*f.lineHeight+(v-1)*t.titleSpacing+t.titleMarginBottom),Q){const mt=t.displayColors?Math.max(l,u.lineHeight):u.lineHeight;N+=k*mt+(Q-k)*u.lineHeight+(Q-1)*t.bodySpacing}M&&(N+=t.footerMarginTop+M*b.lineHeight+(M-1)*t.footerSpacing);let at=0;const vt=function(mt){st=Math.max(st,e.measureText(mt).width+at)};return e.save(),e.font=f.string,(0,c.F)(s.title,vt),e.font=u.string,(0,c.F)(s.beforeBody.concat(s.afterBody),vt),at=t.displayColors?o+2+t.boxPadding:0,(0,c.F)(n,mt=>{(0,c.F)(mt.before,vt),(0,c.F)(mt.lines,vt),(0,c.F)(mt.after,vt)}),at=0,e.font=b.string,(0,c.F)(s.footer,vt),e.restore(),st+=I.width,{width:st,height:N}}function Er(s,t){const{y:e,height:n}=t;return e<n/2?"top":e>s.height-n/2?"bottom":"center"}function kr(s,t,e,n){const{x:i,width:r}=n,o=e.caretSize+e.caretPadding;if(s==="left"&&i+r+o>t.width||s==="right"&&i-r-o<0)return!0}function Dr(s,t,e,n){const{x:i,width:r}=e,{width:o,chartArea:{left:l,right:u}}=s;let f="center";return n==="center"?f=i<=(l+u)/2?"left":"right":i<=r/2?f="left":i>=o-r/2&&(f="right"),kr(f,s,t,e)&&(f="center"),f}function Ds(s,t,e){const n=e.yAlign||t.yAlign||Er(s,e);return{xAlign:e.xAlign||t.xAlign||Dr(s,t,e,n),yAlign:n}}function Or(s,t){let{x:e,width:n}=s;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function Tr(s,t,e){let{y:n,height:i}=s;return t==="top"?n+=e:t==="bottom"?n-=i+e:n-=i/2,n}function Os(s,t,e,n){const{caretSize:i,caretPadding:r,cornerRadius:o}=s,{xAlign:l,yAlign:u}=e,f=i+r,{topLeft:b,topRight:v,bottomLeft:M,bottomRight:k}=(0,c.aw)(o);let I=Or(t,l);const N=Tr(t,u,f);return u==="center"?l==="left"?I+=f:l==="right"&&(I-=f):l==="left"?I-=Math.max(b,M)+i:l==="right"&&(I+=Math.max(v,k)+i),{x:(0,c.S)(I,0,n.width-t.width),y:(0,c.S)(N,0,n.height-t.height)}}function ts(s,t,e){const n=(0,c.E)(e.padding);return t==="center"?s.x+s.width/2:t==="right"?s.x+s.width-n.right:s.x+n.left}function Ts(s){return tn([],fn(s))}function Ar(s,t,e){return(0,c.j)(s,{tooltip:t,tooltipItems:e,type:"tooltip"})}function As(s,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?s.override(e):s}const Ls={beforeTitle:c.aF,title(s){if(s.length>0){const t=s[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:c.aF,beforeBody:c.aF,beforeLabel:c.aF,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let t=s.dataset.label||"";t&&(t+=": ");const e=s.formattedValue;return(0,c.k)(e)||(t+=e),t},labelColor(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:c.aF,afterBody:c.aF,beforeFooter:c.aF,footer:c.aF,afterFooter:c.aF};function Ee(s,t,e,n){const i=s[t].call(e,n);return typeof i>"u"?Ls[t].call(e,n):i}class Rs extends Se{static positioners=Yi;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,r=new ot(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Ar(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:n}=e,i=Ee(n,"beforeTitle",this,t),r=Ee(n,"title",this,t),o=Ee(n,"afterTitle",this,t);let l=[];return l=tn(l,fn(i)),l=tn(l,fn(r)),l=tn(l,fn(o)),l}getBeforeBody(t,e){return Ts(Ee(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,i=[];return(0,c.F)(t,r=>{const o={before:[],lines:[],after:[]},l=As(n,r);tn(o.before,fn(Ee(l,"beforeLabel",this,r))),tn(o.lines,Ee(l,"label",this,r)),tn(o.after,fn(Ee(l,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(t,e){return Ts(Ee(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,i=Ee(n,"beforeFooter",this,t),r=Ee(n,"footer",this,t),o=Ee(n,"afterFooter",this,t);let l=[];return l=tn(l,fn(i)),l=tn(l,fn(r)),l=tn(l,fn(o)),l}_createItems(t){const e=this._active,n=this.chart.data,i=[],r=[],o=[];let l=[],u,f;for(u=0,f=e.length;u<f;++u)l.push(Sr(this.chart,e[u]));return t.filter&&(l=l.filter((b,v,M)=>t.filter(b,v,M,n))),t.itemSort&&(l=l.sort((b,v)=>t.itemSort(b,v,n))),(0,c.F)(l,b=>{const v=As(t.callbacks,b);i.push(Ee(v,"labelColor",this,b)),r.push(Ee(v,"labelPointStyle",this,b)),o.push(Ee(v,"labelTextColor",this,b))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const l=Yi[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const u=this._size=ks(this,n),f=Object.assign({},l,u),b=Ds(this.chart,n,f),v=Os(n,f,b,this.chart);this.xAlign=b.xAlign,this.yAlign=b.yAlign,r={opacity:1,x:v.x,y:v.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const r=this.getCaretPosition(t,n,i);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:l}=n,{topLeft:u,topRight:f,bottomLeft:b,bottomRight:v}=(0,c.aw)(l),{x:M,y:k}=t,{width:I,height:N}=e;let st,Q,at,vt,mt,ut;return r==="center"?(mt=k+N/2,i==="left"?(st=M,Q=st-o,vt=mt+o,ut=mt-o):(st=M+I,Q=st+o,vt=mt-o,ut=mt+o),at=st):(i==="left"?Q=M+Math.max(u,b)+o:i==="right"?Q=M+I-Math.max(f,v)-o:Q=this.caretX,r==="top"?(vt=k,mt=vt-o,st=Q-o,at=Q+o):(vt=k+N,mt=vt+o,st=Q+o,at=Q-o),ut=vt),{x1:st,x2:Q,x3:at,y1:vt,y2:mt,y3:ut}}drawTitle(t,e,n){const i=this.title,r=i.length;let o,l,u;if(r){const f=(0,c.az)(n.rtl,this.x,this.width);for(t.x=ts(this,n.titleAlign,n),e.textAlign=f.textAlign(n.titleAlign),e.textBaseline="middle",o=(0,c.a0)(n.titleFont),l=n.titleSpacing,e.fillStyle=n.titleColor,e.font=o.string,u=0;u<r;++u)e.fillText(i[u],f.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+l,u+1===r&&(t.y+=n.titleMarginBottom-l)}}_drawColorBox(t,e,n,i,r){const o=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:u,boxWidth:f}=r,b=(0,c.a0)(r.bodyFont),v=ts(this,"left",r),M=i.x(v),k=u<b.lineHeight?(b.lineHeight-u)/2:0,I=e.y+k;if(r.usePointStyle){const N={radius:Math.min(f,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},st=i.leftForLtr(M,f)+f/2,Q=I+u/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,(0,c.at)(t,N,st,Q),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,(0,c.at)(t,N,st,Q)}else{t.lineWidth=(0,c.i)(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const N=i.leftForLtr(M,f),st=i.leftForLtr(i.xPlus(M,1),f-2),Q=(0,c.aw)(o.borderRadius);Object.values(Q).some(at=>at!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,(0,c.au)(t,{x:N,y:I,w:f,h:u,radius:Q}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),(0,c.au)(t,{x:st,y:I+1,w:f-2,h:u-2,radius:Q}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(N,I,f,u),t.strokeRect(N,I,f,u),t.fillStyle=o.backgroundColor,t.fillRect(st,I+1,f-2,u-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:l,boxHeight:u,boxWidth:f,boxPadding:b}=n,v=(0,c.a0)(n.bodyFont);let M=v.lineHeight,k=0;const I=(0,c.az)(n.rtl,this.x,this.width),N=function(Dt){e.fillText(Dt,I.x(t.x+k),t.y+M/2),t.y+=M+r},st=I.textAlign(o);let Q,at,vt,mt,ut,St,Et;for(e.textAlign=o,e.textBaseline="middle",e.font=v.string,t.x=ts(this,st,n),e.fillStyle=n.bodyColor,(0,c.F)(this.beforeBody,N),k=l&&st!=="right"?o==="center"?f/2+b:f+2+b:0,mt=0,St=i.length;mt<St;++mt){for(Q=i[mt],at=this.labelTextColors[mt],e.fillStyle=at,(0,c.F)(Q.before,N),vt=Q.lines,l&&vt.length&&(this._drawColorBox(e,t,mt,I,n),M=Math.max(v.lineHeight,u)),ut=0,Et=vt.length;ut<Et;++ut)N(vt[ut]),M=v.lineHeight;(0,c.F)(Q.after,N)}k=0,M=v.lineHeight,(0,c.F)(this.afterBody,N),t.y-=r}drawFooter(t,e,n){const i=this.footer,r=i.length;let o,l;if(r){const u=(0,c.az)(n.rtl,this.x,this.width);for(t.x=ts(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=u.textAlign(n.footerAlign),e.textBaseline="middle",o=(0,c.a0)(n.footerFont),e.fillStyle=n.footerColor,e.font=o.string,l=0;l<r;++l)e.fillText(i[l],u.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:r,yAlign:o}=this,{x:l,y:u}=t,{width:f,height:b}=n,{topLeft:v,topRight:M,bottomLeft:k,bottomRight:I}=(0,c.aw)(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(l+v,u),o==="top"&&this.drawCaret(t,e,n,i),e.lineTo(l+f-M,u),e.quadraticCurveTo(l+f,u,l+f,u+M),o==="center"&&r==="right"&&this.drawCaret(t,e,n,i),e.lineTo(l+f,u+b-I),e.quadraticCurveTo(l+f,u+b,l+f-I,u+b),o==="bottom"&&this.drawCaret(t,e,n,i),e.lineTo(l+k,u+b),e.quadraticCurveTo(l,u+b,l,u+b-k),o==="center"&&r==="left"&&this.drawCaret(t,e,n,i),e.lineTo(l,u+v),e.quadraticCurveTo(l,u,l+v,u),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const o=Yi[t.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=ks(this,t),u=Object.assign({},o,this._size),f=Ds(e,t,u),b=Os(t,u,f,e);(i._to!==b.x||r._to!==b.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,b))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=(0,c.E)(e.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&l&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,i,e),(0,c.aA)(t,e.textDirection),r.y+=o.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),(0,c.aC)(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map(({datasetIndex:l,index:u})=>{const f=this.chart.getDatasetMeta(l);if(!f)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:f.data[u],index:u}}),r=!(0,c.ah)(n,i),o=this._positionChanged(i,e);(r||o)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(t,r,e,n),l=this._positionChanged(o,t),u=e||!(0,c.ah)(o,r)||l;return u&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),u}_getActiveElements(t,e,n,i){const r=this.options;if(t.type==="mouseout")return[];if(!i)return e.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:n,caretY:i,options:r}=this,o=Yi[r.position].call(this,t,e);return o!==!1&&(n!==o.x||i!==o.y)}}var Lr={id:"tooltip",_element:Rs,positioners:Yi,afterInit(s,t,e){e&&(s.tooltip=new Rs({chart:s,options:e}))},beforeUpdate(s,t,e){s.tooltip&&s.tooltip.initialize(e)},reset(s,t,e){s.tooltip&&s.tooltip.initialize(e)},afterDraw(s){const t=s.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(s.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",e)}},afterEvent(s,t){if(s.tooltip){const e=t.replay;s.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,t)=>t.bodyFont.size,boxWidth:(s,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ls},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Rr=Object.freeze({__proto__:null,Colors:Ji,Decimation:Gs,Filler:mr,Legend:wr,SubTitle:Cr,Title:Pr,Tooltip:Lr});const Ir=(s,t,e,n)=>(typeof t=="string"?(e=s.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Br(s,t,e,n){const i=s.indexOf(t);if(i===-1)return Ir(s,t,e,n);const r=s.lastIndexOf(t);return i!==r?e:i}const Fr=(s,t)=>s===null?null:(0,c.S)(Math.round(s),0,t);function Is(s){const t=this.getLabels();return s>=0&&s<t.length?t[s]:s}class Wr extends Re{static id="category";static defaults={ticks:{callback:Is}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const n=this.getLabels();for(const{index:i,label:r}of e)n[i]===r&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if((0,c.k)(t))return null;const n=this.getLabels();return e=isFinite(e)&&n[e]===t?e:Br(n,t,(0,c.v)(e,t),this._addedLabels),Fr(e,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=t===0&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=t;o<=e;o++)i.push({value:o});return i}getLabelForValue(t){return Is.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function zr(s,t){const e=[],{bounds:i,step:r,min:o,max:l,precision:u,count:f,maxTicks:b,maxDigits:v,includeBounds:M}=s,k=r||1,I=b-1,{min:N,max:st}=t,Q=!(0,c.k)(o),at=!(0,c.k)(l),vt=!(0,c.k)(f),mt=(st-N)/(v+1);let ut=(0,c.aH)((st-N)/I/k)*k,St,Et,Dt,Kt;if(ut<1e-14&&!Q&&!at)return[{value:N},{value:st}];Kt=Math.ceil(st/ut)-Math.floor(N/ut),Kt>I&&(ut=(0,c.aH)(Kt*ut/I/k)*k),(0,c.k)(u)||(St=Math.pow(10,u),ut=Math.ceil(ut*St)/St),i==="ticks"?(Et=Math.floor(N/ut)*ut,Dt=Math.ceil(st/ut)*ut):(Et=N,Dt=st),Q&&at&&r&&(0,c.aI)((l-o)/r,ut/1e3)?(Kt=Math.round(Math.min((l-o)/ut,b)),ut=(l-o)/Kt,Et=o,Dt=l):vt?(Et=Q?o:Et,Dt=at?l:Dt,Kt=f-1,ut=(Dt-Et)/Kt):(Kt=(Dt-Et)/ut,(0,c.aJ)(Kt,Math.round(Kt),ut/1e3)?Kt=Math.round(Kt):Kt=Math.ceil(Kt));const Qt=Math.max((0,c.aK)(ut),(0,c.aK)(Et));St=Math.pow(10,(0,c.k)(u)?Qt:u),Et=Math.round(Et*St)/St,Dt=Math.round(Dt*St)/St;let Jt=0;for(Q&&(M&&Et!==o?(e.push({value:o}),Et<o&&Jt++,(0,c.aJ)(Math.round((Et+Jt*ut)*St)/St,o,Bs(o,mt,s))&&Jt++):Et<o&&Jt++);Jt<Kt;++Jt){const se=Math.round((Et+Jt*ut)*St)/St;if(at&&se>l)break;e.push({value:se})}return at&&M&&Dt!==l?e.length&&(0,c.aJ)(e[e.length-1].value,l,Bs(l,mt,s))?e[e.length-1].value=l:e.push({value:l}):(!at||Dt===l)&&e.push({value:Dt}),e}function Bs(s,t,{horizontal:e,minRotation:n}){const i=(0,c.t)(n),r=(e?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+s).length;return Math.min(t/r,o)}class es extends Re{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return(0,c.k)(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const o=u=>i=e?i:u,l=u=>r=n?r:u;if(t){const u=(0,c.s)(i),f=(0,c.s)(r);u<0&&f<0?l(0):u>0&&f>0&&o(0)}if(i===r){let u=r===0?1:Math.abs(r*.05);l(r+u),t||o(i-u)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),e=e||11),e&&(i=Math.min(e,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,o=zr(i,r);return t.bounds==="ticks"&&(0,c.aG)(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return(0,c.o)(t,this.chart.options.locale,this.options.ticks.format)}}class jr extends es{static id="linear";static defaults={ticks:{callback:c.aL.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=(0,c.g)(t)?t:0,this.max=(0,c.g)(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=(0,c.t)(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Xi=s=>Math.floor((0,c.aM)(s)),ii=(s,t)=>Math.pow(10,Xi(s)+t);function Fs(s){return s/Math.pow(10,Xi(s))===1}function Ws(s,t,e){const n=Math.pow(10,e),i=Math.floor(s/n);return Math.ceil(t/n)-i}function Nr(s,t){const e=t-s;let n=Xi(e);for(;Ws(s,t,n)>10;)n++;for(;Ws(s,t,n)<10;)n--;return Math.min(n,Xi(s))}function Hr(s,{min:t,max:e}){t=(0,c.O)(s.min,t);const n=[],i=Xi(t);let r=Nr(t,e),o=r<0?Math.pow(10,Math.abs(r)):1;const l=Math.pow(10,r),u=i>r?Math.pow(10,i):0,f=Math.round((t-u)*o)/o,b=Math.floor((t-u)/l/10)*l*10;let v=Math.floor((f-b)/Math.pow(10,r)),M=(0,c.O)(s.min,Math.round((u+b+v*Math.pow(10,r))*o)/o);for(;M<e;)n.push({value:M,major:Fs(M),significand:v}),v>=10?v=v<15?15:20:v++,v>=20&&(r++,v=2,o=r>=0?1:o),M=Math.round((u+b+v*Math.pow(10,r))*o)/o;const k=(0,c.O)(s.max,M);return n.push({value:k,major:Fs(k),significand:v}),n}class Vr extends Re{static id="logarithmic";static defaults={ticks:{callback:c.aL.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=es.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return(0,c.g)(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=(0,c.g)(t)?Math.max(0,t):null,this.max=(0,c.g)(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!(0,c.g)(this._userMin)&&(this.min=t===ii(this.min,0)?ii(this.min,-1):ii(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,i=this.max;const r=l=>n=t?n:l,o=l=>i=e?i:l;n===i&&(n<=0?(r(1),o(10)):(r(ii(n,-1)),o(ii(i,1)))),n<=0&&r(ii(i,-1)),i<=0&&o(ii(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},n=Hr(e,this);return t.bounds==="ticks"&&(0,c.aG)(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":(0,c.o)(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=(0,c.aM)(t),this._valueRange=(0,c.aM)(this.max)-(0,c.aM)(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:((0,c.aM)(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function fs(s){const t=s.ticks;if(t.display&&s.display){const e=(0,c.E)(t.backdropPadding);return(0,c.v)(t.font&&t.font.size,c.d.font.size)+e.height}return 0}function Ur(s,t,e){return e=(0,c.b)(e)?e:[e],{w:(0,c.aN)(s,t.string,e),h:e.length*t.lineHeight}}function zs(s,t,e,n,i){return s===n||s===i?{start:t-e/2,end:t+e/2}:s<n||s>i?{start:t-e,end:t}:{start:t,end:t+e}}function Kr(s){const t={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},e=Object.assign({},t),n=[],i=[],r=s._pointLabels.length,o=s.options.pointLabels,l=o.centerPointLabels?c.P/r:0;for(let u=0;u<r;u++){const f=o.setContext(s.getPointLabelContext(u));i[u]=f.padding;const b=s.getPointPosition(u,s.drawingArea+i[u],l),v=(0,c.a0)(f.font),M=Ur(s.ctx,v,s._pointLabels[u]);n[u]=M;const k=(0,c.ay)(s.getIndexAngle(u)+l),I=Math.round((0,c.U)(k)),N=zs(I,b.x,M.w,0,180),st=zs(I,b.y,M.h,90,270);Yr(e,t,k,N,st)}s.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),s._pointLabelItems=Zr(s,n,i)}function Yr(s,t,e,n,i){const r=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let l=0,u=0;n.start<t.l?(l=(t.l-n.start)/r,s.l=Math.min(s.l,t.l-l)):n.end>t.r&&(l=(n.end-t.r)/r,s.r=Math.max(s.r,t.r+l)),i.start<t.t?(u=(t.t-i.start)/o,s.t=Math.min(s.t,t.t-u)):i.end>t.b&&(u=(i.end-t.b)/o,s.b=Math.max(s.b,t.b+u))}function Xr(s,t,e){const n=s.drawingArea,{extra:i,additionalAngle:r,padding:o,size:l}=e,u=s.getPointPosition(t,n+i+o,r),f=Math.round((0,c.U)((0,c.ay)(u.angle+c.H))),b=Jr(u.y,l.h,f),v=Gr(f),M=Qr(u.x,l.w,v);return{visible:!0,x:u.x,y:b,textAlign:v,left:M,top:b,right:M+l.w,bottom:b+l.h}}function $r(s,t){if(!t)return!0;const{left:e,top:n,right:i,bottom:r}=s;return!((0,c.C)({x:e,y:n},t)||(0,c.C)({x:e,y:r},t)||(0,c.C)({x:i,y:n},t)||(0,c.C)({x:i,y:r},t))}function Zr(s,t,e){const n=[],i=s._pointLabels.length,r=s.options,{centerPointLabels:o,display:l}=r.pointLabels,u={extra:fs(r)/2,additionalAngle:o?c.P/i:0};let f;for(let b=0;b<i;b++){u.padding=e[b],u.size=t[b];const v=Xr(s,b,u);n.push(v),l==="auto"&&(v.visible=$r(v,f),v.visible&&(f=v))}return n}function Gr(s){return s===0||s===180?"center":s<180?"left":"right"}function Qr(s,t,e){return e==="right"?s-=t:e==="center"&&(s-=t/2),s}function Jr(s,t,e){return e===90||e===270?s-=t/2:(e>270||e<90)&&(s-=t),s}function qr(s,t,e){const{left:n,top:i,right:r,bottom:o}=e,{backdropColor:l}=t;if(!(0,c.k)(l)){const u=(0,c.aw)(t.borderRadius),f=(0,c.E)(t.backdropPadding);s.fillStyle=l;const b=n-f.left,v=i-f.top,M=r-n+f.width,k=o-i+f.height;Object.values(u).some(I=>I!==0)?(s.beginPath(),(0,c.au)(s,{x:b,y:v,w:M,h:k,radius:u}),s.fill()):s.fillRect(b,v,M,k)}}function to(s,t){const{ctx:e,options:{pointLabels:n}}=s;for(let i=t-1;i>=0;i--){const r=s._pointLabelItems[i];if(!r.visible)continue;const o=n.setContext(s.getPointLabelContext(i));qr(e,o,r);const l=(0,c.a0)(o.font),{x:u,y:f,textAlign:b}=r;(0,c.Z)(e,s._pointLabels[i],u,f+l.lineHeight/2,l,{color:o.color,textAlign:b,textBaseline:"middle"})}}function js(s,t,e,n){const{ctx:i}=s;if(e)i.arc(s.xCenter,s.yCenter,t,0,c.T);else{let r=s.getPointPosition(0,t);i.moveTo(r.x,r.y);for(let o=1;o<n;o++)r=s.getPointPosition(o,t),i.lineTo(r.x,r.y)}}function eo(s,t,e,n,i){const r=s.ctx,o=t.circular,{color:l,lineWidth:u}=t;!o&&!n||!l||!u||e<0||(r.save(),r.strokeStyle=l,r.lineWidth=u,r.setLineDash(i.dash||[]),r.lineDashOffset=i.dashOffset,r.beginPath(),js(s,e,o,n),r.closePath(),r.stroke(),r.restore())}function no(s,t,e){return(0,c.j)(s,{label:e,index:t,type:"pointLabel"})}class io extends es{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:c.aL.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=(0,c.E)(fs(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=(0,c.g)(t)&&!isNaN(t)?t:0,this.max=(0,c.g)(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/fs(this.options))}generateTickLabels(t){es.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{const i=(0,c.Q)(this.options.pointLabels.callback,[e,n],this);return i||i===0?i:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?Kr(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,i))}getIndexAngle(t){const e=c.T/(this._pointLabels.length||1),n=this.options.startAngle||0;return(0,c.ay)(t*e+(0,c.t)(n))}getDistanceFromCenterForValue(t){if((0,c.k)(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if((0,c.k)(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return no(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const i=this.getIndexAngle(t)-c.H+n;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:i,bottom:r}=this._pointLabelItems[t];return{left:e,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),js(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:i,border:r}=e,o=this._pointLabels.length;let l,u,f;if(e.pointLabels.display&&to(this,o),i.display&&this.ticks.forEach((b,v)=>{if(v!==0||v===0&&this.min<0){u=this.getDistanceFromCenterForValue(b.value);const M=this.getContext(v),k=i.setContext(M),I=r.setContext(M);eo(this,k,u,o,I)}}),n.display){for(t.save(),l=o-1;l>=0;l--){const b=n.setContext(this.getPointLabelContext(l)),{color:v,lineWidth:M}=b;!M||!v||(t.lineWidth=M,t.strokeStyle=v,t.setLineDash(b.borderDash),t.lineDashOffset=b.borderDashOffset,u=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),f=this.getPointPosition(l,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(f.x,f.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,u)=>{if(u===0&&this.min>=0&&!e.reverse)return;const f=n.setContext(this.getContext(u)),b=(0,c.a0)(f.font);if(r=this.getDistanceFromCenterForValue(this.ticks[u].value),f.showLabelBackdrop){t.font=b.string,o=t.measureText(l.label).width,t.fillStyle=f.backdropColor;const v=(0,c.E)(f.backdropPadding);t.fillRect(-o/2-v.left,-r-b.size/2-v.top,o+v.width,b.size+v.height)}(0,c.Z)(t,l.label,0,-r,b,{color:f.color,strokeColor:f.textStrokeColor,strokeWidth:f.textStrokeWidth})}),t.restore()}drawTitle(){}}const ns={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ke=Object.keys(ns);function Ns(s,t){return s-t}function Hs(s,t){if((0,c.k)(t))return null;const e=s._adapter,{parser:n,round:i,isoWeekday:r}=s._parseOpts;let o=t;return typeof n=="function"&&(o=n(o)),(0,c.g)(o)||(o=typeof n=="string"?e.parse(o,n):e.parse(o)),o===null?null:(i&&(o=i==="week"&&((0,c.x)(r)||r===!0)?e.startOf(o,"isoWeek",r):e.startOf(o,i)),+o)}function Vs(s,t,e,n){const i=ke.length;for(let r=ke.indexOf(s);r<i-1;++r){const o=ns[ke[r]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(l*o.size))<=n)return ke[r]}return ke[i-1]}function so(s,t,e,n,i){for(let r=ke.length-1;r>=ke.indexOf(e);r--){const o=ke[r];if(ns[o].common&&s._adapter.diff(i,n,o)>=t-1)return o}return ke[e?ke.indexOf(e):0]}function ro(s){for(let t=ke.indexOf(s)+1,e=ke.length;t<e;++t)if(ns[ke[t]].common)return ke[t]}function Us(s,t,e){if(!e)s[t]=!0;else if(e.length){const{lo:n,hi:i}=(0,c.aP)(e,t),r=e[n]>=t?e[n]:e[i];s[r]=!0}}function oo(s,t,e,n){const i=s._adapter,r=+i.startOf(t[0].value,n),o=t[t.length-1].value;let l,u;for(l=r;l<=o;l=+i.add(l,1,n))u=e[l],u>=0&&(t[u].major=!0);return t}function Ks(s,t,e){const n=[],i={},r=t.length;let o,l;for(o=0;o<r;++o)l=t[o],i[l]=o,n.push({value:l,major:!1});return r===0||!e?n:oo(s,n,i,e)}class gs extends Re{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const n=t.time||(t.time={}),i=this._adapter=new ye._date(t.adapters.date);i.init(e),(0,c.ab)(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Hs(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:l}=this.getUserBounds();function u(f){!o&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!l&&!isNaN(f.max)&&(r=Math.max(r,f.max))}(!o||!l)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=(0,c.g)(i)&&!isNaN(i)?i:+e.startOf(Date.now(),n),r=(0,c.g)(r)&&!isNaN(r)?r:+e.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,l=(0,c.aO)(i,r,o);return this._unit=e.unit||(n.autoSkip?Vs(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):so(this,l.length,e.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:ro(this._unit),this.initOffsets(i),t.reverse&&l.reverse(),Ks(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,n=0,i,r;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?e=1-i:e=(this.getDecimalForValue(t[1])-i)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?n=r:n=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;e=(0,c.S)(e,0,o),n=(0,c.S)(n,0,o),this._offsets={start:e,end:n,factor:1/(e+1+n)}}_generate(){const t=this._adapter,e=this.min,n=this.max,i=this.options,r=i.time,o=r.unit||Vs(r.minUnit,e,n,this._getLabelCapacity(e)),l=(0,c.v)(i.ticks.stepSize,1),u=o==="week"?r.isoWeekday:!1,f=(0,c.x)(u)||u===!0,b={};let v=e,M,k;if(f&&(v=+t.startOf(v,"isoWeek",u)),v=+t.startOf(v,f?"day":o),t.diff(n,e,o)>1e5*l)throw new Error(e+" and "+n+" are too far apart with stepSize of "+l+" "+o);const I=i.ticks.source==="data"&&this.getDataTimestamps();for(M=v,k=0;M<n;M=+t.add(M,l,o),k++)Us(b,M,I);return(M===n||i.bounds==="ticks"||k===1)&&Us(b,M,I),Object.keys(b).sort(Ns).map(N=>+N)}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const i=this.options.time.displayFormats,r=this._unit,o=e||i[r];return this._adapter.format(t,o)}_tickFormatFunction(t,e,n,i){const r=this.options,o=r.ticks.callback;if(o)return(0,c.Q)(o,[t,e,n],this);const l=r.time.displayFormats,u=this._unit,f=this._majorUnit,b=u&&l[u],v=f&&l[f],M=n[e],k=f&&v&&M&&M.major;return this._adapter.format(t,i||(k?v:b))}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,i=(0,c.t)(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(i),o=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:n*r+l*o,h:n*o+l*r}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,r=this._tickFormatFunction(t,0,Ks(this,[t],this._majorUnit),i),o=this._getLabelSize(r),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],e,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,n=i.length;e<n;++e)t=t.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const i=this.getLabels();for(e=0,n=i.length;e<n;++e)t.push(Hs(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return(0,c._)(t.sort(Ns))}}function is(s,t,e){let n=0,i=s.length-1,r,o,l,u;e?(t>=s[n].pos&&t<=s[i].pos&&({lo:n,hi:i}=(0,c.B)(s,"pos",t)),{pos:r,time:l}=s[n],{pos:o,time:u}=s[i]):(t>=s[n].time&&t<=s[i].time&&({lo:n,hi:i}=(0,c.B)(s,"time",t)),{time:r,pos:l}=s[n],{time:o,pos:u}=s[i]);const f=o-r;return f?l+(u-l)*(t-r)/f:l}class ao extends gs{static id="timeseries";static defaults=gs.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=is(e,this.min),this._tableRange=is(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,i=[],r=[];let o,l,u,f,b;for(o=0,l=t.length;o<l;++o)f=t[o],f>=e&&f<=n&&i.push(f);if(i.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,l=i.length;o<l;++o)b=i[o+1],u=i[o-1],f=i[o],Math.round((b+u)/2)!==f&&r.push({time:f,pos:o/(l-1)});return r}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((i,r)=>i-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(is(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return is(this._table,n*this._tableRange+this._minPos,!0)}}var lo=Object.freeze({__proto__:null,CategoryScale:Wr,LinearScale:jr,LogarithmicScale:Vr,RadialLinearScale:io,TimeScale:gs,TimeSeriesScale:ao});const co=[re,ae,Rr,lo]},6672:(dt,Z,P)=>{"use strict";P.d(Z,{$:()=>ln,A:()=>Wn,B:()=>ve,C:()=>Kn,D:()=>_t,E:()=>bi,F:()=>$,G:()=>d,H:()=>O,I:()=>An,J:()=>_,K:()=>p,L:()=>Ye,M:()=>ti,N:()=>jt,O:()=>ct,P:()=>Tt,Q:()=>tt,R:()=>Gn,S:()=>oe,T:()=>At,U:()=>V,V:()=>Ae,W:()=>pe,X:()=>Bi,Y:()=>Se,Z:()=>zi,_:()=>je,a:()=>Ni,a0:()=>ji,a1:()=>Xe,a2:()=>Ti,a3:()=>di,a4:()=>wt,a5:()=>Ut,a6:()=>Ze,a7:()=>Zt,a8:()=>un,a9:()=>Qe,aA:()=>Mt,aB:()=>ai,aC:()=>Rt,aD:()=>fi,aE:()=>pt,aF:()=>E,aG:()=>ie,aH:()=>zt,aI:()=>Gt,aJ:()=>yt,aK:()=>H,aL:()=>jn,aM:()=>et,aN:()=>xn,aO:()=>Ue,aP:()=>we,aa:()=>_i,ab:()=>gt,ac:()=>B,ad:()=>mn,ae:()=>h,af:()=>Un,ag:()=>qt,ah:()=>U,ai:()=>Pt,aj:()=>ye,ak:()=>Mn,al:()=>Ci,am:()=>We,an:()=>Fe,ao:()=>C,ap:()=>S,aq:()=>w,ar:()=>Wi,as:()=>Yn,at:()=>Fi,au:()=>pi,av:()=>Ge,aw:()=>mi,ax:()=>Pe,ay:()=>Ft,az:()=>rt,b:()=>W,b3:()=>it,b4:()=>A,b5:()=>G,c:()=>sn,d:()=>Hn,e:()=>bn,f:()=>$t,g:()=>ot,h:()=>ne,i:()=>z,j:()=>Re,k:()=>T,l:()=>Oi,m:()=>ft,n:()=>J,o:()=>vn,p:()=>re,q:()=>Ai,r:()=>pn,s:()=>nt,t:()=>ee,u:()=>gn,v:()=>q,w:()=>li,x:()=>Lt,y:()=>Ie,z:()=>qe});var c=P(6193);function E(){}const B=(()=>{let a=0;return()=>a++})();function T(a){return a===null||typeof a>"u"}function W(a){if(Array.isArray&&Array.isArray(a))return!0;const g=Object.prototype.toString.call(a);return g.slice(0,7)==="[object"&&g.slice(-6)==="Array]"}function z(a){return a!==null&&Object.prototype.toString.call(a)==="[object Object]"}function ot(a){return(typeof a=="number"||a instanceof Number)&&isFinite(+a)}function ct(a,g){return ot(a)?a:g}function q(a,g){return typeof a>"u"?g:a}const ft=(a,g)=>typeof a=="string"&&a.endsWith("%")?parseFloat(a)/100:+a/g,J=(a,g)=>typeof a=="string"&&a.endsWith("%")?parseFloat(a)/100*g:+a;function tt(a,g,m){if(a&&typeof a.call=="function")return a.apply(m,g)}function $(a,g,m,y){let x,D,L;if(W(a))if(D=a.length,y)for(x=D-1;x>=0;x--)g.call(m,a[x],x);else for(x=0;x<D;x++)g.call(m,a[x],x);else if(z(a))for(L=Object.keys(a),D=L.length,x=0;x<D;x++)g.call(m,a[L[x]],L[x])}function U(a,g){let m,y,x,D;if(!a||!g||a.length!==g.length)return!1;for(m=0,y=a.length;m<y;++m)if(x=a[m],D=g[m],x.datasetIndex!==D.datasetIndex||x.index!==D.index)return!1;return!0}function Y(a){if(W(a))return a.map(Y);if(z(a)){const g=Object.create(null),m=Object.keys(a),y=m.length;let x=0;for(;x<y;++x)g[m[x]]=Y(a[m[x]]);return g}return a}function j(a){return["__proto__","prototype","constructor"].indexOf(a)===-1}function ht(a,g,m,y){if(!j(a))return;const x=g[a],D=m[a];z(x)&&z(D)?wt(x,D,y):g[a]=Y(D)}function wt(a,g,m){const y=W(g)?g:[g],x=y.length;if(!z(a))return a;m=m||{};const D=m.merger||ht;let L;for(let F=0;F<x;++F){if(L=y[F],!z(L))continue;const X=Object.keys(L);for(let lt=0,bt=X.length;lt<bt;++lt)D(X[lt],a,L,m)}return a}function gt(a,g){return wt(a,g,{merger:xt})}function xt(a,g,m){if(!j(a))return;const y=g[a],x=m[a];z(y)&&z(x)?gt(y,x):Object.prototype.hasOwnProperty.call(g,a)||(g[a]=Y(x))}function kt(a,g,m,y){g!==void 0&&console.warn(a+': "'+m+'" is deprecated. Please use "'+y+'" instead')}const Ct={"":a=>a,x:a=>a.x,y:a=>a.y};function Ot(a){const g=a.split("."),m=[];let y="";for(const x of g)y+=x,y.endsWith("\\")?y=y.slice(0,-1)+".":(m.push(y),y="");return m}function Yt(a){const g=Ot(a);return m=>{for(const y of g){if(y==="")break;m=m&&m[y]}return m}}function $t(a,g){return(Ct[g]||(Ct[g]=Yt(g)))(a)}function Ut(a){return a.charAt(0).toUpperCase()+a.slice(1)}const ne=a=>typeof a<"u",Zt=a=>typeof a=="function",qt=(a,g)=>{if(a.size!==g.size)return!1;for(const m of a)if(!g.has(m))return!1;return!0};function Pt(a){return a.type==="mouseup"||a.type==="click"||a.type==="contextmenu"}const Tt=Math.PI,At=2*Tt,te=At+Tt,Nt=Number.POSITIVE_INFINITY,it=Tt/180,O=Tt/2,A=Tt/4,G=Tt*2/3,et=Math.log10,nt=Math.sign;function yt(a,g,m){return Math.abs(a-g)<m}function zt(a){const g=Math.round(a);a=yt(a,g,a/1e3)?g:a;const m=Math.pow(10,Math.floor(et(a))),y=a/m;return(y<=1?1:y<=2?2:y<=5?5:10)*m}function jt(a){const g=[],m=Math.sqrt(a);let y;for(y=1;y<m;y++)a%y===0&&(g.push(y),g.push(a/y));return m===(m|0)&&g.push(m),g.sort((x,D)=>x-D).pop(),g}function Lt(a){return!isNaN(parseFloat(a))&&isFinite(a)}function Gt(a,g){const m=Math.round(a);return m-g<=a&&m+g>=a}function ie(a,g,m){let y,x,D;for(y=0,x=a.length;y<x;y++)D=a[y][m],isNaN(D)||(g.min=Math.min(g.min,D),g.max=Math.max(g.max,D))}function ee(a){return a*(Tt/180)}function V(a){return a*(180/Tt)}function H(a){if(!ot(a))return;let g=1,m=0;for(;Math.round(a*g)/g!==a;)g*=10,m++;return m}function _t(a,g){const m=g.x-a.x,y=g.y-a.y,x=Math.sqrt(m*m+y*y);let D=Math.atan2(y,m);return D<-.5*Tt&&(D+=At),{angle:D,distance:x}}function pt(a,g){return Math.sqrt(Math.pow(g.x-a.x,2)+Math.pow(g.y-a.y,2))}function Bt(a,g){return(a-g+te)%At-Tt}function Ft(a){return(a%At+At)%At}function re(a,g,m,y){const x=Ft(a),D=Ft(g),L=Ft(m),F=Ft(D-x),X=Ft(L-x),lt=Ft(x-D),bt=Ft(x-L);return x===D||x===L||y&&D===L||F>X&&lt<bt}function oe(a,g,m){return Math.max(g,Math.min(m,a))}function pe(a){return oe(a,-32768,32767)}function ye(a,g,m,y=1e-6){return a>=Math.min(g,m)-y&&a<=Math.max(g,m)+y}function we(a,g,m){m=m||(L=>a[L]<g);let y=a.length-1,x=0,D;for(;y-x>1;)D=x+y>>1,m(D)?x=D:y=D;return{lo:x,hi:y}}const ve=(a,g,m,y)=>we(a,m,y?x=>{const D=a[x][g];return D<m||D===m&&a[x+1][g]===m}:x=>a[x][g]<m),Wn=(a,g,m)=>we(a,m,y=>a[y][g]>=m);function Ue(a,g,m){let y=0,x=a.length;for(;y<x&&a[y]<g;)y++;for(;x>y&&a[x-1]>m;)x--;return y>0||x<a.length?a.slice(y,x):a}const oi=["push","pop","shift","splice","unshift"];function Oi(a,g){if(a._chartjs){a._chartjs.listeners.push(g);return}Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[g]}}),oi.forEach(m=>{const y="_onData"+Ut(m),x=a[m];Object.defineProperty(a,m,{configurable:!0,enumerable:!1,value(...D){const L=x.apply(this,D);return a._chartjs.listeners.forEach(F=>{typeof F[y]=="function"&&F[y](...D)}),L}})})}function gn(a,g){const m=a._chartjs;if(!m)return;const y=m.listeners,x=y.indexOf(g);x!==-1&&y.splice(x,1),!(y.length>0)&&(oi.forEach(D=>{delete a[D]}),delete a._chartjs)}function je(a){const g=new Set(a);return g.size===a.length?a:Array.from(g)}function Ke(a,g,m){return g+" "+a+"px "+m}const pn=function(){return typeof window>"u"?function(a){return a()}:window.requestAnimationFrame}();function Ye(a,g){let m=[],y=!1;return function(...x){m=x,y||(y=!0,pn.call(window,()=>{y=!1,a.apply(g,m)}))}}function mn(a,g){let m;return function(...y){return g?(clearTimeout(m),m=setTimeout(a,g,y)):a.apply(this,y),g}}const Xe=a=>a==="start"?"left":a==="end"?"right":"center",Ti=(a,g,m)=>a==="start"?g:a==="end"?m:(g+m)/2,ai=(a,g,m,y)=>a===(y?"left":"right")?m:a==="center"?(g+m)/2:g;function Ai(a,g,m){const y=g.length;let x=0,D=y;if(a._sorted){const{iScale:L,_parsed:F}=a,X=L.axis,{min:lt,max:bt,minDefined:Wt,maxDefined:Vt}=L.getUserBounds();Wt&&(x=oe(Math.min(ve(F,X,lt).lo,m?y:ve(g,X,L.getPixelForValue(lt)).lo),0,y-1)),Vt?D=oe(Math.max(ve(F,L.axis,bt,!0).hi+1,m?0:ve(g,X,L.getPixelForValue(bt),!0).hi+1),x,y)-x:D=y-x}return{start:x,count:D}}function li(a){const{xScale:g,yScale:m,_scaleRanges:y}=a,x={xmin:g.min,xmax:g.max,ymin:m.min,ymax:m.max};if(!y)return a._scaleRanges=x,!0;const D=y.xmin!==g.min||y.xmax!==g.max||y.ymin!==m.min||y.ymax!==m.max;return Object.assign(y,x),D}const nn=a=>a===0||a===1,zn=(a,g,m)=>-(Math.pow(2,10*(a-=1))*Math.sin((a-g)*At/m)),ci=(a,g,m)=>Math.pow(2,-10*a)*Math.sin((a-g)*At/m)+1,bn={linear:a=>a,easeInQuad:a=>a*a,easeOutQuad:a=>-a*(a-2),easeInOutQuad:a=>(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1),easeInCubic:a=>a*a*a,easeOutCubic:a=>(a-=1)*a*a+1,easeInOutCubic:a=>(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2),easeInQuart:a=>a*a*a*a,easeOutQuart:a=>-((a-=1)*a*a*a-1),easeInOutQuart:a=>(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2),easeInQuint:a=>a*a*a*a*a,easeOutQuint:a=>(a-=1)*a*a*a*a+1,easeInOutQuint:a=>(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2),easeInSine:a=>-Math.cos(a*O)+1,easeOutSine:a=>Math.sin(a*O),easeInOutSine:a=>-.5*(Math.cos(Tt*a)-1),easeInExpo:a=>a===0?0:Math.pow(2,10*(a-1)),easeOutExpo:a=>a===1?1:-Math.pow(2,-10*a)+1,easeInOutExpo:a=>nn(a)?a:a<.5?.5*Math.pow(2,10*(a*2-1)):.5*(-Math.pow(2,-10*(a*2-1))+2),easeInCirc:a=>a>=1?a:-(Math.sqrt(1-a*a)-1),easeOutCirc:a=>Math.sqrt(1-(a-=1)*a),easeInOutCirc:a=>(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1),easeInElastic:a=>nn(a)?a:zn(a,.075,.3),easeOutElastic:a=>nn(a)?a:ci(a,.075,.3),easeInOutElastic(a){return nn(a)?a:a<.5?.5*zn(a*2,.1125,.45):.5+.5*ci(a*2-1,.1125,.45)},easeInBack(a){return a*a*((1.70158+1)*a-1.70158)},easeOutBack(a){return(a-=1)*a*((1.70158+1)*a+1.70158)+1},easeInOutBack(a){let g=1.70158;return(a/=.5)<1?.5*(a*a*(((g*=1.525)+1)*a-g)):.5*((a-=2)*a*(((g*=1.525)+1)*a+g)+2)},easeInBounce:a=>1-bn.easeOutBounce(1-a),easeOutBounce(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInOutBounce:a=>a<.5?bn.easeInBounce(a*2)*.5:bn.easeOutBounce(a*2-1)*.5+.5};function _n(a){if(a&&typeof a=="object"){const g=a.toString();return g==="[object CanvasPattern]"||g==="[object CanvasGradient]"}return!1}function sn(a){return _n(a)?a:new c.Il(a)}function Te(a){return _n(a)?a:new c.Il(a).saturate(.5).darken(.1).hexString()}const yn=["x","y","borderWidth","radius","tension"],ge=["color","borderColor","backgroundColor"];function ui(a){a.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),a.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:g=>g!=="onProgress"&&g!=="onComplete"&&g!=="fn"}),a.set("animations",{colors:{type:"color",properties:ge},numbers:{type:"number",properties:yn}}),a.describe("animations",{_fallback:"animation"}),a.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:g=>g|0}}}})}function Li(a){a.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const $e=new Map;function Ri(a,g){g=g||{};const m=a+JSON.stringify(g);let y=$e.get(m);return y||(y=new Intl.NumberFormat(a,g),$e.set(m,y)),y}function vn(a,g,m){return Ri(g,m).format(a)}const rn={values(a){return W(a)?a:""+a},numeric(a,g,m){if(a===0)return"0";const y=this.chart.options.locale;let x,D=a;if(m.length>1){const lt=Math.max(Math.abs(m[0].value),Math.abs(m[m.length-1].value));(lt<1e-4||lt>1e15)&&(x="scientific"),D=hi(a,m)}const L=et(Math.abs(D)),F=isNaN(L)?1:Math.max(Math.min(-1*Math.floor(L),20),0),X={notation:x,minimumFractionDigits:F,maximumFractionDigits:F};return Object.assign(X,this.options.ticks.format),vn(a,y,X)},logarithmic(a,g,m){if(a===0)return"0";const y=m[g].significand||a/Math.pow(10,Math.floor(et(a)));return[1,2,3,5,10,15].includes(y)||g>.8*m.length?rn.numeric.call(this,a,g,m):""}};function hi(a,g){let m=g.length>3?g[2].value-g[1].value:g[1].value-g[0].value;return Math.abs(m)>=1&&a!==Math.floor(a)&&(m=a-Math.floor(a)),m}var jn={formatters:rn};function Ii(a){a.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(g,m)=>m.lineWidth,tickColor:(g,m)=>m.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:jn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),a.route("scale.ticks","color","","color"),a.route("scale.grid","color","","borderColor"),a.route("scale.border","color","","borderColor"),a.route("scale.title","color","","color"),a.describe("scale",{_fallback:!1,_scriptable:g=>!g.startsWith("before")&&!g.startsWith("after")&&g!=="callback"&&g!=="parser",_indexable:g=>g!=="borderDash"&&g!=="tickBorderDash"&&g!=="dash"}),a.describe("scales",{_fallback:"scale"}),a.describe("scale.ticks",{_scriptable:g=>g!=="backdropPadding"&&g!=="callback",_indexable:g=>g!=="backdropPadding"})}const di=Object.create(null),Ze=Object.create(null);function on(a,g){if(!g)return a;const m=g.split(".");for(let y=0,x=m.length;y<x;++y){const D=m[y];a=a[D]||(a[D]=Object.create(null))}return a}function Nn(a,g,m){return typeof g=="string"?wt(on(a,g),m):wt(on(a,""),g)}class an{constructor(g,m){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=y=>y.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(y,x)=>Te(x.backgroundColor),this.hoverBorderColor=(y,x)=>Te(x.borderColor),this.hoverColor=(y,x)=>Te(x.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(g),this.apply(m)}set(g,m){return Nn(this,g,m)}get(g){return on(this,g)}describe(g,m){return Nn(Ze,g,m)}override(g,m){return Nn(di,g,m)}route(g,m,y,x){const D=on(this,g),L=on(this,y),F="_"+m;Object.defineProperties(D,{[F]:{value:D[m],writable:!0},[m]:{enumerable:!0,get(){const X=this[F],lt=L[x];return z(X)?Object.assign({},lt,X):q(X,lt)},set(X){this[F]=X}}})}apply(g){g.forEach(m=>m(this))}}var Hn=new an({_scriptable:a=>!a.startsWith("on"),_indexable:a=>a!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ui,Li,Ii]);function Vn(a){return!a||T(a.size)||T(a.family)?null:(a.style?a.style+" ":"")+(a.weight?a.weight+" ":"")+a.size+"px "+a.family}function Ae(a,g,m,y,x){let D=g[x];return D||(D=g[x]=a.measureText(x).width,m.push(x)),D>y&&(y=D),y}function xn(a,g,m,y){y=y||{};let x=y.data=y.data||{},D=y.garbageCollect=y.garbageCollect||[];y.font!==g&&(x=y.data={},D=y.garbageCollect=[],y.font=g),a.save(),a.font=g;let L=0;const F=m.length;let X,lt,bt,Wt,Vt;for(X=0;X<F;X++)if(Wt=m[X],Wt!=null&&!W(Wt))L=Ae(a,x,D,L,Wt);else if(W(Wt))for(lt=0,bt=Wt.length;lt<bt;lt++)Vt=Wt[lt],Vt!=null&&!W(Vt)&&(L=Ae(a,x,D,L,Vt));a.restore();const ae=D.length/2;if(ae>m.length){for(X=0;X<ae;X++)delete x[D[X]];D.splice(0,ae)}return L}function Bi(a,g,m){const y=a.currentDevicePixelRatio,x=m!==0?Math.max(m/2,.5):0;return Math.round((g-x)*y)/y+x}function Un(a,g){!g&&!a||(g=g||a.getContext("2d"),g.save(),g.resetTransform(),g.clearRect(0,0,a.width,a.height),g.restore())}function Fi(a,g,m,y){fi(a,g,m,y,null)}function fi(a,g,m,y,x){let D,L,F,X,lt,bt,Wt,Vt;const ae=g.pointStyle,he=g.rotation,Xt=g.radius;let It=(he||0)*it;if(ae&&typeof ae=="object"&&(D=ae.toString(),D==="[object HTMLImageElement]"||D==="[object HTMLCanvasElement]")){a.save(),a.translate(m,y),a.rotate(It),a.drawImage(ae,-ae.width/2,-ae.height/2,ae.width,ae.height),a.restore();return}if(!(isNaN(Xt)||Xt<=0)){switch(a.beginPath(),ae){default:x?a.ellipse(m,y,x/2,Xt,0,0,At):a.arc(m,y,Xt,0,At),a.closePath();break;case"triangle":bt=x?x/2:Xt,a.moveTo(m+Math.sin(It)*bt,y-Math.cos(It)*Xt),It+=G,a.lineTo(m+Math.sin(It)*bt,y-Math.cos(It)*Xt),It+=G,a.lineTo(m+Math.sin(It)*bt,y-Math.cos(It)*Xt),a.closePath();break;case"rectRounded":lt=Xt*.516,X=Xt-lt,L=Math.cos(It+A)*X,Wt=Math.cos(It+A)*(x?x/2-lt:X),F=Math.sin(It+A)*X,Vt=Math.sin(It+A)*(x?x/2-lt:X),a.arc(m-Wt,y-F,lt,It-Tt,It-O),a.arc(m+Vt,y-L,lt,It-O,It),a.arc(m+Wt,y+F,lt,It,It+O),a.arc(m-Vt,y+L,lt,It+O,It+Tt),a.closePath();break;case"rect":if(!he){X=Math.SQRT1_2*Xt,bt=x?x/2:X,a.rect(m-bt,y-X,2*bt,2*X);break}It+=A;case"rectRot":Wt=Math.cos(It)*(x?x/2:Xt),L=Math.cos(It)*Xt,F=Math.sin(It)*Xt,Vt=Math.sin(It)*(x?x/2:Xt),a.moveTo(m-Wt,y-F),a.lineTo(m+Vt,y-L),a.lineTo(m+Wt,y+F),a.lineTo(m-Vt,y+L),a.closePath();break;case"crossRot":It+=A;case"cross":Wt=Math.cos(It)*(x?x/2:Xt),L=Math.cos(It)*Xt,F=Math.sin(It)*Xt,Vt=Math.sin(It)*(x?x/2:Xt),a.moveTo(m-Wt,y-F),a.lineTo(m+Wt,y+F),a.moveTo(m+Vt,y-L),a.lineTo(m-Vt,y+L);break;case"star":Wt=Math.cos(It)*(x?x/2:Xt),L=Math.cos(It)*Xt,F=Math.sin(It)*Xt,Vt=Math.sin(It)*(x?x/2:Xt),a.moveTo(m-Wt,y-F),a.lineTo(m+Wt,y+F),a.moveTo(m+Vt,y-L),a.lineTo(m-Vt,y+L),It+=A,Wt=Math.cos(It)*(x?x/2:Xt),L=Math.cos(It)*Xt,F=Math.sin(It)*Xt,Vt=Math.sin(It)*(x?x/2:Xt),a.moveTo(m-Wt,y-F),a.lineTo(m+Wt,y+F),a.moveTo(m+Vt,y-L),a.lineTo(m-Vt,y+L);break;case"line":L=x?x/2:Math.cos(It)*Xt,F=Math.sin(It)*Xt,a.moveTo(m-L,y-F),a.lineTo(m+L,y+F);break;case"dash":a.moveTo(m,y),a.lineTo(m+Math.cos(It)*(x?x/2:Xt),y+Math.sin(It)*Xt);break;case!1:a.closePath();break}a.fill(),g.borderWidth>0&&a.stroke()}}function Kn(a,g,m){return m=m||.5,!g||a&&a.x>g.left-m&&a.x<g.right+m&&a.y>g.top-m&&a.y<g.bottom+m}function Se(a,g){a.save(),a.beginPath(),a.rect(g.left,g.top,g.right-g.left,g.bottom-g.top),a.clip()}function ln(a){a.restore()}function Wi(a,g,m,y,x){if(!g)return a.lineTo(m.x,m.y);if(x==="middle"){const D=(g.x+m.x)/2;a.lineTo(D,g.y),a.lineTo(D,m.y)}else x==="after"!=!!y?a.lineTo(g.x,m.y):a.lineTo(m.x,g.y);a.lineTo(m.x,m.y)}function Yn(a,g,m,y){if(!g)return a.lineTo(m.x,m.y);a.bezierCurveTo(y?g.cp1x:g.cp2x,y?g.cp1y:g.cp2y,y?m.cp2x:m.cp1x,y?m.cp2y:m.cp1y,m.x,m.y)}function Xn(a,g){g.translation&&a.translate(g.translation[0],g.translation[1]),T(g.rotation)||a.rotate(g.rotation),g.color&&(a.fillStyle=g.color),g.textAlign&&(a.textAlign=g.textAlign),g.textBaseline&&(a.textBaseline=g.textBaseline)}function gi(a,g,m,y,x){if(x.strikethrough||x.underline){const D=a.measureText(y),L=g-D.actualBoundingBoxLeft,F=g+D.actualBoundingBoxRight,X=m-D.actualBoundingBoxAscent,lt=m+D.actualBoundingBoxDescent,bt=x.strikethrough?(X+lt)/2:lt;a.strokeStyle=a.fillStyle,a.beginPath(),a.lineWidth=x.decorationWidth||2,a.moveTo(L,bt),a.lineTo(F,bt),a.stroke()}}function Le(a,g){const m=a.fillStyle;a.fillStyle=g.color,a.fillRect(g.left,g.top,g.width,g.height),a.fillStyle=m}function zi(a,g,m,y,x,D={}){const L=W(g)?g:[g],F=D.strokeWidth>0&&D.strokeColor!=="";let X,lt;for(a.save(),a.font=x.string,Xn(a,D),X=0;X<L.length;++X)lt=L[X],D.backdrop&&Le(a,D.backdrop),F&&(D.strokeColor&&(a.strokeStyle=D.strokeColor),T(D.strokeWidth)||(a.lineWidth=D.strokeWidth),a.strokeText(lt,m,y,D.maxWidth)),a.fillText(lt,m,y,D.maxWidth),gi(a,m,y,lt,D),y+=Number(x.lineHeight);a.restore()}function pi(a,g){const{x:m,y,w:x,h:D,radius:L}=g;a.arc(m+L.topLeft,y+L.topLeft,L.topLeft,1.5*Tt,Tt,!0),a.lineTo(m,y+D-L.bottomLeft),a.arc(m+L.bottomLeft,y+D-L.bottomLeft,L.bottomLeft,Tt,O,!0),a.lineTo(m+x-L.bottomRight,y+D),a.arc(m+x-L.bottomRight,y+D-L.bottomRight,L.bottomRight,O,0,!0),a.lineTo(m+x,y+L.topRight),a.arc(m+x-L.topRight,y+L.topRight,L.topRight,0,-O,!0),a.lineTo(m+L.topLeft,y)}const wn=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,$n=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Zn(a,g){const m=(""+a).match(wn);if(!m||m[1]==="normal")return g*1.2;switch(a=+m[2],m[3]){case"px":return a;case"%":a/=100;break}return g*a}const cn=a=>+a||0;function Mn(a,g){const m={},y=z(g),x=y?Object.keys(g):g,D=z(a)?y?L=>q(a[L],a[g[L]]):L=>a[L]:()=>a;for(const L of x)m[L]=cn(D(L));return m}function Ge(a){return Mn(a,{top:"y",right:"x",bottom:"y",left:"x"})}function mi(a){return Mn(a,["topLeft","topRight","bottomLeft","bottomRight"])}function bi(a){const g=Ge(a);return g.width=g.left+g.right,g.height=g.top+g.bottom,g}function ji(a,g){a=a||{},g=g||Hn.font;let m=q(a.size,g.size);typeof m=="string"&&(m=parseInt(m,10));let y=q(a.style,g.style);y&&!(""+y).match($n)&&(console.warn('Invalid font style specified: "'+y+'"'),y=void 0);const x={family:q(a.family,g.family),lineHeight:Zn(q(a.lineHeight,g.lineHeight),m),size:m,style:y,weight:q(a.weight,g.weight),string:""};return x.string=Vn(x),x}function Ni(a,g,m,y){let x=!0,D,L,F;for(D=0,L=a.length;D<L;++D)if(F=a[D],F!==void 0&&(g!==void 0&&typeof F=="function"&&(F=F(g),x=!1),m!==void 0&&W(F)&&(F=F[m%F.length],x=!1),F!==void 0))return y&&!x&&(y.cacheable=!1),F}function Gn(a,g,m){const{min:y,max:x}=a,D=J(g,(x-y)/2),L=(F,X)=>m&&F===0?0:F+X;return{min:L(y,-Math.abs(D)),max:L(x,D)}}function Re(a,g){return Object.assign(Object.create(a),g)}function Qe(a,g=[""],m,y,x=()=>a[0]){const D=m||a;typeof y>"u"&&(y=Ne("_fallback",a));const L={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:a,_rootScopes:D,_fallback:y,_getTarget:x,override:F=>Qe([F,...a],g,D,y)};return new Proxy(L,{deleteProperty(F,X){return delete F[X],delete F._keys,delete a[0][X],!0},get(F,X){return Me(F,X,()=>En(X,g,a,F))},getOwnPropertyDescriptor(F,X){return Reflect.getOwnPropertyDescriptor(F._scopes[0],X)},getPrototypeOf(){return Reflect.getPrototypeOf(a[0])},has(F,X){return Jn(F).includes(X)},ownKeys(F){return Jn(F)},set(F,X,lt){const bt=F._storage||(F._storage=x());return F[X]=bt[X]=lt,delete F._keys,!0}})}function un(a,g,m,y){const x={_cacheable:!1,_proxy:a,_context:g,_subProxy:m,_stack:new Set,_descriptors:_i(a,y),setContext:D=>un(a,D,m,y),override:D=>un(a.override(D),g,m,y)};return new Proxy(x,{deleteProperty(D,L){return delete D[L],delete a[L],!0},get(D,L,F){return Me(D,L,()=>yi(D,L,F))},getOwnPropertyDescriptor(D,L){return D._descriptors.allKeys?Reflect.has(a,L)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(a,L)},getPrototypeOf(){return Reflect.getPrototypeOf(a)},has(D,L){return Reflect.has(a,L)},ownKeys(){return Reflect.ownKeys(a)},set(D,L,F){return a[L]=F,delete D[L],!0}})}function _i(a,g={scriptable:!0,indexable:!0}){const{_scriptable:m=g.scriptable,_indexable:y=g.indexable,_allKeys:x=g.allKeys}=a;return{allKeys:x,scriptable:m,indexable:y,isScriptable:Zt(m)?m:()=>m,isIndexable:Zt(y)?y:()=>y}}const Hi=(a,g)=>a?a+Ut(g):g,Pn=(a,g)=>z(g)&&a!=="adapters"&&(Object.getPrototypeOf(g)===null||g.constructor===Object);function Me(a,g,m){if(Object.prototype.hasOwnProperty.call(a,g)||g==="constructor")return a[g];const y=m();return a[g]=y,y}function yi(a,g,m){const{_proxy:y,_context:x,_subProxy:D,_descriptors:L}=a;let F=y[g];return Zt(F)&&L.isScriptable(g)&&(F=vi(g,F,a,m)),W(F)&&F.length&&(F=xi(g,F,a,L.isIndexable)),Pn(g,F)&&(F=un(F,x,D&&D[g],L)),F}function vi(a,g,m,y){const{_proxy:x,_context:D,_subProxy:L,_stack:F}=m;if(F.has(a))throw new Error("Recursion detected: "+Array.from(F).join("->")+"->"+a);F.add(a);let X=g(D,L||y);return F.delete(a),Pn(a,X)&&(X=Qn(x._scopes,x,a,X)),X}function xi(a,g,m,y){const{_proxy:x,_context:D,_subProxy:L,_descriptors:F}=m;if(typeof D.index<"u"&&y(a))return g[D.index%g.length];if(z(g[0])){const X=g,lt=x._scopes.filter(bt=>bt!==X);g=[];for(const bt of X){const Wt=Qn(lt,x,a,bt);g.push(un(Wt,D,L&&L[a],F))}}return g}function Cn(a,g,m){return Zt(a)?a(g,m):a}const Vi=(a,g)=>a===!0?g:typeof a=="string"?$t(g,a):void 0;function Sn(a,g,m,y,x){for(const D of g){const L=Vi(m,D);if(L){a.add(L);const F=Cn(L._fallback,m,x);if(typeof F<"u"&&F!==m&&F!==y)return F}else if(L===!1&&typeof y<"u"&&m!==y)return null}return!1}function Qn(a,g,m,y){const x=g._rootScopes,D=Cn(g._fallback,m,y),L=[...a,...x],F=new Set;F.add(y);let X=Je(F,L,m,D||m,y);return X===null||typeof D<"u"&&D!==m&&(X=Je(F,L,D,X,y),X===null)?!1:Qe(Array.from(F),[""],x,D,()=>wi(g,m,y))}function Je(a,g,m,y,x){for(;m;)m=Sn(a,g,m,y,x);return m}function wi(a,g,m){const y=a._getTarget();g in y||(y[g]={});const x=y[g];return W(x)&&z(m)?m:x||{}}function En(a,g,m,y){let x;for(const D of g)if(x=Ne(Hi(D,a),m),typeof x<"u")return Pn(a,x)?Qn(m,y,a,x):x}function Ne(a,g){for(const m of g){if(!m)continue;const y=m[a];if(typeof y<"u")return y}}function Jn(a){let g=a._keys;return g||(g=a._keys=Ui(a._scopes)),g}function Ui(a){const g=new Set;for(const m of a)for(const y of Object.keys(m).filter(x=>!x.startsWith("_")))g.add(y);return Array.from(g)}function Ie(a,g,m,y){const{iScale:x}=a,{key:D="r"}=this._parsing,L=new Array(y);let F,X,lt,bt;for(F=0,X=y;F<X;++F)lt=F+m,bt=g[lt],L[F]={r:x.parse($t(bt,D),lt)};return L}const Mi=Number.EPSILON||1e-14,He=(a,g)=>g<a.length&&!a[g].skip&&a[g],qn=a=>a==="x"?"y":"x";function kn(a,g,m,y){const x=a.skip?g:a,D=g,L=m.skip?g:m,F=pt(D,x),X=pt(L,D);let lt=F/(F+X),bt=X/(F+X);lt=isNaN(lt)?0:lt,bt=isNaN(bt)?0:bt;const Wt=y*lt,Vt=y*bt;return{previous:{x:D.x-Wt*(L.x-x.x),y:D.y-Wt*(L.y-x.y)},next:{x:D.x+Vt*(L.x-x.x),y:D.y+Vt*(L.y-x.y)}}}function Dn(a,g,m){const y=a.length;let x,D,L,F,X,lt=He(a,0);for(let bt=0;bt<y-1;++bt)if(X=lt,lt=He(a,bt+1),!(!X||!lt)){if(yt(g[bt],0,Mi)){m[bt]=m[bt+1]=0;continue}x=m[bt]/g[bt],D=m[bt+1]/g[bt],F=Math.pow(x,2)+Math.pow(D,2),!(F<=9)&&(L=3/Math.sqrt(F),m[bt]=x*L*g[bt],m[bt+1]=D*L*g[bt])}}function On(a,g,m="x"){const y=qn(m),x=a.length;let D,L,F,X=He(a,0);for(let lt=0;lt<x;++lt){if(L=F,F=X,X=He(a,lt+1),!F)continue;const bt=F[m],Wt=F[y];L&&(D=(bt-L[m])/3,F[`cp1${m}`]=bt-D,F[`cp1${y}`]=Wt-D*g[lt]),X&&(D=(X[m]-bt)/3,F[`cp2${m}`]=bt+D,F[`cp2${y}`]=Wt+D*g[lt])}}function hn(a,g="x"){const m=qn(g),y=a.length,x=Array(y).fill(0),D=Array(y);let L,F,X,lt=He(a,0);for(L=0;L<y;++L)if(F=X,X=lt,lt=He(a,L+1),!!X){if(lt){const bt=lt[g]-X[g];x[L]=bt!==0?(lt[m]-X[m])/bt:0}D[L]=F?lt?nt(x[L-1])!==nt(x[L])?0:(x[L-1]+x[L])/2:x[L-1]:x[L]}Dn(a,x,D),On(a,D,g)}function Tn(a,g,m){return Math.max(Math.min(a,m),g)}function Pi(a,g){let m,y,x,D,L,F=Kn(a[0],g);for(m=0,y=a.length;m<y;++m)L=D,D=F,F=m<y-1&&Kn(a[m+1],g),D&&(x=a[m],L&&(x.cp1x=Tn(x.cp1x,g.left,g.right),x.cp1y=Tn(x.cp1y,g.top,g.bottom)),F&&(x.cp2x=Tn(x.cp2x,g.left,g.right),x.cp2y=Tn(x.cp2y,g.top,g.bottom)))}function Ci(a,g,m,y,x){let D,L,F,X;if(g.spanGaps&&(a=a.filter(lt=>!lt.skip)),g.cubicInterpolationMode==="monotone")hn(a,x);else{let lt=y?a[a.length-1]:a[0];for(D=0,L=a.length;D<L;++D)F=a[D],X=kn(lt,F,a[Math.min(D+1,L-(y?0:1))%L],g.tension),F.cp1x=X.previous.x,F.cp1y=X.previous.y,F.cp2x=X.next.x,F.cp2y=X.next.y,lt=F}g.capBezierPoints&&Pi(a,m)}function ti(){return typeof window<"u"&&typeof document<"u"}function An(a){let g=a.parentNode;return g&&g.toString()==="[object ShadowRoot]"&&(g=g.host),g}function Ln(a,g,m){let y;return typeof a=="string"?(y=parseInt(a,10),a.indexOf("%")!==-1&&(y=y/100*g.parentNode[m])):y=a,y}const dn=a=>a.ownerDocument.defaultView.getComputedStyle(a,null);function Si(a,g){return dn(a).getPropertyValue(g)}const De=["top","right","bottom","left"];function Be(a,g,m){const y={};m=m?"-"+m:"";for(let x=0;x<4;x++){const D=De[x];y[D]=parseFloat(a[g+"-"+D+m])||0}return y.width=y.left+y.right,y.height=y.top+y.bottom,y}const Ei=(a,g,m)=>(a>0||g>0)&&(!m||!m.shadowRoot);function Rn(a,g){const m=a.touches,y=m&&m.length?m[0]:a,{offsetX:x,offsetY:D}=y;let L=!1,F,X;if(Ei(x,D,a.target))F=x,X=D;else{const lt=g.getBoundingClientRect();F=y.clientX-lt.left,X=y.clientY-lt.top,L=!0}return{x:F,y:X,box:L}}function qe(a,g){if("native"in a)return a;const{canvas:m,currentDevicePixelRatio:y}=g,x=dn(m),D=x.boxSizing==="border-box",L=Be(x,"padding"),F=Be(x,"border","width"),{x:X,y:lt,box:bt}=Rn(a,m),Wt=L.left+(bt&&F.left),Vt=L.top+(bt&&F.top);let{width:ae,height:he}=g;return D&&(ae-=L.width+F.width,he-=L.height+F.height),{x:Math.round((X-Wt)/ae*m.width/y),y:Math.round((lt-Vt)/he*m.height/y)}}function Ki(a,g,m){let y,x;if(g===void 0||m===void 0){const D=a&&An(a);if(!D)g=a.clientWidth,m=a.clientHeight;else{const L=D.getBoundingClientRect(),F=dn(D),X=Be(F,"border","width"),lt=Be(F,"padding");g=L.width-lt.width-X.width,m=L.height-lt.height-X.height,y=Ln(F.maxWidth,D,"clientWidth"),x=Ln(F.maxHeight,D,"clientHeight")}}return{width:g,height:m,maxWidth:y||Nt,maxHeight:x||Nt}}const In=a=>Math.round(a*10)/10;function d(a,g,m,y){const x=dn(a),D=Be(x,"margin"),L=Ln(x.maxWidth,a,"clientWidth")||Nt,F=Ln(x.maxHeight,a,"clientHeight")||Nt,X=Ki(a,g,m);let{width:lt,height:bt}=X;if(x.boxSizing==="content-box"){const Vt=Be(x,"border","width"),ae=Be(x,"padding");lt-=ae.width+Vt.width,bt-=ae.height+Vt.height}return lt=Math.max(0,lt-D.width),bt=Math.max(0,y?lt/y:bt-D.height),lt=In(Math.min(lt,L,X.maxWidth)),bt=In(Math.min(bt,F,X.maxHeight)),lt&&!bt&&(bt=In(lt/2)),(g!==void 0||m!==void 0)&&y&&X.height&&bt>X.height&&(bt=X.height,lt=In(Math.floor(bt*y))),{width:lt,height:bt}}function h(a,g,m){const y=g||1,x=Math.floor(a.height*y),D=Math.floor(a.width*y);a.height=Math.floor(a.height),a.width=Math.floor(a.width);const L=a.canvas;return L.style&&(m||!L.style.height&&!L.style.width)&&(L.style.height=`${a.height}px`,L.style.width=`${a.width}px`),a.currentDevicePixelRatio!==y||L.height!==x||L.width!==D?(a.currentDevicePixelRatio=y,L.height=x,L.width=D,a.ctx.setTransform(y,0,0,y,0,0),!0):!1}const p=function(){let a=!1;try{const g={get passive(){return a=!0,!1}};ti()&&(window.addEventListener("test",null,g),window.removeEventListener("test",null,g))}catch{}return a}();function _(a,g){const m=Si(a,g),y=m&&m.match(/^(\d+)(\.\d+)?px$/);return y?+y[1]:void 0}function w(a,g,m,y){return{x:a.x+m*(g.x-a.x),y:a.y+m*(g.y-a.y)}}function C(a,g,m,y){return{x:a.x+m*(g.x-a.x),y:y==="middle"?m<.5?a.y:g.y:y==="after"?m<1?a.y:g.y:m>0?g.y:a.y}}function S(a,g,m,y){const x={x:a.cp2x,y:a.cp2y},D={x:g.cp1x,y:g.cp1y},L=w(a,x,m),F=w(x,D,m),X=w(D,g,m),lt=w(L,F,m),bt=w(F,X,m);return w(lt,bt,m)}const R=function(a,g){return{x(m){return a+a+g-m},setWidth(m){g=m},textAlign(m){return m==="center"?m:m==="right"?"left":"right"},xPlus(m,y){return m-y},leftForLtr(m,y){return m-y}}},K=function(){return{x(a){return a},setWidth(a){},textAlign(a){return a},xPlus(a,g){return a+g},leftForLtr(a,g){return a}}};function rt(a,g,m){return a?R(g,m):K()}function Mt(a,g){let m,y;(g==="ltr"||g==="rtl")&&(m=a.canvas.style,y=[m.getPropertyValue("direction"),m.getPropertyPriority("direction")],m.setProperty("direction",g,"important"),a.prevTextDirection=y)}function Rt(a,g){g!==void 0&&(delete a.prevTextDirection,a.canvas.style.setProperty("direction",g[0],g[1]))}function Ht(a){return a==="angle"?{between:re,compare:Bt,normalize:Ft}:{between:ye,compare:(g,m)=>g-m,normalize:g=>g}}function le({start:a,end:g,count:m,loop:y,style:x}){return{start:a%m,end:g%m,loop:y&&(g-a+1)%m===0,style:x}}function ue(a,g,m){const{property:y,start:x,end:D}=m,{between:L,normalize:F}=Ht(y),X=g.length;let{start:lt,end:bt,loop:Wt}=a,Vt,ae;if(Wt){for(lt+=X,bt+=X,Vt=0,ae=X;Vt<ae&&L(F(g[lt%X][y]),x,D);++Vt)lt--,bt--;lt%=X,bt%=X}return bt<lt&&(bt+=X),{start:lt,end:bt,loop:Wt,style:a.style}}function Pe(a,g,m){if(!m)return[a];const{property:y,start:x,end:D}=m,L=g.length,{compare:F,between:X,normalize:lt}=Ht(y),{start:bt,end:Wt,loop:Vt,style:ae}=ue(a,g,m),he=[];let Xt=!1,It=null,be,Bn,ni;const os=()=>X(x,ni,be)&&F(x,ni)!==0,as=()=>F(D,be)===0||X(D,ni,be),Qi=()=>Xt||os(),ls=()=>!Xt||as();for(let Fn=bt,Ji=bt;Fn<=Wt;++Fn)Bn=g[Fn%L],!Bn.skip&&(be=lt(Bn[y]),be!==ni&&(Xt=X(be,x,D),It===null&&Qi()&&(It=F(be,x)===0?Fn:Ji),It!==null&&ls()&&(he.push(le({start:It,end:Fn,loop:Vt,count:L,style:ae})),It=null),Ji=Fn,ni=be));return It!==null&&he.push(le({start:It,end:Wt,loop:Vt,count:L,style:ae})),he}function Fe(a,g){const m=[],y=a.segments;for(let x=0;x<y.length;x++){const D=Pe(y[x],a.points,g);D.length&&m.push(...D)}return m}function Ce(a,g,m,y){let x=0,D=g-1;if(m&&!y)for(;x<g&&!a[x].skip;)x++;for(;x<g&&a[x].skip;)x++;for(x%=g,m&&(D+=x);D>x&&a[D%g].skip;)D--;return D%=g,{start:x,end:D}}function me(a,g,m,y){const x=a.length,D=[];let L=g,F=a[g],X;for(X=g+1;X<=m;++X){const lt=a[X%x];lt.skip||lt.stop?F.skip||(y=!1,D.push({start:g%x,end:(X-1)%x,loop:y}),g=L=lt.stop?X:null):(L=X,F.skip&&(g=X)),F=lt}return L!==null&&D.push({start:g%x,end:L%x,loop:y}),D}function We(a,g){const m=a.points,y=a.options.spanGaps,x=m.length;if(!x)return[];const D=!!a._loop,{start:L,end:F}=Ce(m,x,D,y);if(y===!0)return ze(a,[{start:L,end:F,loop:D}],m,g);const X=F<L?F+x:F,lt=!!a._fullLoop&&L===0&&F===x-1;return ze(a,me(m,L,X,lt),m,g)}function ze(a,g,m,y){return!y||!y.setContext||!m?g:ei(a,g,m,y)}function ei(a,g,m,y){const x=a._chart.getContext(),D=Gi(a.options),{_datasetIndex:L,options:{spanGaps:F}}=a,X=m.length,lt=[];let bt=D,Wt=g[0].start,Vt=Wt;function ae(he,Xt,It,be){const Bn=F?-1:1;if(he!==Xt){for(he+=X;m[he%X].skip;)he-=Bn;for(;m[Xt%X].skip;)Xt+=Bn;he%X!==Xt%X&&(lt.push({start:he%X,end:Xt%X,loop:It,style:be}),bt=be,Wt=Xt%X)}}for(const he of g){Wt=F?Wt:he.start;let Xt=m[Wt%X],It;for(Vt=Wt+1;Vt<=he.end;Vt++){const be=m[Vt%X];It=Gi(y.setContext(Re(x,{type:"segment",p0:Xt,p1:be,p0DataIndex:(Vt-1)%X,p1DataIndex:Vt%X,datasetIndex:L}))),rs(It,bt)&&ae(Wt,Vt-1,he.loop,bt),Xt=be,bt=It}Wt<Vt-1&&ae(Wt,Vt-1,he.loop,bt)}return lt}function Gi(a){return{backgroundColor:a.backgroundColor,borderCapStyle:a.borderCapStyle,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderJoinStyle:a.borderJoinStyle,borderWidth:a.borderWidth,borderColor:a.borderColor}}function rs(a,g){if(!g)return!1;const m=[],y=function(x,D){return _n(D)?(m.includes(D)||m.push(D),m.indexOf(D)):D};return JSON.stringify(a,y)!==JSON.stringify(g,y)}},7282:(dt,Z,P)=>{"use strict";P.d(Z,{Z:()=>Rn});var c=P(3148),E=P(6672);const B={modes:{point(d,h){return ot(d,h,{intersect:!0})},nearest(d,h,p){return ct(d,h,p)},x(d,h,p){return ot(d,h,{intersect:p.intersect,axis:"x"})},y(d,h,p){return ot(d,h,{intersect:p.intersect,axis:"y"})}}};function T(d,h,p){return(B.modes[p.mode]||B.modes.nearest)(d,h,p)}function W(d,h,p){return p!=="x"&&p!=="y"?d.inRange(h.x,h.y,"x",!0)||d.inRange(h.x,h.y,"y",!0):d.inRange(h.x,h.y,p,!0)}function z(d,h,p){return p==="x"?{x:d.x,y:h.y}:p==="y"?{x:h.x,y:d.y}:h}function ot(d,h,p){return d.filter(_=>p.intersect?_.inRange(h.x,h.y):W(_,h,p.axis))}function ct(d,h,p){let _=Number.POSITIVE_INFINITY;return ot(d,h,p).reduce((w,C)=>{const S=C.getCenterPoint(),R=z(h,S,p.axis),K=(0,E.aE)(h,R);return K<_?(w=[C],_=K):K===_&&w.push(C),w},[]).sort((w,C)=>w._index-C._index).slice(0,1)}function q(d,h,p){const _=Math.cos(p),w=Math.sin(p),C=h.x,S=h.y;return{x:C+_*(d.x-C)-w*(d.y-S),y:S+w*(d.x-C)+_*(d.y-S)}}const ft=(d,h)=>h>d||d.length>h.length&&d.slice(0,h.length)===h,J=.001,tt=(d,h,p)=>Math.min(p,Math.max(h,d)),$=(d,h)=>d.value>=d.start-h&&d.value<=d.end+h;function U(d,h,p){for(const _ of Object.keys(d))d[_]=tt(d[_],h,p);return d}function Y(d,h,p,_){return!d||!h||p<=0?!1:Math.pow(d.x-h.x,2)+Math.pow(d.y-h.y,2)<=Math.pow(p+_,2)}function j(d,{x:h,y:p,x2:_,y2:w},C,{borderWidth:S,hitTolerance:R}){const K=(S+R)/2,rt=d.x>=h-K-J&&d.x<=_+K+J,Mt=d.y>=p-K-J&&d.y<=w+K+J;return C==="x"?rt:(C==="y"||rt)&&Mt}function ht(d,{rect:h,center:p},_,{rotation:w,borderWidth:C,hitTolerance:S}){const R=q(d,p,(0,E.t)(-w));return j(R,h,_,{borderWidth:C,hitTolerance:S})}function wt(d,h){const{centerX:p,centerY:_}=d.getProps(["centerX","centerY"],h);return{x:p,y:_}}function gt(d,h,p,_=!0){const w=p.split(".");let C=0;for(const S of h.split(".")){const R=w[C++];if(parseInt(S,10)<parseInt(R,10))break;if(ft(R,S)){if(_)throw new Error(`${d} v${p} is not supported. v${h} or newer is required.`);return!1}}return!0}const xt=d=>typeof d=="string"&&d.endsWith("%"),kt=d=>parseFloat(d)/100,Ct=d=>tt(kt(d),0,1),Ot=(d,h)=>({x:d,y:h,x2:d,y2:h,width:0,height:0}),Yt={box:d=>Ot(d.centerX,d.centerY),doughnutLabel:d=>Ot(d.centerX,d.centerY),ellipse:d=>({centerX:d.centerX,centerY:d.centerX,radius:0,width:0,height:0}),label:d=>Ot(d.centerX,d.centerY),line:d=>Ot(d.x,d.y),point:d=>({centerX:d.centerX,centerY:d.centerY,radius:0,width:0,height:0}),polygon:d=>Ot(d.centerX,d.centerY)};function $t(d,h){return h==="start"?0:h==="end"?d:xt(h)?Ct(h)*d:d/2}function Ut(d,h,p=!0){return typeof h=="number"?h:xt(h)?(p?Ct(h):kt(h))*d:d}function ne(d,h){const{x:p,width:_}=d,w=h.textAlign;return w==="center"?p+_/2:w==="end"||w==="right"?p+_:p}function Zt(d,h,{borderWidth:p,position:_,xAdjust:w,yAdjust:C},S){const R=(0,E.i)(S),K=h.width+(R?S.width:0)+p,rt=h.height+(R?S.height:0)+p,Mt=qt(_),Rt=te(d.x,K,w,Mt.x),Ht=te(d.y,rt,C,Mt.y);return{x:Rt,y:Ht,x2:Rt+K,y2:Ht+rt,width:K,height:rt,centerX:Rt+K/2,centerY:Ht+rt/2}}function qt(d,h="center"){return(0,E.i)(d)?{x:(0,E.v)(d.x,h),y:(0,E.v)(d.y,h)}:(d=(0,E.v)(d,h),{x:d,y:d})}const Pt=(d,h)=>d&&d.autoFit&&h<1;function Tt(d,h){const p=d.font,_=(0,E.b)(p)?p:[p];return Pt(d,h)?_.map(function(w){const C=(0,E.a0)(w);return C.size=Math.floor(w.size*h),C.lineHeight=w.lineHeight,(0,E.a0)(C)}):_.map(w=>(0,E.a0)(w))}function At(d){return d&&((0,E.h)(d.xValue)||(0,E.h)(d.yValue))}function te(d,h,p=0,_){return d-$t(h,_)+p}function Nt(d,h,p){const _=p.init;if(_){if(_===!0)return O(h,p)}else return;return A(d,h,p)}function it(d,h,p){let _=!1;return h.forEach(w=>{(0,E.a7)(d[w])?(_=!0,p[w]=d[w]):(0,E.h)(p[w])&&delete p[w]}),_}function O(d,h){const p=h.type||"line";return Yt[p](d)}function A(d,h,p){const _=(0,E.Q)(p.init,[{chart:d,properties:h,options:p}]);if(_===!0)return O(h,p);if((0,E.i)(_))return _}const G=new Map,et=d=>isNaN(d)||d<=0,nt=d=>d.reduce(function(h,p){return h+=p.string,h},"");function yt(d){if(d&&typeof d=="object"){const h=d.toString();return h==="[object HTMLImageElement]"||h==="[object HTMLCanvasElement]"}}function zt(d,{x:h,y:p},_){_&&(d.translate(h,p),d.rotate((0,E.t)(_)),d.translate(-h,-p))}function jt(d,h){if(h&&h.borderWidth)return d.lineCap=h.borderCapStyle||"butt",d.setLineDash(h.borderDash),d.lineDashOffset=h.borderDashOffset,d.lineJoin=h.borderJoinStyle||"miter",d.lineWidth=h.borderWidth,d.strokeStyle=h.borderColor,!0}function Lt(d,h){d.shadowColor=h.backgroundShadowColor,d.shadowBlur=h.shadowBlur,d.shadowOffsetX=h.shadowOffsetX,d.shadowOffsetY=h.shadowOffsetY}function Gt(d,h){const p=h.content;if(yt(p))return{width:Ut(p.width,h.width),height:Ut(p.height,h.height)};const _=Tt(h),w=h.textStrokeWidth,C=(0,E.b)(p)?p:[p],S=C.join()+nt(_)+w+(d._measureText?"-spriting":"");return G.has(S)||G.set(S,pt(d,C,_,w)),G.get(S)}function ie(d,h,p){const{x:_,y:w,width:C,height:S}=h;d.save(),Lt(d,p);const R=jt(d,p);d.fillStyle=p.backgroundColor,d.beginPath(),(0,E.au)(d,{x:_,y:w,w:C,h:S,radius:U((0,E.aw)(p.borderRadius),0,Math.min(C,S)/2)}),d.closePath(),d.fill(),R&&(d.shadowColor=p.borderShadowColor,d.stroke()),d.restore()}function ee(d,h,p,_){const w=p.content;if(yt(w)){d.save(),d.globalAlpha=re(p.opacity,w.style.opacity),d.drawImage(w,h.x,h.y,h.width,h.height),d.restore();return}const C=(0,E.b)(w)?w:[w],S=Tt(p,_),R=p.color,K=(0,E.b)(R)?R:[R],rt=ne(h,p),Mt=h.y+p.textStrokeWidth/2;d.save(),d.textBaseline="middle",d.textAlign=p.textAlign,V(d,p)&&Bt(d,{x:rt,y:Mt},C,S),Ft(d,{x:rt,y:Mt},C,{fonts:S,colors:K}),d.restore()}function V(d,h){if(h.textStrokeWidth>0)return d.lineJoin="round",d.miterLimit=2,d.lineWidth=h.textStrokeWidth,d.strokeStyle=h.textStrokeColor,!0}function H(d,h,p,_){const{radius:w,options:C}=h,S=C.pointStyle,R=C.rotation;let K=(R||0)*E.b3;if(yt(S)){d.save(),d.translate(p,_),d.rotate(K),d.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),d.restore();return}et(w)||_t(d,{x:p,y:_,radius:w,rotation:R,style:S,rad:K})}function _t(d,{x:h,y:p,radius:_,rotation:w,style:C,rad:S}){let R,K,rt,Mt;switch(d.beginPath(),C){default:d.arc(h,p,_,0,E.T),d.closePath();break;case"triangle":d.moveTo(h+Math.sin(S)*_,p-Math.cos(S)*_),S+=E.b5,d.lineTo(h+Math.sin(S)*_,p-Math.cos(S)*_),S+=E.b5,d.lineTo(h+Math.sin(S)*_,p-Math.cos(S)*_),d.closePath();break;case"rectRounded":Mt=_*.516,rt=_-Mt,R=Math.cos(S+E.b4)*rt,K=Math.sin(S+E.b4)*rt,d.arc(h-R,p-K,Mt,S-E.P,S-E.H),d.arc(h+K,p-R,Mt,S-E.H,S),d.arc(h+R,p+K,Mt,S,S+E.H),d.arc(h-K,p+R,Mt,S+E.H,S+E.P),d.closePath();break;case"rect":if(!w){rt=Math.SQRT1_2*_,d.rect(h-rt,p-rt,2*rt,2*rt);break}S+=E.b4;case"rectRot":R=Math.cos(S)*_,K=Math.sin(S)*_,d.moveTo(h-R,p-K),d.lineTo(h+K,p-R),d.lineTo(h+R,p+K),d.lineTo(h-K,p+R),d.closePath();break;case"crossRot":S+=E.b4;case"cross":R=Math.cos(S)*_,K=Math.sin(S)*_,d.moveTo(h-R,p-K),d.lineTo(h+R,p+K),d.moveTo(h+K,p-R),d.lineTo(h-K,p+R);break;case"star":R=Math.cos(S)*_,K=Math.sin(S)*_,d.moveTo(h-R,p-K),d.lineTo(h+R,p+K),d.moveTo(h+K,p-R),d.lineTo(h-K,p+R),S+=E.b4,R=Math.cos(S)*_,K=Math.sin(S)*_,d.moveTo(h-R,p-K),d.lineTo(h+R,p+K),d.moveTo(h+K,p-R),d.lineTo(h-K,p+R);break;case"line":R=Math.cos(S)*_,K=Math.sin(S)*_,d.moveTo(h-R,p-K),d.lineTo(h+R,p+K);break;case"dash":d.moveTo(h,p),d.lineTo(h+Math.cos(S)*_,p+Math.sin(S)*_);break}d.fill()}function pt(d,h,p,_){d.save();const w=h.length;let C=0,S=_;for(let R=0;R<w;R++){const K=p[Math.min(R,p.length-1)];d.font=K.string;const rt=h[R];C=Math.max(C,d.measureText(rt).width+_),S+=K.lineHeight}return d.restore(),{width:C,height:S}}function Bt(d,{x:h,y:p},_,w){d.beginPath();let C=0;_.forEach(function(S,R){const K=w[Math.min(R,w.length-1)],rt=K.lineHeight;d.font=K.string,d.strokeText(S,h,p+rt/2+C),C+=rt}),d.stroke()}function Ft(d,{x:h,y:p},_,{fonts:w,colors:C}){let S=0;_.forEach(function(R,K){const rt=C[Math.min(K,C.length-1)],Mt=w[Math.min(K,w.length-1)],Rt=Mt.lineHeight;d.beginPath(),d.font=Mt.string,d.fillStyle=rt,d.fillText(R,h,p+Rt/2+S),S+=Rt,d.fill()})}function re(d,h){const p=(0,E.x)(d)?d:h;return(0,E.x)(p)?tt(p,0,1):1}const oe=["left","bottom","top","right"];function pe(d,h){const{pointX:p,pointY:_,options:w}=h,C=w.callout,S=C&&C.display&&Ue(h,C);if(!S||Oi(h,C,S))return;if(d.save(),d.beginPath(),!jt(d,C))return d.restore();const{separatorStart:K,separatorEnd:rt}=ye(h,S),{sideStart:Mt,sideEnd:Rt}=ve(h,S,K);(C.margin>0||w.borderWidth===0)&&(d.moveTo(K.x,K.y),d.lineTo(rt.x,rt.y)),d.moveTo(Mt.x,Mt.y),d.lineTo(Rt.x,Rt.y);const Ht=q({x:p,y:_},h.getCenterPoint(),(0,E.t)(-h.rotation));d.lineTo(Ht.x,Ht.y),d.stroke(),d.restore()}function ye(d,h){const{x:p,y:_,x2:w,y2:C}=d,S=we(d,h);let R,K;return h==="left"||h==="right"?(R={x:p+S,y:_},K={x:R.x,y:C}):(R={x:p,y:_+S},K={x:w,y:R.y}),{separatorStart:R,separatorEnd:K}}function we(d,h){const{width:p,height:_,options:w}=d,C=w.callout.margin+w.borderWidth/2;return h==="right"?p+C:h==="bottom"?_+C:-C}function ve(d,h,p){const{y:_,width:w,height:C,options:S}=d,R=S.callout.start,K=Wn(h,S.callout);let rt,Mt;return h==="left"||h==="right"?(rt={x:p.x,y:_+Ut(C,R)},Mt={x:rt.x+K,y:rt.y}):(rt={x:p.x+Ut(w,R),y:p.y},Mt={x:rt.x,y:rt.y+K}),{sideStart:rt,sideEnd:Mt}}function Wn(d,h){const p=h.side;return d==="left"||d==="top"?-p:p}function Ue(d,h){const p=h.position;return oe.includes(p)?p:oi(d,h)}function oi(d,h){const{x:p,y:_,x2:w,y2:C,width:S,height:R,pointX:K,pointY:rt,centerX:Mt,centerY:Rt,rotation:Ht}=d,le={x:Mt,y:Rt},ue=h.start,Pe=Ut(S,ue),Fe=Ut(R,ue),Ce=[p,p+Pe,p+Pe,w],me=[_+Fe,C,_,C],We=[];for(let ze=0;ze<4;ze++){const ei=q({x:Ce[ze],y:me[ze]},le,(0,E.t)(Ht));We.push({position:oe[ze],distance:(0,E.aE)(ei,{x:K,y:rt})})}return We.sort((ze,ei)=>ze.distance-ei.distance)[0].position}function Oi(d,h,p){const{pointX:_,pointY:w}=d,C=h.margin;let S=_,R=w;return p==="left"?S+=C:p==="right"?S-=C:p==="top"?R+=C:p==="bottom"&&(R-=C),d.inRange(S,R)}const gn={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function je(d,h,p){return h=typeof h=="number"?h:d.parse(h),(0,E.g)(h)?d.getPixelForValue(h):p}function Ke(d,h,p){const _=h[p];if(_||p==="scaleID")return _;const w=p.charAt(0),C=Object.values(d).filter(S=>S.axis&&S.axis===w);return C.length?C[0].id:w}function pn(d,h){if(d){const p=d.options.reverse,_=je(d,h.min,p?h.end:h.start),w=je(d,h.max,p?h.start:h.end);return{start:_,end:w}}}function Ye(d,h){const{chartArea:p,scales:_}=d,w=_[Ke(_,h,"xScaleID")],C=_[Ke(_,h,"yScaleID")];let S=p.width/2,R=p.height/2;return w&&(S=je(w,h.xValue,w.left+w.width/2)),C&&(R=je(C,h.yValue,C.top+C.height/2)),{x:S,y:R}}function mn(d,h){const p=d.scales,_=p[Ke(p,h,"xScaleID")],w=p[Ke(p,h,"yScaleID")];if(!_&&!w)return{};let{left:C,right:S}=_||d.chartArea,{top:R,bottom:K}=w||d.chartArea;const rt=li(_,{min:h.xMin,max:h.xMax,start:C,end:S});C=rt.start,S=rt.end;const Mt=li(w,{min:h.yMin,max:h.yMax,start:K,end:R});return R=Mt.start,K=Mt.end,{x:C,y:R,x2:S,y2:K,width:S-C,height:K-R,centerX:C+(S-C)/2,centerY:R+(K-R)/2}}function Xe(d,h){if(!At(h)){const p=mn(d,h);let _=h.radius;(!_||isNaN(_))&&(_=Math.min(p.width,p.height)/2,h.radius=_);const w=_*2,C=p.centerX+h.xAdjust,S=p.centerY+h.yAdjust;return{x:C-_,y:S-_,x2:C+_,y2:S+_,centerX:C,centerY:S,width:w,height:w,radius:_}}return Ai(d,h)}function Ti(d,h){const{scales:p,chartArea:_}=d,w=p[h.scaleID],C={x:_.left,y:_.top,x2:_.right,y2:_.bottom};return w?nn(w,C,h):zn(p,C,h),C}function ai(d,h){const p=mn(d,h);return p.initProperties=Nt(d,p,h),p.elements=[{type:"label",optionScope:"label",properties:sn(d,p,h),initProperties:p.initProperties}],p}function Ai(d,h){const p=Ye(d,h),_=h.radius*2;return{x:p.x-h.radius+h.xAdjust,y:p.y-h.radius+h.yAdjust,x2:p.x+h.radius+h.xAdjust,y2:p.y+h.radius+h.yAdjust,centerX:p.x+h.xAdjust,centerY:p.y+h.yAdjust,radius:h.radius,width:_,height:_}}function li(d,h){const p=pn(d,h)||h;return{start:Math.min(p.start,p.end),end:Math.max(p.start,p.end)}}function nn(d,h,p){const _=je(d,p.value,NaN),w=je(d,p.endValue,_);d.isHorizontal()?(h.x=_,h.x2=w):(h.y=_,h.y2=w)}function zn(d,h,p){for(const _ of Object.keys(gn)){const w=d[Ke(d,p,_)];if(w){const{min:C,max:S,start:R,end:K,startProp:rt,endProp:Mt}=gn[_],Rt=pn(w,{min:p[C],max:p[S],start:w[R],end:w[K]});h[rt]=Rt.start,h[Mt]=Rt.end}}}function ci({properties:d,options:h},p,_,w){const{x:C,x2:S,width:R}=d;return _n({start:C,end:S,size:R,borderWidth:h.borderWidth},{position:_.x,padding:{start:w.left,end:w.right},adjust:h.label.xAdjust,size:p.width})}function bn({properties:d,options:h},p,_,w){const{y:C,y2:S,height:R}=d;return _n({start:C,end:S,size:R,borderWidth:h.borderWidth},{position:_.y,padding:{start:w.top,end:w.bottom},adjust:h.label.yAdjust,size:p.height})}function _n(d,h){const{start:p,end:_,borderWidth:w}=d,{position:C,padding:{start:S,end:R},adjust:K}=h,rt=_-w-p-S-R-h.size;return p+w/2+K+$t(rt,C)}function sn(d,h,p){const _=p.label;_.backgroundColor="transparent",_.callout.display=!1;const w=qt(_.position),C=(0,E.E)(_.padding),S=Gt(d.ctx,_),R=ci({properties:h,options:p},S,w,C),K=bn({properties:h,options:p},S,w,C),rt=S.width+C.width,Mt=S.height+C.height;return{x:R,y:K,x2:R+rt,y2:K+Mt,width:rt,height:Mt,centerX:R+rt/2,centerY:K+Mt/2,rotation:_.rotation}}const Te=["enter","leave"],yn=Te.concat("click");function ge(d,h,p){h.listened=it(p,yn,h.listeners),h.moveListened=!1,Te.forEach(_=>{(0,E.a7)(p[_])&&(h.moveListened=!0)}),(!h.listened||!h.moveListened)&&h.annotations.forEach(_=>{!h.listened&&(0,E.a7)(_.click)&&(h.listened=!0),h.moveListened||Te.forEach(w=>{(0,E.a7)(_[w])&&(h.listened=!0,h.moveListened=!0)})})}function ui(d,h,p){if(d.listened)switch(h.type){case"mousemove":case"mouseout":return Li(d,h,p);case"click":return Ri(d,h,p)}}function Li(d,h,p){if(!d.moveListened)return;let _;h.type==="mousemove"?_=T(d.visibleElements,h,p.interaction):_=[];const w=d.hovered;d.hovered=_;const C={state:d,event:h};let S=$e(C,"leave",w,_);return $e(C,"enter",_,w)||S}function $e({state:d,event:h},p,_,w){let C;for(const S of _)w.indexOf(S)<0&&(C=vn(S.options[p]||d.listeners[p],S,h)||C);return C}function Ri(d,h,p){const _=d.listeners,w=T(d.visibleElements,h,p.interaction);let C;for(const S of w)C=vn(S.options.click||_.click,S,h)||C;return C}function vn(d,h,p){return(0,E.Q)(d,[h.$context,p])===!0}const rn=["afterDraw","beforeDraw"];function hi(d,h,p){const _=h.visibleElements;h.hooked=it(p,rn,h.hooks),h.hooked||_.forEach(w=>{h.hooked||rn.forEach(C=>{(0,E.a7)(w.options[C])&&(h.hooked=!0)})})}function jn(d,h,p){if(d.hooked){const _=h.options[p]||d.hooks[p];return(0,E.Q)(_,[h.$context])}}function Ii(d,h,p){const _=Hn(d.scales,h,p);let w=Ze(h,_,"min","suggestedMin");w=Ze(h,_,"max","suggestedMax")||w,w&&(0,E.a7)(h.handleTickRangeOptions)&&h.handleTickRangeOptions()}function di(d,h){for(const p of d)Nn(p,h)}function Ze(d,h,p,_){if((0,E.g)(h[p])&&!on(d.options,p,_)){const w=d[p]!==h[p];return d[p]=h[p],w}}function on(d,h,p){return(0,E.h)(d[h])||(0,E.h)(d[p])}function Nn(d,h){for(const p of["scaleID","xScaleID","yScaleID"]){const _=Ke(h,d,p);_&&!h[_]&&an(d,p)&&console.warn(`No scale found with id '${_}' for annotation '${d.id}'`)}}function an(d,h){if(h==="scaleID")return!0;const p=h.charAt(0);for(const _ of["Min","Max","Value"])if((0,E.h)(d[p+_]))return!0;return!1}function Hn(d,h,p){const _=h.axis,w=h.id,C=_+"ScaleID",S={min:(0,E.v)(h.min,Number.NEGATIVE_INFINITY),max:(0,E.v)(h.max,Number.POSITIVE_INFINITY)};for(const R of p)R.scaleID===w?Vn(R,h,["value","endValue"],S):Ke(d,R,C)===w&&Vn(R,h,[_+"Min",_+"Max",_+"Value"],S);return S}function Vn(d,h,p,_){for(const w of p){const C=d[w];if((0,E.h)(C)){const S=h.parse(C);_.min=Math.min(_.min,S),_.max=Math.max(_.max,S)}}}class Ae extends c.W_{inRange(h,p,_,w){const{x:C,y:S}=q({x:h,y:p},this.getCenterPoint(w),(0,E.t)(-this.options.rotation));return j({x:C,y:S},this.getProps(["x","y","x2","y2"],w),_,this.options)}getCenterPoint(h){return wt(this,h)}draw(h){h.save(),zt(h,this.getCenterPoint(),this.options.rotation),ie(h,this,this.options),h.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(h,p){return ai(h,p)}}Ae.id="boxAnnotation",Ae.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},Ae.defaultRoutes={borderColor:"color",backgroundColor:"color"},Ae.descriptors={label:{_fallback:!0}};class xn extends c.W_{inRange(h,p,_,w){return ht({x:h,y:p},{rect:this.getProps(["x","y","x2","y2"],w),center:this.getCenterPoint(w)},_,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(h){return wt(this,h)}draw(h){const p=this.options;!p.display||!p.content||(Se(h,this),h.save(),zt(h,this.getCenterPoint(),this.rotation),ee(h,this,p,this._fitRatio),h.restore())}resolveElementProperties(h,p){const _=Bi(h,p);if(!_)return{};const{controllerMeta:w,point:C,radius:S}=Fi(h,p,_);let R=Gt(h.ctx,p);const K=fi(R,S);Pt(p,K)&&(R={width:R.width*K,height:R.height*K});const{position:rt,xAdjust:Mt,yAdjust:Rt}=p,Ht=Zt(C,R,{borderWidth:0,position:rt,xAdjust:Mt,yAdjust:Rt});return{initProperties:Nt(h,Ht,p),...Ht,...w,rotation:p.rotation,_fitRatio:K}}}xn.id="doughnutLabelAnnotation",xn.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0},xn.defaultRoutes={};function Bi(d,h){return d.getSortedVisibleDatasetMetas().reduce(function(p,_){const w=_.controller;return w instanceof c.jI&&Un(d,h,_.data)&&(!p||w.innerRadius<p.controller.innerRadius)&&w.options.circumference>=90?_:p},void 0)}function Un(d,h,p){if(!h.autoHide)return!0;for(let _=0;_<p.length;_++)if(!p[_].hidden&&d.getDataVisibility(_))return!0}function Fi({chartArea:d},h,p){const{left:_,top:w,right:C,bottom:S}=d,{innerRadius:R,offsetX:K,offsetY:rt}=p.controller,Mt=(_+C)/2+K,Rt=(w+S)/2+rt,Ht={left:Math.max(Mt-R,_),right:Math.min(Mt+R,C),top:Math.max(Rt-R,w),bottom:Math.min(Rt+R,S)},le={x:(Ht.left+Ht.right)/2,y:(Ht.top+Ht.bottom)/2},ue=h.spacing+h.borderWidth/2,Pe=R-ue,Fe=le.y>Rt,Ce=Fe?w+ue:S-ue,me=Kn(Ce,Mt,Rt,Pe);return{controllerMeta:{_centerX:Mt,_centerY:Rt,_radius:Pe,_counterclockwise:Fe,...me},point:le,radius:Math.min(R,Math.min(Ht.right-Ht.left,Ht.bottom-Ht.top)/2)}}function fi({width:d,height:h},p){const _=Math.sqrt(Math.pow(d,2)+Math.pow(h,2));return p*2/_}function Kn(d,h,p,_){const w=Math.pow(p-d,2),C=Math.pow(_,2),S=h*-2,R=Math.pow(h,2)+w-C,K=Math.pow(S,2)-4*R;if(K<=0)return{_startAngle:0,_endAngle:E.T};const rt=(-S-Math.sqrt(K))/2,Mt=(-S+Math.sqrt(K))/2;return{_startAngle:(0,E.D)({x:h,y:p},{x:rt,y:d}).angle,_endAngle:(0,E.D)({x:h,y:p},{x:Mt,y:d}).angle}}function Se(d,h){const{_centerX:p,_centerY:_,_radius:w,_startAngle:C,_endAngle:S,_counterclockwise:R,options:K}=h;d.save();const rt=jt(d,K);d.fillStyle=K.backgroundColor,d.beginPath(),d.arc(p,_,w,C,S,R),d.closePath(),d.fill(),rt&&d.stroke(),d.restore()}class ln extends c.W_{inRange(h,p,_,w){return ht({x:h,y:p},{rect:this.getProps(["x","y","x2","y2"],w),center:this.getCenterPoint(w)},_,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(h){return wt(this,h)}draw(h){const p=this.options,_=!(0,E.h)(this._visible)||this._visible;!p.display||!p.content||!_||(h.save(),zt(h,this.getCenterPoint(),this.rotation),pe(h,this),ie(h,this,p),ee(h,Wi(this),p),h.restore())}resolveElementProperties(h,p){let _;if(At(p))_=Ye(h,p);else{const{centerX:R,centerY:K}=mn(h,p);_={x:R,y:K}}const w=(0,E.E)(p.padding),C=Gt(h.ctx,p),S=Zt(_,C,p,w);return{initProperties:Nt(h,S,p),pointX:_.x,pointY:_.y,...S,rotation:p.rotation}}}ln.id="labelAnnotation",ln.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},ln.defaultRoutes={borderColor:"color"};function Wi({x:d,y:h,width:p,height:_,options:w}){const C=w.borderWidth/2,S=(0,E.E)(w.padding);return{x:d+S.left+C,y:h+S.top+C,width:p-S.left-S.right-w.borderWidth,height:_-S.top-S.bottom-w.borderWidth}}const Yn=(d,h,p)=>({x:d.x+p*(h.x-d.x),y:d.y+p*(h.y-d.y)}),Xn=(d,h,p)=>Yn(h,p,Math.abs((d-h.y)/(p.y-h.y))).x,gi=(d,h,p)=>Yn(h,p,Math.abs((d-h.x)/(p.x-h.x))).y,Le=d=>d*d,zi=(d,h,{x:p,y:_,x2:w,y2:C},S)=>S==="y"?{start:Math.min(_,C),end:Math.max(_,C),value:h}:{start:Math.min(p,w),end:Math.max(p,w),value:d},pi=(d,h,p,_)=>(1-_)*(1-_)*d+2*(1-_)*_*h+_*_*p,wn=(d,h,p,_)=>({x:pi(d.x,h.x,p.x,_),y:pi(d.y,h.y,p.y,_)}),$n=(d,h,p,_)=>2*(1-_)*(h-d)+2*_*(p-h),Zn=(d,h,p,_)=>-Math.atan2($n(d.x,h.x,p.x,_),$n(d.y,h.y,p.y,_))+.5*E.P;class cn extends c.W_{inRange(h,p,_,w){const C=(this.options.borderWidth+this.options.hitTolerance)/2;if(_!=="x"&&_!=="y"){const S={mouseX:h,mouseY:p},{path:R,ctx:K}=this;if(R){jt(K,this.options),K.lineWidth+=this.options.hitTolerance;const{chart:Mt}=this.$context,Rt=h*Mt.currentDevicePixelRatio,Ht=p*Mt.currentDevicePixelRatio,le=K.isPointInStroke(R,Rt,Ht)||Gn(this,S,w);return K.restore(),le}const rt=Le(C);return Ni(this,S,rt,w)||Gn(this,S,w)}return Ge(this,{mouseX:h,mouseY:p},_,{hitSize:C,useFinalPosition:w})}getCenterPoint(h){return wt(this,h)}draw(h){const{x:p,y:_,x2:w,y2:C,cp:S,options:R}=this;if(h.save(),!jt(h,R))return h.restore();Lt(h,R);const K=Math.sqrt(Math.pow(w-p,2)+Math.pow(C-_,2));if(R.curve&&S)return Qn(h,this,S,K),h.restore();const{startOpts:rt,endOpts:Mt,startAdjust:Rt,endAdjust:Ht}=vi(this),le=Math.atan2(C-_,w-p);h.translate(p,_),h.rotate(le),h.beginPath(),h.moveTo(0+Rt,0),h.lineTo(K-Ht,0),h.shadowColor=R.borderShadowColor,h.stroke(),Cn(h,0,Rt,rt),Cn(h,K,-Ht,Mt),h.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(h,p){const _=Ti(h,p),{x:w,y:C,x2:S,y2:R}=_,K=mi(_,h.chartArea),rt=K?ji({x:w,y:C},{x:S,y:R},h.chartArea):{x:w,y:C,x2:S,y2:R,width:Math.abs(S-w),height:Math.abs(R-C)};if(rt.centerX=(S+w)/2,rt.centerY=(R+C)/2,rt.initProperties=Nt(h,rt,p),p.curve){const Rt={x:rt.x,y:rt.y},Ht={x:rt.x2,y:rt.y2};rt.cp=Vi(rt,p,(0,E.aE)(Rt,Ht))}const Mt=Re(h,rt,p.label);return Mt._visible=K,rt.elements=[{type:"label",optionScope:"label",properties:Mt,initProperties:rt.initProperties}],rt}}cn.id="lineAnnotation";const Mn={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};cn.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},Mn),fill:!1,length:12,start:Object.assign({},Mn),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},ln.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},cn.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}},cn.defaultRoutes={borderColor:"color"};function Ge(d,{mouseX:h,mouseY:p},_,{hitSize:w,useFinalPosition:C}){const S=zi(h,p,d.getProps(["x","y","x2","y2"],C),_);return $(S,w)||Gn(d,{mouseX:h,mouseY:p},C,_)}function mi({x:d,y:h,x2:p,y2:_},{top:w,right:C,bottom:S,left:R}){return!(d<R&&p<R||d>C&&p>C||h<w&&_<w||h>S&&_>S)}function bi({x:d,y:h},p,{top:_,right:w,bottom:C,left:S}){return d<S&&(h=gi(S,{x:d,y:h},p),d=S),d>w&&(h=gi(w,{x:d,y:h},p),d=w),h<_&&(d=Xn(_,{x:d,y:h},p),h=_),h>C&&(d=Xn(C,{x:d,y:h},p),h=C),{x:d,y:h}}function ji(d,h,p){const{x:_,y:w}=bi(d,h,p),{x:C,y:S}=bi(h,d,p);return{x:_,y:w,x2:C,y2:S,width:Math.abs(C-_),height:Math.abs(S-w)}}function Ni(d,{mouseX:h,mouseY:p},_=J,w){const{x:C,y:S,x2:R,y2:K}=d.getProps(["x","y","x2","y2"],w),rt=R-C,Mt=K-S,Rt=Le(rt)+Le(Mt),Ht=Rt===0?-1:((h-C)*rt+(p-S)*Mt)/Rt;let le,ue;return Ht<0?(le=C,ue=S):Ht>1?(le=R,ue=K):(le=C+Ht*rt,ue=S+Ht*Mt),Le(h-le)+Le(p-ue)<=_}function Gn(d,{mouseX:h,mouseY:p},_,w){const C=d.label;return C.options.display&&C.inRange(h,p,w,_)}function Re(d,h,p){const _=p.borderWidth,w=(0,E.E)(p.padding),C=Gt(d.ctx,p),S=C.width+w.width+_,R=C.height+w.height+_;return un(h,p,{width:S,height:R,padding:w},d.chartArea)}function Qe(d){const{x:h,y:p,x2:_,y2:w}=d,C=Math.atan2(w-p,_-h);return C>E.P/2?C-E.P:C<E.P/-2?C+E.P:C}function un(d,h,p,_){const{width:w,height:C,padding:S}=p,{xAdjust:R,yAdjust:K}=h,rt={x:d.x,y:d.y},Mt={x:d.x2,y:d.y2},Rt=h.rotation==="auto"?Qe(d):(0,E.t)(h.rotation),Ht=_i(w,C,Rt),le=Hi(d,h,{labelSize:Ht,padding:S},_),ue=d.cp?wn(rt,d.cp,Mt,le):Yn(rt,Mt,le),Pe={size:Ht.w,min:_.left,max:_.right,padding:S.left},Fe={size:Ht.h,min:_.top,max:_.bottom,padding:S.top},Ce=yi(ue.x,Pe)+R,me=yi(ue.y,Fe)+K;return{x:Ce-w/2,y:me-C/2,x2:Ce+w/2,y2:me+C/2,centerX:Ce,centerY:me,pointX:ue.x,pointY:ue.y,width:w,height:C,rotation:(0,E.U)(Rt)}}function _i(d,h,p){const _=Math.cos(p),w=Math.sin(p);return{w:Math.abs(d*_)+Math.abs(h*w),h:Math.abs(d*w)+Math.abs(h*_)}}function Hi(d,h,p,_){let w;const C=Me(d,_);return h.position==="start"?w=Pn({w:d.x2-d.x,h:d.y2-d.y},p,h,C):h.position==="end"?w=1-Pn({w:d.x-d.x2,h:d.y-d.y2},p,h,C):w=$t(1,h.position),w}function Pn(d,h,p,_){const{labelSize:w,padding:C}=h,S=d.w*_.dx,R=d.h*_.dy,K=S>0&&(w.w/2+C.left-_.x)/S,rt=R>0&&(w.h/2+C.top-_.y)/R;return tt(Math.max(K,rt),0,.25)}function Me(d,h){const{x:p,x2:_,y:w,y2:C}=d,S=Math.min(w,C)-h.top,R=Math.min(p,_)-h.left,K=h.bottom-Math.max(w,C),rt=h.right-Math.max(p,_);return{x:Math.min(R,rt),y:Math.min(S,K),dx:R<=rt?1:-1,dy:S<=K?1:-1}}function yi(d,h){const{size:p,min:_,max:w,padding:C}=h,S=p/2;return p>w-_?(w+_)/2:(_>=d-C-S&&(d=_+C+S),w<=d+C+S&&(d=w-C-S),d)}function vi(d){const h=d.options,p=h.arrowHeads&&h.arrowHeads.start,_=h.arrowHeads&&h.arrowHeads.end;return{startOpts:p,endOpts:_,startAdjust:xi(d,p),endAdjust:xi(d,_)}}function xi(d,h){if(!h||!h.display)return 0;const{length:p,width:_}=h,w=d.options.borderWidth/2,C={x:p,y:_+w};return Math.abs(Xn(0,C,{x:0,y:w}))}function Cn(d,h,p,_){if(!_||!_.display)return;const{length:w,width:C,fill:S,backgroundColor:R,borderColor:K}=_,rt=Math.abs(h-w)+p;d.beginPath(),Lt(d,_),jt(d,_),d.moveTo(rt,-C),d.lineTo(h+p,0),d.lineTo(rt,C),S===!0?(d.fillStyle=R||K,d.closePath(),d.fill(),d.shadowColor="transparent"):d.shadowColor=_.borderShadowColor,d.stroke()}function Vi(d,h,p){const{x:_,y:w,x2:C,y2:S,centerX:R,centerY:K}=d,rt=Math.atan2(S-w,C-_),Mt=qt(h.controlPoint,0),Rt={x:R+Ut(p,Mt.x,!1),y:K+Ut(p,Mt.y,!1)};return q(Rt,{x:R,y:K},rt)}function Sn(d,{x:h,y:p},{angle:_,adjust:w},C){!C||!C.display||(d.save(),d.translate(h,p),d.rotate(_),Cn(d,0,-w,C),d.restore())}function Qn(d,h,p,_){const{x:w,y:C,x2:S,y2:R,options:K}=h,{startOpts:rt,endOpts:Mt,startAdjust:Rt,endAdjust:Ht}=vi(h),le={x:w,y:C},ue={x:S,y:R},Pe=Zn(le,p,ue,0),Fe=Zn(le,p,ue,1)-E.P,Ce=wn(le,p,ue,Rt/_),me=wn(le,p,ue,1-Ht/_),We=new Path2D;d.beginPath(),We.moveTo(Ce.x,Ce.y),We.quadraticCurveTo(p.x,p.y,me.x,me.y),d.shadowColor=K.borderShadowColor,d.stroke(We),h.path=We,h.ctx=d,Sn(d,Ce,{angle:Pe,adjust:Rt},rt),Sn(d,me,{angle:Fe,adjust:Ht},Mt)}class Je extends c.W_{inRange(h,p,_,w){const C=this.options.rotation,S=(this.options.borderWidth+this.options.hitTolerance)/2;if(_!=="x"&&_!=="y")return wi({x:h,y:p},this.getProps(["width","height","centerX","centerY"],w),C,S);const{x:R,y:K,x2:rt,y2:Mt}=this.getProps(["x","y","x2","y2"],w),Rt=_==="y"?{start:K,end:Mt}:{start:R,end:rt},Ht=q({x:h,y:p},this.getCenterPoint(w),(0,E.t)(-C));return Ht[_]>=Rt.start-S-J&&Ht[_]<=Rt.end+S+J}getCenterPoint(h){return wt(this,h)}draw(h){const{width:p,height:_,centerX:w,centerY:C,options:S}=this;h.save(),zt(h,this.getCenterPoint(),S.rotation),Lt(h,this.options),h.beginPath(),h.fillStyle=S.backgroundColor;const R=jt(h,S);h.ellipse(w,C,_/2,p/2,E.P/2,0,2*E.P),h.fill(),R&&(h.shadowColor=S.borderShadowColor,h.stroke()),h.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(h,p){return ai(h,p)}}Je.id="ellipseAnnotation",Je.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},Ae.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},Je.defaultRoutes={borderColor:"color",backgroundColor:"color"},Je.descriptors={label:{_fallback:!0}};function wi(d,h,p,_){const{width:w,height:C,centerX:S,centerY:R}=h,K=w/2,rt=C/2;if(K<=0||rt<=0)return!1;const Mt=(0,E.t)(p||0),Rt=Math.cos(Mt),Ht=Math.sin(Mt),le=Math.pow(Rt*(d.x-S)+Ht*(d.y-R),2),ue=Math.pow(Ht*(d.x-S)-Rt*(d.y-R),2);return le/Math.pow(K+_,2)+ue/Math.pow(rt+_,2)<=1.0001}class En extends c.W_{inRange(h,p,_,w){const{x:C,y:S,x2:R,y2:K,width:rt}=this.getProps(["x","y","x2","y2","width"],w),Mt=(this.options.borderWidth+this.options.hitTolerance)/2;return _!=="x"&&_!=="y"?Y({x:h,y:p},this.getCenterPoint(w),rt/2,Mt):$(_==="y"?{start:S,end:K,value:p}:{start:C,end:R,value:h},Mt)}getCenterPoint(h){return wt(this,h)}draw(h){const p=this.options,_=p.borderWidth;if(p.radius<.1)return;h.save(),h.fillStyle=p.backgroundColor,Lt(h,p);const w=jt(h,p);H(h,this,this.centerX,this.centerY),w&&!yt(p.pointStyle)&&(h.shadowColor=p.borderShadowColor,h.stroke()),h.restore(),p.borderWidth=_}resolveElementProperties(h,p){const _=Xe(h,p);return _.initProperties=Nt(h,_,p),_}}En.id="pointAnnotation",En.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},En.defaultRoutes={borderColor:"color",backgroundColor:"color"};class Ne extends c.W_{inRange(h,p,_,w){if(_!=="x"&&_!=="y")return this.options.radius>=.1&&this.elements.length>1&&Ui(this.elements,h,p,w);const C=q({x:h,y:p},this.getCenterPoint(w),(0,E.t)(-this.options.rotation)),S=this.elements.map(rt=>_==="y"?rt.bY:rt.bX),R=Math.min(...S),K=Math.max(...S);return C[_]>=R&&C[_]<=K}getCenterPoint(h){return wt(this,h)}draw(h){const{elements:p,options:_}=this;h.save(),h.beginPath(),h.fillStyle=_.backgroundColor,Lt(h,_);const w=jt(h,_);let C=!0;for(const S of p)C?(h.moveTo(S.x,S.y),C=!1):h.lineTo(S.x,S.y);h.closePath(),h.fill(),w&&(h.shadowColor=_.borderShadowColor,h.stroke()),h.restore()}resolveElementProperties(h,p){const _=Xe(h,p),{sides:w,rotation:C}=p,S=[],R=2*E.P/w;let K=C*E.b3;for(let rt=0;rt<w;rt++,K+=R){const Mt=Jn(_,p,K);Mt.initProperties=Nt(h,_,p),S.push(Mt)}return _.elements=S,_}}Ne.id="polygonAnnotation",Ne.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},Ne.defaultRoutes={borderColor:"color",backgroundColor:"color"};function Jn({centerX:d,centerY:h},{radius:p,borderWidth:_,hitTolerance:w},C){const S=(_+w)/2,R=Math.sin(C),K=Math.cos(C),rt={x:d+R*p,y:h-K*p};return{type:"point",optionScope:"point",properties:{x:rt.x,y:rt.y,centerX:rt.x,centerY:rt.y,bX:d+R*(p+S),bY:h-K*(p+S)}}}function Ui(d,h,p,_){let w=!1,C=d[d.length-1].getProps(["bX","bY"],_);for(const S of d){const R=S.getProps(["bX","bY"],_);R.bY>p!=C.bY>p&&h<(C.bX-R.bX)*(p-R.bY)/(C.bY-R.bY)+R.bX&&(w=!w),C=R}return w}const Ie={box:Ae,doughnutLabel:xn,ellipse:Je,label:ln,line:cn,point:En,polygon:Ne};Object.keys(Ie).forEach(d=>{E.d.describe(`elements.${Ie[d].id}`,{_fallback:"plugins.annotation.common"})});const Mi={update:Object.assign},He=yn.concat(rn),qn=(d,h)=>(0,E.i)(h)?An(d,h):d,kn=d=>d==="color"||d==="font";function Dn(d="line"){return Ie[d]?d:(console.warn(`Unknown annotation type: '${d}', defaulting to 'line'`),"line")}function On(d,h,p,_){const w=Tn(d,p.animations,_),C=h.annotations,S=dn(h.elements,C);for(let R=0;R<C.length;R++){const K=C[R],rt=Ci(S,R,K.type),Mt=K.setContext(Ln(d,rt,S,K)),Rt=rt.resolveElementProperties(d,Mt);Rt.skip=hn(Rt),"elements"in Rt&&(Pi(rt,Rt.elements,Mt,w),delete Rt.elements),(0,E.h)(rt.x)||Object.assign(rt,Rt),Object.assign(rt,Rt.initProperties),Rt.options=ti(Mt),w.update(rt,Rt)}}function hn(d){return isNaN(d.x)||isNaN(d.y)}function Tn(d,h,p){return p==="reset"||p==="none"||p==="resize"?Mi:new c.FK(d,h)}function Pi(d,h,p,_){const w=d.elements||(d.elements=[]);w.length=h.length;for(let C=0;C<h.length;C++){const S=h[C],R=S.properties,K=Ci(w,C,S.type,S.initProperties),rt=p[S.optionScope].override(S);R.options=ti(rt),_.update(K,R)}}function Ci(d,h,p,_){const w=Ie[Dn(p)];let C=d[h];return(!C||!(C instanceof w))&&(C=d[h]=new w,Object.assign(C,_)),C}function ti(d){const h=Ie[Dn(d.type)],p={};p.id=d.id,p.type=d.type,p.drawTime=d.drawTime,Object.assign(p,An(d,h.defaults),An(d,h.defaultRoutes));for(const _ of He)p[_]=d[_];return p}function An(d,h){const p={};for(const _ of Object.keys(h)){const w=h[_],C=d[_];kn(_)&&(0,E.b)(C)?p[_]=C.map(S=>qn(S,w)):p[_]=qn(C,w)}return p}function Ln(d,h,p,_){return h.$context||(h.$context=Object.assign(Object.create(d.getContext()),{element:h,get elements(){return p.filter(w=>w&&w.options)},id:_.id,type:"annotation"}))}function dn(d,h){const p=h.length,_=d.length;if(_<p){const w=p-_;d.splice(_,0,...new Array(w))}else _>p&&d.splice(p,_-p);return d}var Si="3.1.0";const De=new Map,Be=d=>d.type!=="doughnutLabel",Ei=yn.concat(rn);var Rn={id:"annotation",version:Si,beforeRegister(){gt("chart.js","4.0",c.kL.version)},afterRegister(){c.kL.register(Ie)},afterUnregister(){c.kL.unregister(Ie)},beforeInit(d){De.set(d,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(d,h,p){const _=De.get(d),w=_.annotations=[];let C=p.annotations;(0,E.i)(C)?Object.keys(C).forEach(S=>{const R=C[S];(0,E.i)(R)&&(R.id=S,w.push(R))}):(0,E.b)(C)&&w.push(...C),di(w.filter(Be),d.scales)},afterDataLimits(d,h){const p=De.get(d);Ii(d,h.scale,p.annotations.filter(Be).filter(_=>_.display&&_.adjustScaleRange))},afterUpdate(d,h,p){const _=De.get(d);ge(d,_,p),On(d,_,p,h.mode),_.visibleElements=_.elements.filter(w=>!w.skip&&w.options.display),hi(d,_,p)},beforeDatasetsDraw(d,h,p){qe(d,"beforeDatasetsDraw",p.clip)},afterDatasetsDraw(d,h,p){qe(d,"afterDatasetsDraw",p.clip)},beforeDatasetDraw(d,h,p){qe(d,h.index,p.clip)},beforeDraw(d,h,p){qe(d,"beforeDraw",p.clip)},afterDraw(d,h,p){qe(d,"afterDraw",p.clip)},beforeEvent(d,h,p){const _=De.get(d);ui(_,h.event,p)&&(h.changed=!0)},afterDestroy(d){De.delete(d)},getAnnotations(d){const h=De.get(d);return h?h.elements:[]},_getAnnotationElementsAtEventForMode(d,h,p){return T(d,h,p)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:d=>!Ei.includes(d)&&d!=="init",annotations:{_allKeys:!1,_fallback:(d,h)=>`elements.${Ie[Dn(h.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:kn,_fallback:!0},_indexable:kn}},additionalOptionScopes:[""]};function qe(d,h,p){const{ctx:_,chartArea:w}=d,C=De.get(d);p&&(0,E.Y)(_,w);const S=Ki(C.visibleElements,h).sort((R,K)=>R.element.options.z-K.element.options.z);for(const R of S)In(_,w,C,R);p&&(0,E.$)(_)}function Ki(d,h){const p=[];for(const _ of d)if(_.options.drawTime===h&&p.push({element:_,main:!0}),_.elements&&_.elements.length)for(const w of _.elements)w.options.display&&w.options.drawTime===h&&p.push({element:w});return p}function In(d,h,p,_){const w=_.element;_.main?(jn(p,w,"beforeDraw"),w.draw(d,h),jn(p,w,"afterDraw")):w.draw(d,h)}}},ps={};function en(dt){var Z=ps[dt];if(Z!==void 0)return Z.exports;var P=ps[dt]={exports:{}};return Ys[dt](P,P.exports,en),P.exports}(()=>{var dt=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",Z=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",P=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",c=B=>{B&&B.d<1&&(B.d=1,B.forEach(T=>T.r--),B.forEach(T=>T.r--?T.r++:T()))},E=B=>B.map(T=>{if(T!==null&&typeof T=="object"){if(T[dt])return T;if(T.then){var W=[];W.d=0,T.then(ct=>{z[Z]=ct,c(W)},ct=>{z[P]=ct,c(W)});var z={};return z[dt]=ct=>ct(W),z}}var ot={};return ot[dt]=ct=>{},ot[Z]=T,ot});en.a=(B,T,W)=>{var z;W&&((z=[]).d=-1);var ot=new Set,ct=B.exports,q,ft,J,tt=new Promise(($,U)=>{J=U,ft=$});tt[Z]=ct,tt[dt]=$=>(z&&$(z),ot.forEach($),tt.catch(U=>{})),B.exports=tt,T($=>{q=E($);var U,Y=()=>q.map(ht=>{if(ht[P])throw ht[P];return ht[Z]}),j=new Promise(ht=>{U=()=>ht(Y),U.r=0;var wt=gt=>gt!==z&&!ot.has(gt)&&(ot.add(gt),gt&&!gt.d&&(U.r++,gt.push(U)));q.map(gt=>gt[dt](wt))});return U.r?j:Y()},$=>($?J(tt[P]=$):ft(ct),c(z))),z&&z.d<0&&(z.d=0)}})(),en.n=dt=>{var Z=dt&&dt.__esModule?()=>dt.default:()=>dt;return en.d(Z,{a:Z}),Z},en.d=(dt,Z)=>{for(var P in Z)en.o(Z,P)&&!en.o(dt,P)&&Object.defineProperty(dt,P,{enumerable:!0,get:Z[P]})},en.o=(dt,Z)=>Object.prototype.hasOwnProperty.call(dt,Z);var uo=en(7733)})();})();
