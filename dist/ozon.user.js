// ==UserScript==
// @name         Ozon enhancer
// @description  Hide product cards by filter, enhance product page, store price history & rating
// @grant        GM_addStyle
// @grant        GM_deleteValue
// @grant        GM_listValues
// @grant        GM_addValueChangeListener
// @grant        GM_setValue
// @grant        GM_getValue
// @match        https://www.ozon.ru/*
// @namespace    https://github.com/reliable-code/product-list-filters
// @version      3.0.73722683
// @icon         https://www.google.com/s2/favicons?sz=64&domain=ozon.ru
// @author       reliable-code
// ==/UserScript==

(()=>{(()=>{"use strict";var $s={8846:(kt,ot,T)=>{T.d(ot,{NW:()=>K,cu:()=>k,vn:()=>c});function c(){const $=new Date;return $.setHours(0,0,0,0),$.getTime()}function k($){return new Date($).toLocaleDateString()}function K($){const X=new Date;return X.setMonth(X.getMonth()-$),X}},6700:(kt,ot,T)=>{T.d(ot,{Iq:()=>G,Iw:()=>$,Pc:()=>nt,d5:()=>K,x$:()=>ft});var c=T(157),k=T(6001);const K={LAST_RATE_UPDATE:"last-rate-update",REVIEWS_LAST_PRODUCT_ARTICLE:"reviews-last-product-article"};function $(lt,it){const B=X(lt),z=(0,c.vx)(B),Y=L(z);Y.rating=it,Y.updateLastCheckDate(),(0,c.Fg)(B,Y),(0,c.Fg)(K.LAST_RATE_UPDATE,Date.now())}function X(lt){return`product-${lt}`}function L(lt){return lt?k.w.fromObject(lt):new k.w}function j(lt){const it=X(lt);return(0,c.vx)(it)}function G(lt){return j(lt)?.rating??null}function nt(lt){return(0,c.Fg)(K.REVIEWS_LAST_PRODUCT_ARTICLE,lt)}function ft(){return(0,c.vx)(K.REVIEWS_LAST_PRODUCT_ARTICLE)}},6737:(kt,ot,T)=>{T.d(ot,{R:()=>$});var c=T(7154),k=T(5638),K=T(9928);c.Ay.register(k.A);function $(X,L,j,G={}){const nt=(0,K.Sw)(G),ft=document.createElement("canvas");return nt.appendChild(ft),new c.Ay(ft,{type:X,data:L,options:j}),nt}},9928:(kt,ot,T)=>{T.d(ot,{S:()=>X,Sw:()=>ft,Tf:()=>nt,VI:()=>j,d:()=>G,kU:()=>K,n:()=>lt,o5:()=>$});var c=T(4921),k=T(5539);function K(it,B,z){const Y=L(it,"text",B);return Y.value=z,Y}function $(it,B,z,Y,ct,wt){const Tt=L(it,"number",B);return Tt.value=z,Tt.step=Y,Tt.min=ct,Tt.max=wt,Tt}function X(it,B,z){const Y=L(it,"checkbox",B);return Y.checked=z,Y}function L(it={},B=null,z=null){const Y=lt("input",it);return B&&(Y.type=B),z&&(Y.addEventListener("keyup",(0,c.sg)(z,200)),Y.addEventListener("change",(0,c.sg)(z,100))),Y}function j(it={},B=null){return lt("span",it,B)}function G(it={},B=null,z=null){const Y=lt("a",it,B);return z&&(Y.href=z),Y}function nt(it={},B=null,z=null){const Y=lt("button",it,B);return z&&(Y.onclick=z),Y}function ft(it={},B=null){return lt("div",it,B)}function lt(it,B,z=null){if(typeof B!="object"||B===null)throw new TypeError("styles should be an object");const Y=document.createElement(it);return(0,k.ZM)(Y,B),z&&(Y.innerHTML=z),Y}},4792:(kt,ot,T)=>{T.d(ot,{OU:()=>j});var c=T(9928);const k={position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",border:"1px solid #ccc",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",maxWidth:"60%",maxHeight:"75%",zIndex:"1000"},K={margin:"40px 0 30px",padding:"5px 25px 0",overflowY:"auto",maxHeight:"calc(75vh - 75px)"},$={position:"absolute",padding:"0",top:"0px",right:"11px",fontFamily:"system-ui",fontSize:"24px",cursor:"pointer",color:"#000",border:"none",background:"none",opacity:"1"},X={opacity:"0.6"};let L=null;function j(B=null,z=k,Y=K){const ct=nt(B,z,Y);G(ct)}function G(B){return L&&lt(L),L=B,document.addEventListener("click",z=>it(z,B)),B.addEventListener("click",z=>{z.stopPropagation()}),document.body.appendChild(B),B}function nt(B=null,z=k,Y=K){const ct=(0,c.Sw)(z),wt=ft(ct);ct.appendChild(wt);const Tt=(0,c.Sw)(Y);return B&&Tt.appendChild(B),ct.appendChild(Tt),ct}function ft(B,z=$){const Y=(0,c.Tf)(z,"\xD7");Y.addEventListener("click",()=>{lt(B)});const ct=wt=>{Object.assign(Y.style,wt?X:$)};return Y.addEventListener("mouseenter",()=>ct(!0)),Y.addEventListener("mouseleave",()=>ct(!1)),Y}function lt(B){B.remove(),document.removeEventListener("click",z=>it(z,B)),L=null}function it(B,z){z.contains(B.target)||lt(z)}},3793:(kt,ot,T)=>{T.d(ot,{NF:()=>j,NO:()=>nt,R7:()=>ft});var c=T(9928),k=T(4214);const K=["table","thead","tbody","tr","th","td"],{createTable:$,createThead:X,createTbody:L,createTr:j,createTh:G,createTd:nt}=Object.fromEntries(K.map(lt=>[`create${(0,k.ZH)(lt)}`,(it={},B=null)=>(0,c.n)(lt,it,B)]));function ft(lt={},it={},B={},z={}){const Y=$(lt),ct=X(lt),wt=L(lt),Tt=j(it);return z.forEach(_t=>{const Ct=G(B,_t);Tt.appendChild(Ct)}),ct.appendChild(Tt),Y.appendChild(ct),Y.appendChild(wt),Y}},573:(kt,ot,T)=>{T.d(ot,{Fi:()=>K,TR:()=>k,YA:()=>j,Yl:()=>X,fI:()=>$});var c=T(4214);function k(B,z=document){return!!z.querySelector(B)}function K(B,z=document,Y=!1){const ct=z.querySelector(B);return Y&&!ct&&console.log(`No element found for selector: ${B}`),ct}function $(B,z=document,Y=!1){const ct=z.querySelectorAll(B);return Y&&!ct.length&&console.log(`No elements found for selector: ${B}`),ct}function X(B,z,Y){return[...B.querySelectorAll(z)].find(ct=>ct.textContent.trim().includes(Y))}function L(B,z,Y=!1,ct=!1){const wt=K(z,B,!0);return j(wt,Y,ct)}function j(B,z=!1,Y=!1,ct=null){if(!B)return ct===null?(console.log("No element found"),null):ct;const wt=B.innerText;return ft(wt,z,Y)}function G(B,z,Y=!1){const ct=B[z];return j(ct,Y)}function nt(B,z=!1,Y=!1){const ct=B.textContent;return ft(ct,z,Y)}function ft(B,z,Y){return z&&(B=(0,c.zr)(B)),Y&&(B=B.replace(",",".")),+B}function lt(B){return[...B.childNodes].find(z=>z.nodeType===Node.TEXT_NODE)}function it(B){const z=Y=>Y.nodeType===Node.TEXT_NODE&&Y.textContent.trim()!==""?[Y]:[...Y.childNodes].flatMap(z);return z(B)}},5539:(kt,ot,T)=>{T.d(ot,{Bt:()=>$,Bz:()=>B,GY:()=>z,UC:()=>nt,WH:()=>K,ZM:()=>ue,bY:()=>Rt,kl:()=>j,pB:()=>Y,y4:()=>Gt});var c=T(9928),k=T(573);function K(W,q){W.parentNode.insertBefore(q,W.nextSibling)}function $(W){W.style.display="none"}function X(W){it(W),$(W)}function L(W){W.intersectionObserver||runOnceOnIntersection(W,()=>$(W))}function j(W){W.style.display=""}function G(W){const q=lt(W);W.style.display=q}function nt(W,q){q?$(W):j(W)}function ft(W,q){q?L(W):(clearIntersectionObserver(W),j(W))}function lt(W){return it(W),W.defaultDisplay}function it(W){if(W.defaultDisplay)return;const{display:q}=getComputedStyle(W);W.defaultDisplay=q}function B(){return{show:[],hide:[]}}function z(W,q,ut){W?q.hide.push(ut):q.show.push(ut)}function Y(W){W.show.forEach(j),W.hide.forEach($)}function ct(W,q,ut=.3){q?Tt(W,ut):wt(W)}function wt(W){W.style.opacity=""}function Tt(W,q=.3){W.style.opacity=q}function _t(W){W.style.order=""}function Ct(W,q){W.style.order=q}function mt(W,q){W.style.background=q}function Rt(W,q){const ut=(0,k.Fi)(q);if(!ut)return;const It=(0,c.d)();It.href=W,ut.parentNode.append(It),It.append(ut)}function Lt(W,q){const ut=getFirstElement(q);ut&&Gt(W,ut)}function Gt(W,q){const ut=(0,c.d)();ut.href=W,ut.append(...q.childNodes),q.append(ut)}function ee(){const W=getURLQueryParam("scrollTo");if(!W)return;const q=document.getElementById(W);q?q.scrollIntoView():console.log(`Element with ID "${W}" was not found.`)}function qt(W,q="custom-global-style"){let ut=document.getElementById(q);ut||(ut=document.createElement("style"),ut.id=q,ut.type="text/css",document.head.appendChild(ut)),ut.textContent=W}function ue(W,q){Object.assign(W.style,q)}function bt(W){return Object.entries(W).map(([q,ut])=>`${q.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${ut};`).join(" ")}function rt(W){return W?W.split(";").filter(q=>q.trim()!=="").reduce((q,ut)=>{const[It,Pt]=ut.split(":").map(Ht=>Ht.trim()),jt=It.replace(/-([a-z])/g,(Ht,Ut)=>Ut.toUpperCase());return q[jt]=Pt,q},{}):{}}},4921:(kt,ot,T)=>{T.d(ot,{sg:()=>K,xk:()=>c});async function c(L,j,G=null){const nt=L.querySelector(j);return nt?Promise.resolve(nt):new Promise(ft=>{const lt=new MutationObserver(B);lt.observe(L,{childList:!0,subtree:!0});let it=null;G&&(it=setTimeout(()=>{lt.disconnect(),console.log(`No element found for selector: ${j}`),ft(null)},G));function B(){const z=L.querySelector(j);z&&(it&&clearTimeout(it),lt.disconnect(),ft(z))}})}async function k(L,j){return L.querySelector(j)?new Promise(nt=>{const ft=new MutationObserver(lt);ft.observe(L,{childList:!0,subtree:!0});function lt(){L.querySelector(j)||(ft.disconnect(),nt())}}):Promise.resolve()}function K(L,j=250){let G;return(...nt)=>{clearTimeout(G),G=setTimeout(()=>L(...nt),j)}}function $(L,j){const G=new IntersectionObserver(nt=>{nt.forEach(ft=>{ft.isIntersecting&&(j(),X(L))})});L.intersectionObserver=G,G.observe(L)}function X(L){L.intersectionObserver&&(L.intersectionObserver.disconnect(),L.intersectionObserver=null)}},3829:(kt,ot,T)=>{T.d(ot,{Ay:()=>k,JE:()=>$,iG:()=>X,yY:()=>L});var c=T(8355);function k(j,G){return!K(j,G)}function K(j,G){if(!G.value)return!0;const nt=j.toLowerCase(),ft=(0,c.R)(G),lt=[],it=[];return ft.forEach(B=>{if(B.startsWith("!")){const z=B.substring(1);z&&it.push(z)}else lt.push(B)}),lt.every(B=>nt.includes(B))&&it.every(B=>!nt.includes(B))}function $(j,G){return G.value!=null&&j<G.value}function X(j,G){return G.value!=null&&j>G.value}function L(j,G){return G.value&&j!==G.value}},4521:(kt,ot,T)=>{T.d(ot,{z:()=>k});var c=T(3048);function k(K,$=null){return{createGlobalFilter(X,L=null,j=K){return c.V.create(X,L,j)},createSectionFilter(X,L=null,j=K){if(!$)throw new Error("sectionId must be provided to use createSectionFilter.");return c.V.createWithCompositeKey($,X,L,j)}}}},5884:(kt,ot,T)=>{T.d(ot,{Hw:()=>$,Nm:()=>k,nW:()=>K});var c=T(9928);function k(X,L,j={},G={}){const nt=(0,c.Sw)(j,X),ft=(0,c.kU)(G,L.updateValueFromEvent,L.value);return nt.append(ft),nt}function K(X,L,j,G,nt,ft={},lt={}){const it=(0,c.Sw)(ft,X),B=(0,c.o5)(lt,L.updateValueFromEvent,L.value,j,G,nt);return it.append(B),it}function $(X,L,j={},G={}){const nt=(0,c.Sw)(j,X),ft=(0,c.S)(G,L.updateValueFromEvent,L.value);return nt.append(ft),nt}},4402:(kt,ot,T)=>{T.d(ot,{K:()=>X,r:()=>K});var c=T(9928),k=T(7065);function K(L={}){return(0,c.Sw)(L,"|")}function $(L={},j=75,G="customFiltersContainer"){const nt=document.getElementById(G);if(!nt)return console.log(`Element with id="${G}" not found.`),null;const ft=(0,c.Tf)(L,`${k.q}\u041A \u0444\u0438\u043B\u044C\u0442\u0440\u0430\u043C`);return ft.addEventListener("mouseover",()=>{ft.style.filter="brightness(0.9)"}),ft.addEventListener("mouseout",()=>{ft.style.filter="brightness(1)"}),ft.addEventListener("click",()=>{const lt=nt.getBoundingClientRect();window.scrollTo({top:lt.top+window.scrollY-j})}),new IntersectionObserver(([lt])=>{ft.style.display=lt.isIntersecting?"none":"flex"},{threshold:.5}).observe(nt),ft}function X(L,j={}){const G=$(j);G&&L.appendChild(G)}},7065:(kt,ot,T)=>{T.d(ot,{q:()=>c});const c=`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-up">
        <line x1="12" y1="19" x2="12" y2="5"></line>
        <polyline points="5 12 12 5 19 12"></polyline>
    </svg>`},7877:(kt,ot,T)=>{T.d(ot,{E9:()=>k,EY:()=>Y,FR:()=>$,H1:()=>B,HX:()=>K,KN:()=>z,Kw:()=>ct,X0:()=>X,mO:()=>wt,pW:()=>Tt,zB:()=>L});var c=T(5884);function k(_t,Ct={},mt={}){return(0,c.Nm)("\u041F\u043E\u0438\u0441\u043A: ",_t,Ct,mt)}function K(_t,Ct={},mt={},Rt=.1,Lt=3){return(0,c.nW)("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",_t,Rt,Lt,5,Ct,mt)}function $(_t,Ct={},mt={},Rt=.1,Lt=3){return(0,c.nW)("\u041C\u0430\u043A\u0441. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",_t,Rt,Lt,5,Ct,mt)}function X(_t,Ct={},mt={}){return j("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",_t,Ct,mt)}function L(_t,Ct={},mt={}){return j("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",_t,Ct,mt)}function j(_t,Ct,mt={},Rt={}){return(0,c.nW)(_t,Ct,"1","1","999999",mt,Rt)}function G(_t,Ct={},mt={}){return nt("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",_t,Ct,mt)}function nt(_t,Ct,mt={},Rt={}){return createNumberFilterControl(_t,Ct,"5","0","100",mt,Rt)}function ft(_t,Ct={},mt={}){return createNumberFilterControl("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",_t,"5","0","100",Ct,mt)}function lt(_t,Ct,mt={},Rt={},Lt="250"){return(0,c.nW)(_t,Ct,Lt,"0","1000000",mt,Rt)}function it(_t,Ct={},mt={},Rt="25"){return lt("\u041C\u0438\u043D. \u0446\u0435\u043D\u0430: ",_t,Ct,mt,Rt)}function B(_t,Ct={},mt={},Rt="25"){return lt("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",_t,Ct,mt,Rt)}function z(_t,Ct,mt={},Rt={}){return(0,c.nW)(_t,Ct,"1","0","99999",mt,Rt)}function Y(_t,Ct={},mt={}){return(0,c.Hw)("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",_t,Ct,mt)}function ct(_t,Ct={},mt={}){return(0,c.Hw)("\u0421 \u0444\u043E\u0442\u043E: ",_t,Ct,mt)}function wt(_t,Ct={},mt={}){return(0,c.Hw)("\u041F\u0440\u043E\u0433\u0440\u0443\u0437\u043A\u0430: ",_t,Ct,mt)}function Tt(_t,Ct={},mt={}){return(0,c.Hw)("\u0412\u043A\u043B: ",_t,Ct,mt)}},8355:(kt,ot,T)=>{T.d(ot,{R:()=>c,f:()=>k});function c(K){return K.value.toLowerCase().split(",").map($=>$.trim()).filter($=>$!=="")}function k(K){return c(K).filter($=>!$.startsWith("!"))}},5213:(kt,ot,T)=>{T.d(ot,{b:()=>K});var c=T(9928),k=T(573);function K($,X,L=!1,j="customFiltersContainer"){let G=(0,k.Fi)(`#${j}`,$);if(G)if(L)G.remove();else return;G=(0,c.Sw)(),G.id=j,X(G,$)}},3684:(kt,ot,T)=>{T.d(ot,{CR:()=>c,r9:()=>k});function c($,X=1e3){return Math.round(($+Number.EPSILON)*X)/X}function k($){const X=$.slice().sort((j,G)=>j-G),L=Math.floor(X.length/2);return X.length%2!==0?X[L]:(X[L-1]+X[L])/2}function K($,X){return Math.random()*(X-$)+$}},4425:(kt,ot,T)=>{T.d(ot,{g:()=>k});var c=T(8846);class k{constructor($,X=(0,c.vn)()){this.value=$,this.date=X}}},9955:(kt,ot,T)=>{T.d(ot,{G:()=>c});class c{constructor(K,$,X){this.current=K,this.lowest=$,this.highest=X}}},3789:(kt,ot,T)=>{T.d(ot,{K:()=>c});class c{constructor(K=Date.now(),$=null,X=null,L={}){this.lastCheckDate=K,this.lowestPrice=$,this.highestPrice=X,this.priceHistory=L}get lowestPriceValue(){return this.lowestPrice?this.lowestPrice.value:0}get highestPriceValue(){return this.highestPrice?this.highestPrice.value:0}updateLastCheckDate=()=>{this.lastCheckDate=Date.now()};static fromObject(K){const{lastCheckDate:$,lowestPrice:X,highestPrice:L,priceHistory:j}=K;return new c($,X,L,j)}}},6001:(kt,ot,T)=>{T.d(ot,{w:()=>k});var c=T(3789);class k extends c.K{constructor($=Date.now(),X=null,L=null,j={},G=null){super($,X,L,j),this.rating=G}static fromObject($){const{lastCheckDate:X,lowestPrice:L,highestPrice:j,priceHistory:G,rating:nt}=$;return new k(X,L,j,G,nt)}}},2702:(kt,ot,T)=>{const c={APPEND_PRICE_HISTORY_PASSED:"appendPriceHistoryPassed",CURRENT_PRICE:"currentPrice",LOWEST_PRICE:"lowestPrice",GOOD_PRICE:"goodPrice"}},6302:(kt,ot,T)=>{T.d(ot,{b:()=>c});function c(k,K,$=50){const X=Math.abs(k-K)/k*100,L=Math.min(1,Math.max(0,X/$));return`hsla(${k>K?0:90}, 100%, 35%, ${L})`}},3606:(kt,ot,T)=>{T.d(ot,{DP:()=>Gt,kO:()=>ee,yt:()=>ct});var c=T(9928),k=T(2702),K=T(573),$=T(157),X=T(3789),L=T(6001),j=T(9955),G=T(4425),nt=T(8846),ft=T(3793),lt=T(6302),it=T(4792),B=T(3684),z=T(9285),Y=T(6737);async function ct(rt,W,q){const ut=(0,K.YA)(W,!0);if(!ut)return null;const It=`product-${q}`,Pt=(0,$.vx)(It);let jt=wt(Pt);const Ht="lowestPrice",Ut="highestPrice";jt=Tt(jt,Ht,ut,Zt=>ut<=Zt.value,"\u041C\u0438\u043D. \u0446\u0435\u043D\u0430","#d6f5b1",rt),jt=Tt(jt,Ut,ut,Zt=>ut>=Zt.value,"\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430","#fed2ea",rt),jt=Lt(jt,ut),jt.updateLastCheckDate();const{lowestPriceValue:ne,highestPriceValue:re}=jt;return await(0,$.z0)(It,jt),new j.G(ut,ne,re)}function wt(rt){return rt?rt.rating?L.w.fromObject(rt):X.K.fromObject(rt):new X.K}function Tt(rt,W,q,ut,It,Pt,jt){let Ht=rt[W];if(q){if(!Ht||ut(Ht)){const ne=new G.g(q);rt[W]=ne,Ht=ne}}else if(!Ht)return rt;const{priceHistory:Ut}=rt;return _t(It,Ht,Pt,Ut,q,jt),rt}function _t(rt,W,q,ut,It,Pt){const jt=`${rt}: `,Ht={color:"#000",fontSize:"16px",padding:"17px 0px 7px"},Ut=(0,c.Sw)(Ht,jt),ne=(0,z.a)(W.value),re={fontWeight:"bold",padding:"6px 12px",borderRadius:"8px",cursor:"pointer",background:q},Zt=(0,c.VI)(re,ne);Zt.addEventListener("mouseover",()=>{Zt.textContent=(0,nt.cu)(W.date)}),Zt.addEventListener("mouseleave",()=>{Zt.textContent=ne}),Zt.addEventListener("click",ge=>{ge.stopPropagation(),ge.preventDefault(),Ct(ut,It)}),Ut.append(Zt),Pt.parentNode.append(Ut)}function Ct(rt,W){const q={width:"100%",borderCollapse:"collapse"},ut={borderTop:"1px solid #ccc"},It={padding:"8px",textAlign:"left"},Pt={borderTop:"1px solid #ccc"},jt={padding:"8px"},Ht=["\u0414\u0430\u0442\u0430","\u041C\u0438\u043D. \u0446\u0435\u043D\u0430","\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430"],Ut=(0,ft.R7)(q,ut,It,Ht),ne=Ut.tBodies[0],re=[],Zt=[],ge=[],me=[],pe=(0,nt.NW)(6);Object.entries(rt).forEach(([F,{lowest:I,highest:ht}])=>{const U=new Date(+F),et=U.toLocaleDateString();U>=pe&&(re.push(I,ht),Zt.push(et),ge.push(I),me.push(ht));const xt=[et,I,ht],Ft=(0,ft.NF)(Pt);xt.forEach((Nt,Qt)=>{const te=(0,ft.NO)(jt,Nt);Qt!==0&&(te.style.background=(0,lt.b)(Nt,W)),Ft.appendChild(te)}),ne.insertBefore(Ft,ne.firstChild)});const Et=(0,c.Sw)(),Yt=(0,B.r9)(re),$t=mt(W,Yt),ae=Rt(Zt,ge,me,W);Et.appendChild($t),Et.appendChild(ae),Et.appendChild(Ut),(0,it.OU)(Et)}function mt(rt,W){const q={display:"flex",justifyContent:"center",gap:"70px",marginBottom:"10px",fontSize:"20px"},ut=(0,c.VI)({},`\u0422\u0435\u043A\u0443\u0449\u0430\u044F \u0446\u0435\u043D\u0430: <b>${(0,z.a)(rt)}</b>`),It=(0,c.VI)({},`\u041C\u0435\u0434\u0438\u0430\u043D\u0430 \u0437\u0430 6 \u043C\u0435\u0441: <b>${(0,z.a)(W)}</b>`),Pt=(0,c.Sw)(q);return Pt.append(ut,It),Pt}function Rt(rt,W,q,ut){const It="line",Pt={labels:rt,datasets:[{label:"\u041C\u0438\u043D. \u0446\u0435\u043D\u0430",data:W,borderColor:"hsl(90, 100%, 35%)",fill:!1},{label:"\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430",data:q,borderColor:"hsl(0, 100%, 35%)",fill:!1,hidden:!0}]},jt={animation:!1,responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{boxHeight:1,font:{size:15}}},annotation:{annotations:{baseLine:{type:"line",scaleID:"y",value:ut,borderColor:"#4872D8",borderWidth:3}}}}},Ht={width:"calc(60vw - 60px)",height:"45vh",marginBottom:"30px"};return(0,Y.R)(It,Pt,jt,Ht)}function Lt(rt,W){const{priceHistory:q}=rt,ut=(0,nt.vn)(),It=q[ut]||{},Pt=Math.min(It.lowest??W,W),jt=Math.max(It.highest??W,W);return rt.priceHistory[ut]={lowest:Pt,highest:jt},rt}function Gt(rt,W){const q=1+rt/100,ut=W.lowest*q;return W.current<=ut}function ee(rt,W){rt?ue(W):bt(W)}function qt(rt,W,q){const ut=W.getAttribute(ATTRIBUTES.CURRENT_PRICE),It=W.getAttribute(ATTRIBUTES.LOWEST_PRICE),Pt=1+q/100,jt=It*Pt;ut<=jt?(ue(rt),W.setAttribute(ATTRIBUTES.GOOD_PRICE,"")):(bt(rt),W.removeAttribute(ATTRIBUTES.GOOD_PRICE))}function ue(rt){rt.style.border="3px solid rgb(214, 245, 177)",rt.style.borderRadius="14px",rt.style.padding="4px 10px 6px",rt.style.marginBottom="5px",rt.style.width="-webkit-fill-available"}function bt(rt){["border","borderRadius","padding","marginBottom","width"].forEach(q=>rt.style.removeProperty(q))}},9285:(kt,ot,T)=>{T.d(ot,{a:()=>c});function c(k){return`${k.toLocaleString()} \u20BD`}},8200:(kt,ot,T)=>{T.d(ot,{s:()=>c});function c(k){const{target:K}=k,{type:$}=K;switch($){case"text":return`"${K.value}"`;case"number":return K.value;case"checkbox":return K.checked;default:return console.log(`Unknown input type: ${$}`),null}}},157:(kt,ot,T)=>{T.d(ot,{Fg:()=>c,IC:()=>$,vx:()=>K,z0:()=>k});const c=window.GM_setValue,k=window.GM.setValue,K=window.GM_getValue,$=window.GM_addValueChangeListener},1870:(kt,ot,T)=>{T.d(ot,{j:()=>c});class c{constructor(K,$){this.value=K,this.onChange=$}onChangeIfDefined=()=>{this.onChange&&this.onChange()}}},3048:(kt,ot,T)=>{T.d(ot,{V:()=>X});var c=T(1870),k=T(8200),K=T(3976),$=T(157);class X extends c.j{constructor(j,G=null,nt=null){super((0,$.vx)(j,G),nt),this.storageKey=j,this.defaultValue=G}static create(j,G=null,nt=null){return new X(j,G,nt)}static createWithCompositeKey(j,G,nt=null,ft=null){const lt=`${j}-${G}`;return new X(lt,nt,ft)}updateValueFromEvent=j=>{const G=(0,k.s)(j),nt=(0,K.$)(G);this.updateValue(nt)};updateValue(j,G=!0){this.value!==j&&((0,$.Fg)(this.storageKey,j),this.value=j,G&&this.onChangeIfDefined())}clearValue(j=!1){this.updateValue(null,j)}resetValue(j=!1){this.updateValue(this.defaultValue,j)}}},3976:(kt,ot,T)=>{T.d(ot,{$:()=>c});function c(k){return k===""?null:JSON.parse(k)}},4214:(kt,ot,T)=>{T.d(ot,{ZH:()=>$,zr:()=>k});function c(X){return X.replace(/\D/g,"")}function k(X){return X.replace(/[^\d.,-]/g,"")}function K(X){return X.replace(/\s/g,"")}function $(X){return X.charAt(0).toUpperCase()+X.slice(1)}},5406:(kt,ot,T)=>{T.d(ot,{$F:()=>L,C$:()=>K,Fc:()=>c,KD:()=>X,a0:()=>lt,y_:()=>j,z2:()=>ft});function c(it,B="common",z=!1){const{pathname:Y}=window.location;return k(Y,it,B,z)}function k(it,B,z,Y=!1){const wt=it.split("/")[B]||z;return Y&&console.log(`Pathname element: ${wt}`),wt}function K(it,B="common",z=!1){const Y=c(it,"",z);return $(Y,B,z)}function $(it,B,z){if(!it)return B;const Y=it.split("-").at(-1);return z&&console.log(`Pathname element ending: ${Y}`),Y}function X(it,B,z="common",Y=!1){const ct=k(it,B,"",Y);return $(ct,z,Y)}function L(it){return new URLSearchParams(window.location.search).get(it)}function j(it){return it.split("?")[0]}function G(it){return window.location.pathname.includes(it)}function nt(it){return it.some(B=>G(B))}function ft(it){return window.location.pathname.split("/").some(z=>z===it)}function lt(it){try{const B=new URL(window.location.href);Object.entries(it).forEach(([z,Y])=>{B.searchParams.set(z,Y)}),window.location.href=B.toString()}catch(B){console.error("Failed to redirect:",B)}}},6648:(kt,ot,T)=>{T.d(ot,{G:()=>nt});var c=T(157);const k=window.GM_listValues;function K(B,z,Y=!1){(0,c.vx)("dbVersion")!==z&&(B(),!Y&&(0,c.Fg)("dbVersion",z))}function $(B,z=!0){const Y=k();L(Y,B,z)}function X(B,z,Y=!0){const wt=k().filter(B);L(wt,z,Y)}function L(B,z,Y){let ct=0;B.forEach(wt=>{const Tt=(0,c.vx)(wt);Y&&console.log(`${wt}: ${Tt}`),z(wt,Tt),ct+=1}),Y&&console.log(`Total entries processed: ${ct}`)}function j(B,z=!1){X(B,ct=>{z||window.GM_deleteValue(ct)})}const G=6;function nt(){K(ft,G,!1)}function ft(){X(Y=>Y.startsWith("product-"),(Y,ct)=>{lt(Y,"lastCheckDate",ct),it(Y,"lowestPrice",ct),it(Y,"highestPrice",ct)},!0)}function lt(B,z,Y){const ct=Y[z];if(ct){const[wt,Tt,_t]=ct.split(".").map(Number),mt=new Date(_t,Tt-1,wt).getTime();Y[z]=mt,(0,c.Fg)(B,Y)}}function it(B,z,Y){const ct=Y[z];if(ct){const wt=ct.date,[Tt,_t,Ct]=wt.split(".").map(Number),Rt=new Date(Ct,_t-1,Tt).getTime();ct.date=Rt,Y[z]=ct,(0,c.Fg)(B,Y)}}},4350:(kt,ot,T)=>{T.a(kt,async(c,k)=>{try{let Tt=function(){return wt.classList.contains("vsc-initialized")},_t=function(){const Lt=new MutationObserver(async()=>{Tt()&&(Lt.disconnect(),await ct())});Lt.observe(wt,{attributes:!0,attributeFilter:["class"]})},mt=function(){if((0,it.Fi)(B.Z.HEADER).querySelectorAll("a").length>=5){setTimeout(Rt,0);return}(0,z.bY)("/my/main",B.Z.PROFILE_LOGO),(0,z.bY)("/my/orderlist",B.Z.ORDER_INFO),(0,z.bY)("/my/favorites?avail=inStock",B.Z.FAVORITES),(0,z.bY)("/my/cart",B.Z.HEADER_ICON)};var K=T(6648),$=T(6635),X=T(4921),L=T(9162),j=T(5547),G=T(8644),nt=T(3479),ft=T(6272),lt=T(5406),it=T(573),B=T(516),z=T(5539);(0,K.G)(),(0,$.au)();let Y=Promise.resolve();async function ct(){Y=Y.then(Ct)}const{body:wt}=document;Tt()?await ct():_t();async function Ct(){if((0,lt.z2)("gocheckout")){(0,ft.q)();return}if((0,lt.z2)("cart")){(0,ft.g)();return}mt();const Lt=(0,it.Fi)(B.Z.PAGINATOR_CONTENT);if(Lt){await(0,j.P)(Lt);return}if((0,lt.z2)("reviews")){await(0,nt.N)();return}if((0,lt.z2)("product")){await(0,G.K)();return}(0,lt.z2)("favorites")&&await(0,L.L)()}async function Rt(){const Lt=await(0,X.xk)(document,B.Z.FAVORITES,3e3);Lt&&(Lt.href=`${Lt.getAttribute("href")}?avail=inStock`)}k()}catch(Y){k(Y)}},1)},6272:(kt,ot,T)=>{T.d(ot,{g:()=>nt,q:()=>G});var c=T(573);const k={AUTO_CHECKOUT:"autoCheckout",AUTO_SKIP_CART:"autoSkipCart",AUTO_RELOAD_CHECKOUT:"autoReloadCheckout",AUTO_CHECKOUT_PROD:"autoCheckoutProd",AUTO_CHECKOUT_GOOD_PRICE:"autoCheckoutGoodPrice"},K=()=>j(k.AUTO_CHECKOUT),$=()=>j(k.AUTO_SKIP_CART),X=()=>j(k.AUTO_RELOAD_CHECKOUT),L=()=>j(k.AUTO_CHECKOUT_PROD);function j(ct){return ft(ct)==="1"}function G(){K()&&B()}function nt(){if($()){lt();return}K()&&it()}function ft(ct,wt="0"){const Tt=localStorage.getItem(ct);return Tt!==null?Tt:(localStorage.setItem(ct,wt),wt)}function lt(){const ct=z(),wt=Y(ct);wt.hasAttribute("disabled")?setTimeout(()=>window.location.reload(),1500):wt.click()}function it(){const ct=localStorage.getItem(k.AUTO_CHECKOUT_GOOD_PRICE);if(ct!==null){console.log("autoCheckoutGoodPrice: ",ct);return}if(confirm("\u0423\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C \u0446\u0435\u043D\u0443 \u0434\u043B\u044F \u0430\u0432\u0442\u043E\u043F\u043E\u043A\u0443\u043F\u043A\u0438?")){const wt=prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u0443\u044E \u0446\u0435\u043D\u0443:");localStorage.setItem(k.AUTO_CHECKOUT_GOOD_PRICE,wt)}}function B(){const ct=z(),wt=Y(ct);if(wt.hasAttribute("disabled")&&X()){setTimeout(()=>window.location.reload(),1500);return}const Tt=ct.children[1].lastElementChild.children[1],_t=(0,c.YA)(Tt,!0),Ct=localStorage.getItem(k.AUTO_CHECKOUT_GOOD_PRICE);if(Ct===null){console.log("No autoCheckoutGoodPrice in localStorage");return}const mt=+Ct;_t<=mt?(L()?(wt.click(),console.log("\u0420\u0435\u0430\u043B\u044C\u043D\u0430\u044F \u043F\u043E\u043A\u0443\u043F\u043A\u0430")):console.log("\u0422\u0435\u0441\u0442\u043E\u0432\u0430\u044F \u043F\u043E\u043A\u0443\u043F\u043A\u0430"),console.log("autoCheckoutGoodPrice: ",mt),console.log("price: ",_t)):(console.log("autoCheckoutGoodPrice: ",mt),console.log("price: ",_t),console.log("\u0414\u043E\u0440\u043E\u0433\u043E!"),X()&&setTimeout(()=>window.location.reload(),1500))}function z(){return(0,c.Fi)('[data-widget="total"]').children[0]}function Y(ct){return(0,c.Fi)("button",ct)}},5969:(kt,ot,T)=>{T.d(ot,{jl:()=>K,pu:()=>c});const c=`
    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M8 14V4M8 14L4 14V4.00002L8 4M8 14L13.1956 20.0615C13.6886 20.6367 14.4642 20.884 15.1992 20.7002L15.2467 20.6883C16.5885 20.3529 17.1929 18.7894 16.4258 17.6387L14 14H18.5604C19.8225 14 20.7691 12.8454 20.5216 11.6078L19.3216 5.60779C19.1346 4.67294 18.3138 4.00002 17.3604 4.00002L8 4" 
            stroke="#001a3499" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`,k=null,K=`
    <svg fill="#001a3499" width="16" height="16" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
        <path d="M417.84,448a15.94,15.94,0,0,1-11.35-4.72L40.65,75.26A16,16,0,0,1,63.35,52.7l365.83,368A16,16,0,0,1,417.84,448Z"/>
        <path d="M364.92,80c-48.09,0-80,29.55-96.92,51-16.88-21.48-48.83-51-96.92-51a107.37,107.37,0,0,0-31,4.55L168,112c22.26,0,45.81,9,63.94,26.67a123,123,0,0,1,21.75,28.47,16,16,0,0,0,28.6,0,123,123,0,0,1,21.77-28.51C322.19,121,342.66,112,364.92,112c43.15,0,78.62,36.33,79.07,81,.54,53.69-22.75,99.55-57.38,139.52l22.63,22.77c3-3.44,5.7-6.64,8.14-9.6,40-48.75,59.15-98.8,58.61-153C475.37,130.52,425.54,80,364.92,80Z"/>
        <path d="M268,432C180.38,372.51,91,297.6,92,193a83.69,83.69,0,0,1,2.24-18.39L69,149.14a115.1,115.1,0,0,0-9,43.49c-.54,54.22,18.63,104.27,58.61,153,18.77,22.87,52.8,59.45,131.39,112.8a31.84,31.84,0,0,0,36,0c20.35-13.81,37.7-26.5,52.58-38.11l-22.66-22.81C300.25,409.6,284.09,421.05,268,432Z"/>
    </svg>`},6635:(kt,ot,T)=>{T.d(ot,{U3:()=>lt,ZB:()=>Ct,au:()=>_t,d1:()=>ct,d4:()=>Y,eB:()=>B,jd:()=>ft,ki:()=>z,kv:()=>it,xf:()=>Tt});var c=T(5969),k=T(5406),K=T(9928),$=T(573),X=T(2517),L=T(5309),j=T(4402),G=T(5539);function nt(mt){const Rt=mt.getAttribute("href");return ft(Rt)}function ft(mt){return(0,k.KD)(mt,2)}function lt(){return(0,k.C$)(2,"unknown")}function it(mt,Rt=!0){const Lt=(0,K.d)(X.r.DISLIKE_BUTTON,c.jl);if(Lt.addEventListener("click",()=>{window.confirm("\u0412\u044B\u0441\u0442\u0430\u0432\u0438\u0442\u044C \u043D\u0438\u0437\u043A\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043D\u0433?")&&mt()}),Rt){const Gt=(0,K.VI)({paddingLeft:"8px"},"\u0414\u0438\u0437\u043B\u0430\u0439\u043A");Lt.append(Gt)}return Lt}function B(mt){z(),(0,G.ZM)(mt,X.r.FILTERS_CONTAINER)}function z(){window.GM_addStyle(`
        input[type=number]::-webkit-inner-spin-button,
        input[type=number]::-webkit-outer-spin-button {
            -webkit-appearance: auto;
        }
    `)}function Y(){return(0,$.Fi)(L.Z.PRODUCT_CARDS_WRAP)}function ct(mt,Rt){mt.forEach(Lt=>{wt(Lt,Rt)})}function wt(mt,Rt){mt.parentNode!==Rt&&Rt.appendChild(mt)}function Tt(mt,Rt){const Lt=`${Rt}?scrollTo=comments`;(0,G.y4)(Lt,mt)}function _t(){window.GM_addStyle(`
        [data-widget="bannerCarousel"],
        [data-widget="bigPromoPDP"],
        [data-widget="blackFridayStatus"],
        [data-widget="cellList"],
        [data-widget="feedbackTile"],
        [data-widget="skuGrid"],
        [data-widget="skuShelfGoods"],
        [data-widget="tagList"],
        [data-widget="webInstallmentPurchase"],
        [data-widget="webOneClickButton"] {
            display: none !important;
        }
    `)}function Ct(mt=document.body){(0,j.K)(mt,X.r.SCROLL_TO_FILTERS_BUTTON)}},5309:(kt,ot,T)=>{T.d(ot,{Z:()=>c});const c={SEARCH_RESULTS_SORT:'[data-widget="searchResultsSort"]',PRODUCT_CARDS:".widget-search-result-container > div > div.tile-root",PRODUCT_CARD_NAME_WRAP:".tsBody500Medium",PRODUCT_CARD_PRICE_WRAP:".tsHeadline500Medium",PRODUCT_CARD_RATING_CONTAINER:".tsBodyMBold",PRODUCT_CARD_REVIEWS_WRAP:":scope > span:nth-of-type(2)",PRODUCT_CARD_RATING_WRAP:":scope > span:nth-of-type(1) > span:nth-of-type(1)",PRODUCT_CARDS_WRAP:".widget-search-result-container > :first-child"}},2517:(kt,ot,T)=>{T.d(ot,{F:()=>c,r:()=>k});const c={INPUT:{marginLeft:"5px",border:"2px solid #b3bcc5",borderRadius:"6px",padding:"6px 10px"},FILTERS_CONTAINER:{display:"flex",flexFlow:"wrap",gap:"15px",paddingBottom:"14px"}},k={FILTERS_CONTAINER:{...c.FILTERS_CONTAINER,minWidth:"1250px"},NUMBER_INPUT:{...c.INPUT,width:"75px"},TEXT_INPUT:{...c.INPUT,width:"180px"},CONTROL:{display:"flex",alignItems:"center"},CHECKBOX_INPUT:{marginLeft:"5px",width:"25px",height:"25px"},DISLIKE_BUTTON:{display:"inline-flex",alignItems:"center",marginLeft:"auto",color:"rgba(0, 26, 52, 0.6)",cursor:"pointer"},SCROLL_TO_FILTERS_BUTTON:{position:"fixed",bottom:"20px",right:"20px",padding:"10px 20px 10px 14px",backgroundColor:"#005bff",color:"white",border:"none",borderRadius:"8px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.2)",cursor:"pointer",fontSize:"14px",transition:"background-color 0.3s",display:"none",gap:"4px"}}},9162:(kt,ot,T)=>{T.d(ot,{L:()=>Rt});var c=T(4921),k=T(6635),K=T(5213),$=T(3829),X=T(5884),L=T(5539),j=T(573),G=T(3606),nt=T(7877),ft=T(5309),lt=T(2517);const it={PAGINATOR:'[data-widget="paginator"]',ADDITIONAL_INFO:".tsBodyControl400Small",PRODUCT_CARD_REVIEWS_WRAP:".tsBodyMBold > span:nth-of-type(2)"};var B=T(4521),z=T(5406);const{createGlobalFilter:Y}=(0,B.z)(Gt),ct=()=>Gt(!0),wt=Y("favorites-name-filter"),Tt=Y("best-price-filter",!1),_t=Y("price-tolerance-percent",3,ct),Ct=Y("favorites-filter-enabled",!0),mt={firstProductCardsWrap:null,productCardsCache:new WeakMap};async function Rt(){const bt=await(0,c.xk)(document,ft.Z.SEARCH_RESULTS_SORT);(0,K.b)(bt,Lt),await Gt();const rt=new MutationObserver((0,c.sg)(Gt)),W=(0,j.Fi)(it.PAGINATOR);rt.observe(W,{childList:!0,subtree:!0})}function Lt(bt,rt){(0,k.eB)(bt);const W=(0,nt.E9)(wt,lt.r.CONTROL,lt.r.TEXT_INPUT),q=(0,X.Hw)("\u041B\u0443\u0447\u0448\u0430\u044F \u0446\u0435\u043D\u0430: ",Tt,lt.r.CONTROL,lt.r.CHECKBOX_INPUT),ut=(0,X.nW)("\u0414\u043E\u043F\u0443\u0441\u043A \u0446\u0435\u043D\u044B, %: ",_t,1,0,100,lt.r.CONTROL,lt.r.NUMBER_INPUT),It=(0,nt.pW)(Ct,lt.r.CONTROL,lt.r.CHECKBOX_INPUT);bt.append(W,q,ut,It),rt.append(bt),(0,k.ZB)(rt)}async function Gt(bt=!1){const rt=[...(0,j.fI)(ft.Z.PRODUCT_CARDS)];mt.firstProductCardsWrap??=(0,k.d4)(),(0,k.d1)(rt,mt.firstProductCardsWrap);const W=(0,L.Bz)();await Promise.all(rt.map(async q=>{const ut=await ee(q,bt);(0,L.GY)(ut,W,q)})),(0,L.pB)(W)}async function ee(bt,rt){if(!Ct.value)return!1;let W=mt.productCardsCache.get(bt);if(W)rt&&W.priceData&&(W.isGoodPrice=(0,G.DP)(_t.value,W.priceData),(0,G.kO)(W.isGoodPrice,W.priceInfoContainer));else{const ut=(0,j.Fi)("a",bt);if(!ut)return!0;const It=(0,z.y_)(ut.getAttribute("href")),Pt=(0,k.jd)(It),jt=(0,j.Fi)(ft.Z.PRODUCT_CARD_NAME_WRAP,bt),Ht=(0,j.Fi)(ft.Z.PRODUCT_CARD_PRICE_WRAP,bt);if(!jt||!Ht)return!0;const Ut=Ht.parentNode,ne=Ut.parentNode,re=jt.innerText;jt.title=re,W={productArticle:Pt,priceInfoWrap:Ut,priceInfoContainer:ne,name:re},mt.productCardsCache.set(bt,W),await qt(bt,W);const Zt=(0,j.Fi)(it.PRODUCT_CARD_REVIEWS_WRAP,bt);Zt&&(0,k.xf)(Zt,It)}const q=Tt.value?!W.isGoodPrice:!1;return(0,$.Ay)(W.name,wt)||q}async function qt(bt,rt){(0,j.Fi)(it.ADDITIONAL_INFO,bt)?.innerText!=="\u041D\u0435\u0442 \u0432 \u043D\u0430\u043B\u0438\u0447\u0438\u0438"&&await ue(rt)}async function ue(bt){const{productArticle:rt,priceInfoWrap:W,priceInfoContainer:q}=bt,ut=(0,j.Fi)("span",W);bt.priceData=await(0,G.yt)(W,ut,rt),bt.priceData&&(q.style.display="block",bt.isGoodPrice=(0,G.DP)(_t.value,bt.priceData),(0,G.kO)(bt.isGoodPrice,q))}},5547:(kt,ot,T)=>{T.d(ot,{P:()=>q});var c=T(157),k=T(4921),K=T(5213),$=T(6635),X=T(5406),L=T(3829),j=T(5884),G=T(5539),nt=T(573),ft=T(7877);function lt(Et){let ae=2166136261;for(let F=0;F<Et.length;F+=1){const I=Et.charCodeAt(F);ae^=I,ae=Math.imul(ae,16777619)}return ae>>>0}function it(Et){return lt(Et).toString(16).padStart(8,"0")}function B(Et,Yt="common"){return Et?it(Et):Yt}var z=T(2517),Y=T(5309),ct=T(4521),wt=T(6700);const Tt=W(),{createGlobalFilter:_t,createSectionFilter:Ct}=(0,ct.z)(It,Tt),mt=Ct("name-filter"),Rt=Ct("min-reviews-filter"),Lt=Ct("max-reviews-filter"),Gt=Ct("min-rating-filter",4.8),ee=Ct("no-rating-filter",!1),qt=Ct("max-price-filter"),ue=Ct("filter-enabled",!0),bt=_t("name-lines-number",2),rt={firstProductCardsWrap:null,productCardsCache:new WeakMap};function W(){const Et=(0,X.z2)("search")?(0,X.$F)("text"):(0,X.Fc)(2,"");return B(Et)}async function q(Et){const Yt=await(0,k.xk)(document,Y.Z.SEARCH_RESULTS_SORT);(0,K.b)(Yt,ut),(0,c.IC)(wt.d5.LAST_RATE_UPDATE,()=>It(!0)),It(),new MutationObserver((0,k.sg)(()=>It(),150)).observe(Et,{childList:!0,subtree:!0})}function ut(Et,Yt){(0,$.eB)(Et),(0,G.ZM)(Yt,{position:"relative"});const $t=(0,ft.E9)(mt,z.r.CONTROL,z.r.TEXT_INPUT),ae=(0,ft.X0)(Rt,z.r.CONTROL,z.r.NUMBER_INPUT),F=(0,ft.zB)(Lt,z.r.CONTROL,z.r.NUMBER_INPUT),I=(0,ft.HX)(Gt,z.r.CONTROL,z.r.NUMBER_INPUT),ht=(0,ft.EY)(ee,z.r.CONTROL,z.r.CHECKBOX_INPUT),U=(0,ft.H1)(qt,z.r.CONTROL,z.r.NUMBER_INPUT),et=(0,ft.pW)(ue,z.r.CONTROL,z.r.CHECKBOX_INPUT),xt=(0,j.nW)("\u0421\u0442\u0440\u043E\u043A: ",bt,1,1,10,z.r.CONTROL,z.r.NUMBER_INPUT);Et.append($t,ae,F,I,ht,U,et,xt),Yt.append(Et),(0,$.ZB)(Yt)}function It(Et=!1){const Yt=(0,nt.fI)(Y.Z.PRODUCT_CARDS);rt.firstProductCardsWrap??=(0,$.d4)(),(0,$.d1)(Yt,rt.firstProductCardsWrap);const $t=(0,G.Bz)();Yt.forEach(ae=>{const F=Pt(ae,Et);(0,G.GY)(F,$t,ae)}),(0,G.pB)($t)}function Pt(Et,Yt){if(!ue.value)return!1;let $t=rt.productCardsCache.get(Et);if($t)Yt&&!$t.storedRating&&pe($t);else{const ae=(0,nt.Fi)("a",Et);if(!ae)return!0;const F=(0,X.y_)(ae.getAttribute("href")),I=(0,$.jd)(F),ht=(0,nt.Fi)(Y.Z.PRODUCT_CARD_NAME_WRAP,Et),U=(0,nt.Fi)(Y.Z.PRODUCT_CARD_PRICE_WRAP,Et);if(!ht||!U)return!0;const et=(0,nt.Fi)(Y.Z.PRODUCT_CARD_RATING_CONTAINER,Et),{ratingWrap:xt,reviewsCount:Ft,rating:Nt,storedRating:Qt,noRatingContainer:te}=jt(et,F,I),ce=ht.innerText;ht.title=ce;const he=(0,nt.YA)(U,!0);$t={productArticle:I,nameWrap:ht,name:ce,price:he,ratingWrap:xt,reviewsCount:Ft,rating:Nt,storedRating:Qt,noRatingContainer:te},rt.productCardsCache.set(Et,$t)}return ge($t.nameWrap),me($t)?!0:(0,L.Ay)($t.name,mt)||(0,L.JE)($t.reviewsCount,Rt)||(0,L.iG)($t.reviewsCount,Lt)||(0,L.JE)($t.rating,Gt)||(0,L.iG)($t.price,qt)}function jt(Et,Yt,$t){if(!Et)return{noRatingContainer:!0};const ae=(0,wt.Iq)($t),F=(0,nt.Fi)(Y.Z.PRODUCT_CARD_REVIEWS_WRAP,Et,!0),I=(0,nt.Fi)(Y.Z.PRODUCT_CARD_RATING_WRAP,Et,!0),ht=(0,nt.YA)(F,!0),U=Ut(I,ae);return(0,$.xf)(F,Yt),re(Et,$t),{ratingWrap:I,reviewsCount:ht,rating:U,storedRating:ae,noRatingContainer:!1}}function Ht(){return Rt.value||Lt.value||Gt.value}function Ut(Et,Yt){return Yt?(ne(Et,Yt),Yt):(0,nt.YA)(Et)}function ne(Et,Yt){Et.textContent=Yt.toString().padEnd(5)}function re(Et,Yt){Et.style.display="flex",Et.style.width="100%";const $t=(0,$.kv)(()=>Zt(Yt),!1);Et.append($t)}async function Zt(Et){(0,wt.Iw)(Et,1),It()}function ge(Et){Et.parentNode.style.webkitLineClamp=bt.value}function me(Et){return Et.noRatingContainer&&Ht()&&!ee.value}function pe(Et){const Yt=(0,wt.Iq)(Et.productArticle);Yt&&(Et.storedRating=Yt,Et.rating=Yt,ne(Et.ratingWrap,Yt))}},8644:(kt,ot,T)=>{T.d(ot,{K:()=>z});var c=T(4921),k=T(6635),K=T(5969),$=T(9928),X=T(5539),L=T(573),j=T(3606);const G={PRODUCT_REVIEWS_WRAP:'[data-widget="webSingleProductScore"]',PRICE_CONTAINER:'[data-widget="webPrice"]',WEB_GALLERY:'[data-widget="webGallery"]',WEB_PRODUCT_HEADING:'[data-widget="webProductHeading"]',PRODUCT_REVIEWS_INFO:".tsBodyControl500Medium",REVIEWS_CONTAINER:'[data-widget="webReviewTabs"]',REVIEWS_CONTAINER_COLUMNS:'[data-widget="column"]'},nt={BAD_REVIEWS_LINK:{alignItems:"center",display:"inline-flex",color:"rgba(0, 26, 52, 0.6)"},BAD_REVIEWS_LINK_SPAN:{paddingLeft:"8px"}};var ft=T(3479),lt=T(3684),it=T(6700),B=T(5406);async function z(){const bt=(0,B.$F)("scrollTo")==="comments";await Promise.all([Y(),ct(),Tt(),_t(),Gt(),qt(),(0,ft.N)(bt,!0)])}async function Y(){const bt=await(0,c.xk)(document,G.PRICE_CONTAINER);if(!bt)return;const rt=(0,k.U3)(),W=(0,L.Fi)("span",bt);await(0,j.yt)(bt,W,rt)}async function ct(){const bt=await(0,c.xk)(document,G.WEB_GALLERY);if(!bt)return;const rt=new MutationObserver((0,c.sg)(()=>{wt(bt),rt.disconnect()}));rt.observe(bt,{childList:!0,subtree:!0})}function wt(bt){const rt=(0,L.Fi)('[data-index="0"]',bt);if(!rt)return;const W=(0,L.Fi)('[data-index="1"]',bt);!W||[...W.classList].every(ut=>rt.classList.contains(ut))||W.click()}async function Tt(){const bt=await(0,c.xk)(document,G.WEB_PRODUCT_HEADING);if(!bt)return;const rt=(0,L.Fi)("h1",bt);rt&&(rt.style.maxHeight="90px")}async function _t(){const bt=await(0,c.xk)(document,G.PRODUCT_REVIEWS_WRAP),rt=(0,$.Sw)();rt.classList=Ct(bt);const W=mt(bt),q=(0,k.kv)(()=>Rt(W));rt.append(q),(0,X.WH)(bt.parentNode,rt)}function Ct(bt){return(0,L.Fi)(G.PRODUCT_REVIEWS_INFO,bt).classList}function mt(bt){return bt.children[0].children[1]}function Rt(bt){const rt=(0,k.U3)();(0,it.Iw)(rt,1),Lt(bt,1)}function Lt(bt,rt){const W=" \u2022 ",q=bt.textContent.split(W),ut=q[1]||q[0];bt.textContent=[rt,ut].join(W)}async function Gt(){const bt=await(0,c.xk)(document,G.PRODUCT_REVIEWS_WRAP),rt=(0,L.Fi)("a",bt);if(!rt)return;const W=(0,$.Sw)();W.classList=Ct(bt);const q=(0,$.d)(nt.BAD_REVIEWS_LINK,K.pu,`${rt.href}?sort=score_asc`);q.addEventListener("click",It=>{It.preventDefault(),ee()});const ut=(0,$.VI)(nt.BAD_REVIEWS_LINK_SPAN,"\u041F\u043B\u043E\u0445\u0438\u0435 \u043E\u0442\u0437\u044B\u0432\u044B");q.append(ut),W.append(q),(0,X.WH)(bt.parentNode,W)}function ee(){(0,B.a0)({sort:"score_asc",scrollTo:"comments"})}async function qt(){const bt=await(0,c.xk)(document,G.PRODUCT_REVIEWS_WRAP),rt=mt(bt),W=(0,k.U3)(),q=(0,it.Iq)(W);q&&Lt(rt,q);try{const ut=await(0,c.xk)(document,G.REVIEWS_CONTAINER),Pt=(0,L.fI)(G.REVIEWS_CONTAINER_COLUMNS,ut)[2],Ht=(await(0,c.xk)(Pt,":scope > div:not([data-widget])"))?.children[0];if(!Ht)return;const Ut=ue(Ht);if(!Ut)return;(0,it.Iw)(W,Ut),Lt(rt,Ut)}catch(ut){console.error("Error while appending rating value:",ut)}}function ue(bt){const rt=bt?.children?.[2]?.children;if(!rt)return null;let W=0,q=0;if([...rt].forEach(It=>{const Pt=It.children[0],jt=(0,L.YA)(Pt,!0),Ht=It.children[2],Ut=(0,L.YA)(Ht),ne=jt*Ut;W+=Ut,q+=ne}),!W)return null;const ut=q/W;return(0,lt.CR)(ut)}},3479:(kt,ot,T)=>{T.d(ot,{N:()=>jt});var c=T(4921),k=T(5213),K=T(573),$=T(7877),X=T(2517);const L={FILTERS_CONTAINER:X.F.FILTERS_CONTAINER,FILTERS_CONTAINER_WRAP:{display:"grid",gap:"10px",paddingBottom:"0"},NUMBER_INPUT:{...X.F.INPUT,width:"78px"},TEXT_INPUT:{...X.F.INPUT,width:"330px"},CONTROL:X.r.CONTROL,CHECKBOX_INPUT:X.r.CHECKBOX_INPUT},j={COMMENTS:"#comments",CONTROLS_CONTAINER:'[data-widget="webListReviews"] > div',REVIEWS_LIST:'[data-widget="webListReviews"]',REVIEWS:'[data-widget="webListReviews"] > div > div > div[data-review-uuid]',REVIEW_HEADER:":scope > div:nth-of-type(1) > div:nth-of-type(1)",REVIEW_CONTENT:":scope > div:nth-of-type(1) > div:nth-of-type(2)",REVIEW_FOOTER:":scope > div:nth-of-type(1) > div:nth-of-type(3)",PRODUCT_VARIATION_WRAP:":scope > div:nth-of-type(1) a",REVIEW_SURVEY_WRAP:":scope > div:nth-of-type(1) > div > div:nth-of-type(2)",REVIEW_TEXT_WRAP:":scope > div:nth-of-type(2)",STICKY_REVIEWS_INFO:'[data-widget="webStickyProducts"] [data-widget="webReviewProductScore"] .tsBodyControl400Small',UNNECESSARY_ELEMENTS:'[data-widget="separator"], [data-widget="skuGrid"]',PAGINATOR:'[data-widget="paginator"]',FILTERS_CONTAINER:"#customFiltersContainer",WEB_REVIEW_TABS:'[data-widget="webReviewTabs"]'};var G=T(4521),nt=T(5539),ft=T(3829);const lt={READ_MORE_CLICK_PASSED:"readMoreClickPassed"};var it=T(6635);function B(U,et){U.forEach(xt=>z(et,xt))}function z(U,et){if(!et)return;const xt=new RegExp(`(${et})`,"gi"),Ft=document.createTreeWalker(U,NodeFilter.SHOW_TEXT,null);let Nt=Ft.nextNode();const Qt=[];for(;Nt;){const{textContent:te}=Nt;if(xt.test(te)){const ce=document.createDocumentFragment();let he=0;te.replace(xt,(Oe,Le,Ee)=>{Ee>he&&ce.appendChild(document.createTextNode(te.slice(he,Ee)));const Ie=document.createElement("span");Ie.className="highlightedSubstring",Ie.style.backgroundColor="yellow",Ie.textContent=Oe,ce.appendChild(Ie),he=Ee+Oe.length}),he<te.length&&ce.appendChild(document.createTextNode(te.slice(he))),Qt.push({node:Nt,fragment:ce})}Nt=Ft.nextNode()}Qt.forEach(({node:te,fragment:ce})=>{te.parentNode.replaceChild(ce,te)})}function Y(U){(0,K.fI)(".highlightedSubstring",U).forEach(xt=>{const{parentNode:Ft}=xt;xt.replaceWith(xt.textContent),Ft.normalize()})}var ct=T(8355);function wt(U,et){const xt=(0,ct.f)(U);B(xt,et)}function Tt(U,et){const xt=(0,ct.f)(U);et.forEach(Ft=>B(xt,Ft))}var _t=T(5884),Ct=T(4402),mt=T(6700),Rt=T(3684);function Lt(U){let et=0,xt=0;U.forEach(Nt=>{et+=Nt.rating,xt+=1});const Ft=xt>0?et/xt:0;return(0,Rt.CR)(Ft)}const{createGlobalFilter:Gt}=(0,G.z)(me),ee=Gt("reviews-variation-filter"),qt=Gt("reviews-text-filter"),ue=Gt("reviews-min-likes-filter"),bt=Gt("reviews-max-dislikes-filter"),rt=Gt("reviews-min-rating-filter"),W=Gt("reviews-max-rating-filter"),q=Gt("reviews-has-photo-filter",!1),ut=Gt("reviews-wait-full-load",!1),It=Gt("reviews-filter-enabled",!0),Pt={isProductPage:!1,reviewsContainer:null,stickyReviewsInfo:null,stickyReviewsInfoDefaultText:null,totalReviewCount:null,isFullLoadComplete:!1,reviewCardsCache:new Map};async function jt(U=!0,et=!1){Pt.isProductPage=et,U&&await Ht(),ne(),await re(),Pt.isProductPage&&await I()}async function Ht(){const U=await(0,c.xk)(document,j.COMMENTS);if(!Pt.isProductPage){Ut(U,70);return}const et=()=>{Ut(U),!(0,K.Fi)(j.REVIEWS_LIST)&&requestAnimationFrame(et)};et()}function Ut(U,et=80){window.scrollTo({top:U.getBoundingClientRect().top+window.scrollY-et})}function ne(){const U=(0,it.U3)(),et=(0,mt.x$)();U!==et&&(ee.resetValue(),qt.resetValue(),ue.resetValue(),bt.resetValue(),rt.resetValue(),W.resetValue(),q.resetValue()),(0,mt.Pc)(U)}async function re(){const U=await(0,c.xk)(document,j.CONTROLS_CONTAINER);await ge(),(0,k.b)(U,Zt),me(),new MutationObserver((0,c.sg)(me)).observe(Pt.reviewsContainer,{childList:!0})}function Zt(U,et){(0,it.ki)(),(0,nt.ZM)(U,L.FILTERS_CONTAINER),(0,nt.ZM)(et,L.FILTERS_CONTAINER_WRAP);const xt=(0,_t.Nm)("\u0412\u0430\u0440\u0438\u0430\u0446\u0438\u044F:",ee,L.CONTROL,L.TEXT_INPUT),Ft=(0,_t.Nm)("\u0422\u0435\u043A\u0441\u0442:",qt,L.CONTROL,L.TEXT_INPUT),Nt=(0,$.KN)("\u041C\u0438\u043D. \u043B\u0430\u0438\u0306\u043A\u043E\u0432: ",ue,L.CONTROL,L.NUMBER_INPUT),Qt=(0,$.KN)("\u041C\u0430\u043A\u0441. \u0434\u0438\u0437\u043B\u0430\u0438\u0306\u043A\u043E\u0432: ",bt,L.CONTROL,L.NUMBER_INPUT),te=(0,$.HX)(rt,L.CONTROL,L.NUMBER_INPUT,1,1),ce=(0,$.FR)(W,L.CONTROL,L.NUMBER_INPUT,1,1),he=(0,$.Kw)(q,L.CONTROL,L.CHECKBOX_INPUT),Oe=(0,$.mO)(ut,L.CONTROL,L.CHECKBOX_INPUT),Le=(0,Ct.r)(L.CONTROL),Ee=(0,$.pW)(It,L.CONTROL,L.CHECKBOX_INPUT);U.append(xt,Ft,Nt,Qt,te,ce,he,Oe,Le,Ee),et.append(U),(0,it.ZB)()}async function ge(){if(Pt.reviewsContainer)return;const U=await(0,c.xk)(document,j.REVIEWS_LIST);if(!Pt.isProductPage){Pt.reviewsContainer=U.children[1];return}Pt.reviewsContainer=U?.parentNode,Pt.stickyReviewsInfo=await(0,c.xk)(document,j.STICKY_REVIEWS_INFO),Pt.stickyReviewsInfoDefaultText=Pt.stickyReviewsInfo.textContent.trim(),Pt.totalReviewCount=(0,K.YA)(Pt.stickyReviewsInfo,!0)}function me(){const et=[...(0,K.fI)(j.REVIEWS)].map(xt=>xt.parentNode);Pt.isFullLoadComplete=!Pt.isProductPage||et.length>=Pt.totalReviewCount,et.forEach(pe),Pt.isProductPage&&$t(et),F()}function pe(U){if(!It.value){(0,nt.kl)(U);return}Y(U);let et=Pt.reviewCardsCache.get(U);if(!et){Yt(U);const Ft=(0,K.Fi)(j.REVIEW_HEADER,U),Nt=(0,K.Fi)(j.REVIEW_CONTENT,U),Qt=(0,K.Fi)(j.REVIEW_FOOTER,U);if(!Ft||!Nt){(0,nt.Bt)(U);return}const te=(0,K.Fi)(j.PRODUCT_VARIATION_WRAP,Nt),ce=(0,K.Fi)(j.REVIEW_SURVEY_WRAP,Nt),he=(0,K.Fi)(j.REVIEW_TEXT_WRAP,Nt),Oe=[ce,he].filter(Boolean),Le=Qt&&(0,K.Yl)(Qt,"button","\u0414\u0430"),Ee=Qt&&(0,K.Yl)(Qt,"button","\u041D\u0435\u0442"),Ie=te?.innerText||"",Ze=Oe.map(Je=>Je.innerText).join(" "),De=(0,K.YA)(Le,!0,!1,0),Fe=(0,K.YA)(Ee,!0,!1,0),Qe=Et(Ft),Be=(0,K.TR)("img",Nt);et={productVariationWrap:te,productVariationText:Ie,reviewTextWraps:Oe,reviewText:Ze,likesNumber:De,dislikesNumber:Fe,rating:Qe,hasPhoto:Be},Pt.reviewCardsCache.set(U,et)}if(ee.value&&et.productVariationWrap&&wt(ee,et.productVariationWrap),qt.value&&Tt(qt,et.reviewTextWraps),ut.value&&!Pt.isFullLoadComplete){(0,nt.Bt)(U);return}const xt=(0,ft.Ay)(et.productVariationText,ee)||(0,ft.Ay)(et.reviewText,qt)||(0,ft.JE)(et.likesNumber,ue)||(0,ft.iG)(et.dislikesNumber,bt)||(0,ft.JE)(et.rating,rt)||(0,ft.iG)(et.rating,W)||(0,ft.yY)(et.hasPhoto,q);(0,nt.UC)(U,xt)}function Et(U){return(0,K.fI)('svg[style*="255, 168, 0"]',U).length}function Yt(U){if(U.hasAttribute(lt.READ_MORE_CLICK_PASSED))return;const et=(0,K.Yl)(U,"span","\u0427\u0438\u0442\u0430\u0442\u044C \u043F\u043E\u043B\u043D\u043E\u0441\u0442\u044C\u044E");et&&et.click(),U.setAttribute(lt.READ_MORE_CLICK_PASSED,"")}function $t(U){const et=ae(U),xt=et.filter(Qt=>Pt.reviewCardsCache.has(Qt)).map(Qt=>Pt.reviewCardsCache.get(Qt)),Ft=Lt(xt),Nt=Ft?` \u2022 ${Ft}`:"";Pt.stickyReviewsInfo.textContent=`
        ${Pt.stickyReviewsInfoDefaultText} 
        (${et.length}/${U.length}${Nt})
    `}function ae(U){return U.filter(et=>et.style.display!=="none")}function F(){(0,K.fI)(j.UNNECESSARY_ELEMENTS,Pt.reviewsContainer).forEach(U=>U.remove())}async function I(){const U=(0,K.Fi)(j.PAGINATOR);new MutationObserver((0,c.sg)(()=>ht(U))).observe(U,{childList:!0})}async function ht(U){(0,K.Fi)(j.FILTERS_CONTAINER,U)||(await(0,c.xk)(U,j.WEB_REVIEW_TABS),await re(!0))}},516:(kt,ot,T)=>{T.d(ot,{Z:()=>c});const c={PAGINATOR_CONTENT:"#paginatorContent",PROFILE_LOGO:'[data-widget="profileLogo"]',ORDER_INFO:'[data-widget="orderInfo"]',FAVORITES:'[data-widget="favoriteCounter"]',HEADER_ICON:'[data-widget="headerIcon"]',HEADER:"#stickyHeader"}},6447:(kt,ot,T)=>{T.d(ot,{Q1:()=>$t});function c(F){return F+.5|0}const k=(F,I,ht)=>Math.max(Math.min(F,ht),I);function K(F){return k(c(F*2.55),0,255)}function $(F){return k(c(F/2.55),0,100)}function X(F){return k(c(F*255),0,255)}function L(F){return k(c(F/2.55)/100,0,1)}function j(F){return k(c(F*100),0,100)}const G={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},nt=[..."0123456789ABCDEF"],ft=F=>nt[F&15],lt=F=>nt[(F&240)>>4]+nt[F&15],it=F=>(F&240)>>4===(F&15),B=F=>it(F.r)&&it(F.g)&&it(F.b)&&it(F.a);function z(F){var I=F.length,ht;return F[0]==="#"&&(I===4||I===5?ht={r:255&G[F[1]]*17,g:255&G[F[2]]*17,b:255&G[F[3]]*17,a:I===5?G[F[4]]*17:255}:(I===7||I===9)&&(ht={r:G[F[1]]<<4|G[F[2]],g:G[F[3]]<<4|G[F[4]],b:G[F[5]]<<4|G[F[6]],a:I===9?G[F[7]]<<4|G[F[8]]:255})),ht}const Y=(F,I)=>F<255?I(F):"";function ct(F){var I=B(F)?ft:lt;return F?"#"+I(F.r)+I(F.g)+I(F.b)+Y(F.a,I):void 0}const wt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Tt(F,I,ht){const U=I*Math.min(ht,1-ht),et=(xt,Ft=(xt+F/30)%12)=>ht-U*Math.max(Math.min(Ft-3,9-Ft,1),-1);return[et(0),et(8),et(4)]}function _t(F,I,ht){const U=(et,xt=(et+F/60)%6)=>ht-ht*I*Math.max(Math.min(xt,4-xt,1),0);return[U(5),U(3),U(1)]}function Ct(F,I,ht){const U=Tt(F,1,.5);let et;for(I+ht>1&&(et=1/(I+ht),I*=et,ht*=et),et=0;et<3;et++)U[et]*=1-I-ht,U[et]+=I;return U}function mt(F,I,ht,U,et){return F===et?(I-ht)/U+(I<ht?6:0):I===et?(ht-F)/U+2:(F-I)/U+4}function Rt(F){const ht=F.r/255,U=F.g/255,et=F.b/255,xt=Math.max(ht,U,et),Ft=Math.min(ht,U,et),Nt=(xt+Ft)/2;let Qt,te,ce;return xt!==Ft&&(ce=xt-Ft,te=Nt>.5?ce/(2-xt-Ft):ce/(xt+Ft),Qt=mt(ht,U,et,ce,xt),Qt=Qt*60+.5),[Qt|0,te||0,Nt]}function Lt(F,I,ht,U){return(Array.isArray(I)?F(I[0],I[1],I[2]):F(I,ht,U)).map(X)}function Gt(F,I,ht){return Lt(Tt,F,I,ht)}function ee(F,I,ht){return Lt(Ct,F,I,ht)}function qt(F,I,ht){return Lt(_t,F,I,ht)}function ue(F){return(F%360+360)%360}function bt(F){const I=wt.exec(F);let ht=255,U;if(!I)return;I[5]!==U&&(ht=I[6]?K(+I[5]):X(+I[5]));const et=ue(+I[2]),xt=+I[3]/100,Ft=+I[4]/100;return I[1]==="hwb"?U=ee(et,xt,Ft):I[1]==="hsv"?U=qt(et,xt,Ft):U=Gt(et,xt,Ft),{r:U[0],g:U[1],b:U[2],a:ht}}function rt(F,I){var ht=Rt(F);ht[0]=ue(ht[0]+I),ht=Gt(ht),F.r=ht[0],F.g=ht[1],F.b=ht[2]}function W(F){if(!F)return;const I=Rt(F),ht=I[0],U=j(I[1]),et=j(I[2]);return F.a<255?`hsla(${ht}, ${U}%, ${et}%, ${L(F.a)})`:`hsl(${ht}, ${U}%, ${et}%)`}const q={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ut={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function It(){const F={},I=Object.keys(ut),ht=Object.keys(q);let U,et,xt,Ft,Nt;for(U=0;U<I.length;U++){for(Ft=Nt=I[U],et=0;et<ht.length;et++)xt=ht[et],Nt=Nt.replace(xt,q[xt]);xt=parseInt(ut[Ft],16),F[Nt]=[xt>>16&255,xt>>8&255,xt&255]}return F}let Pt;function jt(F){Pt||(Pt=It(),Pt.transparent=[0,0,0,0]);const I=Pt[F.toLowerCase()];return I&&{r:I[0],g:I[1],b:I[2],a:I.length===4?I[3]:255}}const Ht=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Ut(F){const I=Ht.exec(F);let ht=255,U,et,xt;if(I){if(I[7]!==U){const Ft=+I[7];ht=I[8]?K(Ft):k(Ft*255,0,255)}return U=+I[1],et=+I[3],xt=+I[5],U=255&(I[2]?K(U):k(U,0,255)),et=255&(I[4]?K(et):k(et,0,255)),xt=255&(I[6]?K(xt):k(xt,0,255)),{r:U,g:et,b:xt,a:ht}}}function ne(F){return F&&(F.a<255?`rgba(${F.r}, ${F.g}, ${F.b}, ${L(F.a)})`:`rgb(${F.r}, ${F.g}, ${F.b})`)}const re=F=>F<=.0031308?F*12.92:Math.pow(F,1/2.4)*1.055-.055,Zt=F=>F<=.04045?F/12.92:Math.pow((F+.055)/1.055,2.4);function ge(F,I,ht){const U=Zt(L(F.r)),et=Zt(L(F.g)),xt=Zt(L(F.b));return{r:X(re(U+ht*(Zt(L(I.r))-U))),g:X(re(et+ht*(Zt(L(I.g))-et))),b:X(re(xt+ht*(Zt(L(I.b))-xt))),a:F.a+ht*(I.a-F.a)}}function me(F,I,ht){if(F){let U=Rt(F);U[I]=Math.max(0,Math.min(U[I]+U[I]*ht,I===0?360:1)),U=Gt(U),F.r=U[0],F.g=U[1],F.b=U[2]}}function pe(F,I){return F&&Object.assign(I||{},F)}function Et(F){var I={r:0,g:0,b:0,a:255};return Array.isArray(F)?F.length>=3&&(I={r:F[0],g:F[1],b:F[2],a:255},F.length>3&&(I.a=X(F[3]))):(I=pe(F,{r:0,g:0,b:0,a:1}),I.a=X(I.a)),I}function Yt(F){return F.charAt(0)==="r"?Ut(F):bt(F)}class $t{constructor(I){if(I instanceof $t)return I;const ht=typeof I;let U;ht==="object"?U=Et(I):ht==="string"&&(U=z(I)||jt(I)||Yt(I)),this._rgb=U,this._valid=!!U}get valid(){return this._valid}get rgb(){var I=pe(this._rgb);return I&&(I.a=L(I.a)),I}set rgb(I){this._rgb=Et(I)}rgbString(){return this._valid?ne(this._rgb):void 0}hexString(){return this._valid?ct(this._rgb):void 0}hslString(){return this._valid?W(this._rgb):void 0}mix(I,ht){if(I){const U=this.rgb,et=I.rgb;let xt;const Ft=ht===xt?.5:ht,Nt=2*Ft-1,Qt=U.a-et.a,te=((Nt*Qt===-1?Nt:(Nt+Qt)/(1+Nt*Qt))+1)/2;xt=1-te,U.r=255&te*U.r+xt*et.r+.5,U.g=255&te*U.g+xt*et.g+.5,U.b=255&te*U.b+xt*et.b+.5,U.a=Ft*U.a+(1-Ft)*et.a,this.rgb=U}return this}interpolate(I,ht){return I&&(this._rgb=ge(this._rgb,I._rgb,ht)),this}clone(){return new $t(this.rgb)}alpha(I){return this._rgb.a=X(I),this}clearer(I){const ht=this._rgb;return ht.a*=1-I,this}greyscale(){const I=this._rgb,ht=c(I.r*.3+I.g*.59+I.b*.11);return I.r=I.g=I.b=ht,this}opaquer(I){const ht=this._rgb;return ht.a*=1+I,this}negate(){const I=this._rgb;return I.r=255-I.r,I.g=255-I.g,I.b=255-I.b,this}lighten(I){return me(this._rgb,2,I),this}darken(I){return me(this._rgb,2,-I),this}saturate(I){return me(this._rgb,1,I),this}desaturate(I){return me(this._rgb,1,-I),this}rotate(I){return rt(this._rgb,I),this}}function ae(F){return new $t(F)}},7154:(kt,ot,T)=>{T.d(ot,{Ay:()=>k});var c=T(6118);c.t1.register(...c.$L);const k=c.t1},6118:(kt,ot,T)=>{T.d(ot,{$L:()=>ur,Hg:()=>Me,Qw:()=>j,ju:()=>F,t1:()=>p});var c=T(7715);class k{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const o=e.listeners[i],r=e.duration;o.forEach(l=>l({chart:t,initial:e.initial,numSteps:r,currentStep:Math.min(n-e.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=c.r.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const o=n.items;let r=o.length-1,l=!1,u;for(;r>=0;--r)u=o[r],u._active?(u._total>n.duration&&(n.duration=u._total),u.tick(t),l=!0):(o[r]=o[o.length-1],o.pop());l&&(i.draw(),this._notify(i,n,t,"progress")),o.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var K=new k;const $="transparent",X={boolean(s,t,e){return e>.5?t:s},color(s,t,e){const n=(0,c.c)(s||$),i=n.valid&&(0,c.c)(t||$);return i&&i.valid?i.mix(n,e).hexString():t},number(s,t,e){return s+(t-s)*e}};class L{constructor(t,e,n,i){const o=e[n];i=(0,c.a)([t.to,i,o,t.from]);const r=(0,c.a)([t.from,o,i]);this._active=!0,this._fn=t.fn||X[t.type||typeof r],this._easing=c.e[t.easing]||c.e.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=r,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],o=n-this._start,r=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=(0,c.a)([t.to,e,i,t.from]),this._from=(0,c.a)([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,o=this._from,r=this._loop,l=this._to;let u;if(this._active=o!==l&&(r||e<n),!this._active){this._target[i]=l,this._notify(!0);return}if(e<0){this._target[i]=o;return}u=e/n%2,u=r&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[i]=this._fn(o,l,u)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}}class j{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!(0,c.i)(t))return;const e=Object.keys(c.d.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const o=t[i];if(!(0,c.i)(o))return;const r={};for(const l of e)r[l]=o[l];((0,c.b)(o.properties)&&o.properties||[i]).forEach(l=>{(l===i||!n.has(l))&&n.set(l,r)})})}_animateOptions(t,e){const n=e.options,i=nt(t,n);if(!i)return[];const o=this._createAnimations(i,n);return n.$shared&&G(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,e){const n=this._properties,i=[],o=t.$animations||(t.$animations={}),r=Object.keys(e),l=Date.now();let u;for(u=r.length-1;u>=0;--u){const f=r[u];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(t,e));continue}const b=e[f];let _=o[f];const C=n.get(f);if(_)if(C&&_.active()){_.update(C,b,l);continue}else _.cancel();if(!C||!C.duration){t[f]=b;continue}o[f]=_=new L(C,t,f,b),i.push(_)}return i}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const n=this._createAnimations(t,e);if(n.length)return K.add(this._chart,n),!0}}function G(s,t){const e=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const o=s[n[i]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function nt(s,t){if(!t)return;let e=s.options;if(!e){s.options=t;return}return e.$shared&&(s.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function ft(s,t){const e=s&&s.options||{},n=e.reverse,i=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:n?o:i,end:n?i:o}}function lt(s,t,e){if(e===!1)return!1;const n=ft(s,e),i=ft(t,e);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function it(s){let t,e,n,i;return(0,c.i)(s)?(t=s.top,e=s.right,n=s.bottom,i=s.left):t=e=n=i=s,{top:t,right:e,bottom:n,left:i,disabled:s===!1}}function B(s,t){const e=[],n=s._getSortedDatasetMetas(t);let i,o;for(i=0,o=n.length;i<o;++i)e.push(n[i].index);return e}function z(s,t,e,n={}){const i=s.keys,o=n.mode==="single";let r,l,u,f;if(t===null)return;let b=!1;for(r=0,l=i.length;r<l;++r){if(u=+i[r],u===e){if(b=!0,n.all)continue;break}f=s.values[u],(0,c.g)(f)&&(o||t===0||(0,c.s)(t)===(0,c.s)(f))&&(t+=f)}return!b&&!n.all?0:t}function Y(s,t){const{iScale:e,vScale:n}=t,i=e.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",r=Object.keys(s),l=new Array(r.length);let u,f,b;for(u=0,f=r.length;u<f;++u)b=r[u],l[u]={[i]:b,[o]:s[b]};return l}function ct(s,t){const e=s&&s.options.stacked;return e||e===void 0&&t.stack!==void 0}function wt(s,t,e){return`${s.id}.${t.id}.${e.stack||e.type}`}function Tt(s){const{min:t,max:e,minDefined:n,maxDefined:i}=s.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?e:Number.POSITIVE_INFINITY}}function _t(s,t,e){const n=s[t]||(s[t]={});return n[e]||(n[e]={})}function Ct(s,t,e,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const o=s[i.index];if(e&&o>0||!e&&o<0)return i.index}return null}function mt(s,t){const{chart:e,_cachedMeta:n}=s,i=e._stacks||(e._stacks={}),{iScale:o,vScale:r,index:l}=n,u=o.axis,f=r.axis,b=wt(o,r,n),_=t.length;let C;for(let E=0;E<_;++E){const R=t[E],{[u]:N,[f]:Q}=R,Z=R._stacks||(R._stacks={});C=Z[f]=_t(i,b,N),C[l]=Q,C._top=Ct(C,r,!0,n.type),C._bottom=Ct(C,r,!1,n.type);const tt=C._visualValues||(C._visualValues={});tt[l]=Q}}function Rt(s,t){const e=s.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function Lt(s,t){return(0,c.j)(s,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Gt(s,t,e){return(0,c.j)(s,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function ee(s,t){const e=s.controller.index,n=s.vScale&&s.vScale.axis;if(n){t=t||s._parsed;for(const i of t){const o=i._stacks;if(!o||o[n]===void 0||o[n][e]===void 0)return;delete o[n][e],o[n]._visualValues!==void 0&&o[n]._visualValues[e]!==void 0&&delete o[n]._visualValues[e]}}}const qt=s=>s==="reset"||s==="none",ue=(s,t)=>t?s:Object.assign({},s),bt=(s,t,e)=>s&&!t.hidden&&t._stacked&&{keys:B(e,!0),values:null};class rt{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ct(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ee(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(_,C,E,R)=>_==="x"?C:_==="r"?R:E,o=e.xAxisID=(0,c.v)(n.xAxisID,Rt(t,"x")),r=e.yAxisID=(0,c.v)(n.yAxisID,Rt(t,"y")),l=e.rAxisID=(0,c.v)(n.rAxisID,Rt(t,"r")),u=e.indexAxis,f=e.iAxisID=i(u,o,r,l),b=e.vAxisID=i(u,r,o,l);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(r),e.rScale=this.getScaleForId(l),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(b)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&(0,c.u)(this._data,this),t._stacked&&ee(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if((0,c.i)(e)){const i=this._cachedMeta;this._data=Y(e,i)}else if(n!==e){if(n){(0,c.u)(n,this);const i=this._cachedMeta;ee(i),i._parsed=[]}e&&Object.isExtensible(e)&&(0,c.l)(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const o=e._stacked;e._stacked=ct(e.vScale,e),e.stack!==n.stack&&(i=!0,ee(e),e.stack=n.stack),this._resyncElements(t),(i||o!==e._stacked)&&(mt(this,e._parsed),e._stacked=ct(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:o,_stacked:r}=n,l=o.axis;let u=t===0&&e===i.length?!0:n._sorted,f=t>0&&n._parsed[t-1],b,_,C;if(this._parsing===!1)n._parsed=i,n._sorted=!0,C=i;else{(0,c.b)(i[t])?C=this.parseArrayData(n,i,t,e):(0,c.i)(i[t])?C=this.parseObjectData(n,i,t,e):C=this.parsePrimitiveData(n,i,t,e);const E=()=>_[l]===null||f&&_[l]<f[l];for(b=0;b<e;++b)n._parsed[b+t]=_=C[b],u&&(E()&&(u=!1),f=_);n._sorted=u}r&&mt(this,C)}parsePrimitiveData(t,e,n,i){const{iScale:o,vScale:r}=t,l=o.axis,u=r.axis,f=o.getLabels(),b=o===r,_=new Array(i);let C,E,R;for(C=0,E=i;C<E;++C)R=C+n,_[C]={[l]:b||o.parse(f[R],R),[u]:r.parse(e[R],R)};return _}parseArrayData(t,e,n,i){const{xScale:o,yScale:r}=t,l=new Array(i);let u,f,b,_;for(u=0,f=i;u<f;++u)b=u+n,_=e[b],l[u]={x:o.parse(_[0],b),y:r.parse(_[1],b)};return l}parseObjectData(t,e,n,i){const{xScale:o,yScale:r}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,f=new Array(i);let b,_,C,E;for(b=0,_=i;b<_;++b)C=b+n,E=e[C],f[b]={x:o.parse((0,c.f)(E,l),C),y:r.parse((0,c.f)(E,u),C)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const i=this.chart,o=this._cachedMeta,r=e[t.axis],l={keys:B(i,!0),values:e._stacks[t.axis]._visualValues};return z(l,r,o.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const o=n[e.axis];let r=o===null?NaN:o;const l=i&&n._stacks[e.axis];i&&l&&(i.values=l,r=z(i,o,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,o=n._sorted&&t===n.iScale,r=i.length,l=this._getOtherScale(t),u=bt(e,n,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:b,max:_}=Tt(l);let C,E;function R(){E=i[C];const N=E[l.axis];return!(0,c.g)(E[t.axis])||b>N||_<N}for(C=0;C<r&&!(!R()&&(this.updateRangeFromParsed(f,t,E,u),o));++C);if(o){for(C=r-1;C>=0;--C)if(!R()){this.updateRangeFromParsed(f,t,E,u);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,o,r;for(i=0,o=e.length;i<o;++i)r=e[i][t.axis],(0,c.g)(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,o=this.getParsed(t);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=it((0,c.v)(this.options.clip,lt(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,i=n.data||[],o=e.chartArea,r=[],l=this._drawStart||0,u=this._drawCount||i.length-l,f=this.options.drawActiveElementsOnTop;let b;for(n.dataset&&n.dataset.draw(t,o,l,u),b=l;b<l+u;++b){const _=i[b];_.hidden||(_.active&&f?r.push(_):_.draw(t,o))}for(b=0;b<r.length;++b)r[b].draw(t,o)}getStyle(t,e){const n=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const r=this._cachedMeta.data[t];o=r.$context||(r.$context=Gt(this.getContext(),t,r)),o.parsed=this.getParsed(t),o.raw=i.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=Lt(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=n,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const i=e==="active",o=this._cachedDataOpts,r=t+"-"+e,l=o[r],u=this.enableOptionSharing&&(0,c.h)(n);if(l)return ue(l,u);const f=this.chart.config,b=f.datasetElementScopeKeys(this._type,t),_=i?[`${t}Hover`,"hover",t,""]:[t,""],C=f.getOptionScopes(this.getDataset(),b),E=Object.keys(c.d.elements[t]),R=()=>this.getContext(n,i,e),N=f.resolveNamedOptions(C,E,R,_);return N.$shared&&(N.$shared=u,o[r]=Object.freeze(ue(N,u))),N}_resolveAnimations(t,e,n){const i=this.chart,o=this._cachedDataOpts,r=`animation-${e}`,l=o[r];if(l)return l;let u;if(i.options.animation!==!1){const b=this.chart.config,_=b.datasetAnimationScopeKeys(this._type,e),C=b.getOptionScopes(this.getDataset(),_);u=b.createResolver(C,this.getContext(t,n,e))}const f=new j(i,u&&u.animations);return u&&u._cacheable&&(o[r]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||qt(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),i=this._sharedOptions,o=this.getSharedOptions(n),r=this.includeOptions(e,o)||o!==i;return this.updateSharedOptions(o,e,n),{sharedOptions:o,includeOptions:r}}updateElement(t,e,n,i){qt(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!qt(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const o=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[l,u,f]of this._syncList)this[l](u,f);this._syncList=[];const i=n.length,o=e.length,r=Math.min(o,i);r&&this.parse(0,r),o>i?this._insertElements(i,o-i,t):o<i&&this._removeElements(o,i-o)}_insertElements(t,e,n=!0){const i=this._cachedMeta,o=i.data,r=t+e;let l;const u=f=>{for(f.length+=e,l=f.length-1;l>=r;l--)f[l]=f[l-e]};for(u(o),l=t;l<r;++l)o[l]=new this.dataElementType;this._parsing&&u(i._parsed),this.parse(t,e),n&&this.updateElements(o,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&ee(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function W(s,t){if(!s._cache.$bar){const e=s.getMatchingVisibleMetas(t);let n=[];for(let i=0,o=e.length;i<o;i++)n=n.concat(e[i].controller.getAllParsedValues(s));s._cache.$bar=(0,c._)(n.sort((i,o)=>i-o))}return s._cache.$bar}function q(s){const t=s.iScale,e=W(t,s.type);let n=t._length,i,o,r,l;const u=()=>{r===32767||r===-32768||((0,c.h)(l)&&(n=Math.min(n,Math.abs(r-l)||n)),l=r)};for(i=0,o=e.length;i<o;++i)r=t.getPixelForValue(e[i]),u();for(l=void 0,i=0,o=t.ticks.length;i<o;++i)r=t.getPixelForTick(i),u();return n}function ut(s,t,e,n){const i=e.barThickness;let o,r;return(0,c.k)(i)?(o=t.min*e.categoryPercentage,r=e.barPercentage):(o=i*n,r=1),{chunk:o/n,ratio:r,start:t.pixels[s]-o/2}}function It(s,t,e,n){const i=t.pixels,o=i[s];let r=s>0?i[s-1]:null,l=s<i.length-1?i[s+1]:null;const u=e.categoryPercentage;r===null&&(r=o-(l===null?t.end-t.start:l-o)),l===null&&(l=o+o-r);const f=o-(o-Math.min(r,l))/2*u;return{chunk:Math.abs(l-r)/2*u/n,ratio:e.barPercentage,start:f}}function Pt(s,t,e,n){const i=e.parse(s[0],n),o=e.parse(s[1],n),r=Math.min(i,o),l=Math.max(i,o);let u=r,f=l;Math.abs(r)>Math.abs(l)&&(u=l,f=r),t[e.axis]=f,t._custom={barStart:u,barEnd:f,start:i,end:o,min:r,max:l}}function jt(s,t,e,n){return(0,c.b)(s)?Pt(s,t,e,n):t[e.axis]=e.parse(s,n),t}function Ht(s,t,e,n){const i=s.iScale,o=s.vScale,r=i.getLabels(),l=i===o,u=[];let f,b,_,C;for(f=e,b=e+n;f<b;++f)C=t[f],_={},_[i.axis]=l||i.parse(r[f],f),u.push(jt(C,_,o,f));return u}function Ut(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function ne(s,t,e){return s!==0?(0,c.s)(s):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function re(s){let t,e,n,i,o;return s.horizontal?(t=s.base>s.x,e="left",n="right"):(t=s.base<s.y,e="bottom",n="top"),t?(i="end",o="start"):(i="start",o="end"),{start:e,end:n,reverse:t,top:i,bottom:o}}function Zt(s,t,e,n){let i=t.borderSkipped;const o={};if(!i){s.borderSkipped=o;return}if(i===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:r,end:l,reverse:u,top:f,bottom:b}=re(s);i==="middle"&&e&&(s.enableBorderRadius=!0,(e._top||0)===n?i=f:(e._bottom||0)===n?i=b:(o[ge(b,r,l,u)]=!0,i=f)),o[ge(i,r,l,u)]=!0,s.borderSkipped=o}function ge(s,t,e,n){return n?(s=me(s,t,e),s=pe(s,e,t)):s=pe(s,t,e),s}function me(s,t,e){return s===t?e:s===e?t:s}function pe(s,t,e){return s==="start"?t:s==="end"?e:s}function Et(s,{inflateAmount:t},e){s.inflateAmount=t==="auto"?e===1?.33:0:t}class Yt extends rt{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,n,i){return Ht(t,e,n,i)}parseArrayData(t,e,n,i){return Ht(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:o,vScale:r}=t,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,f=o.axis==="x"?l:u,b=r.axis==="x"?l:u,_=[];let C,E,R,N;for(C=n,E=n+i;C<E;++C)N=e[C],R={},R[o.axis]=o.parse((0,c.f)(N,f),C),_.push(jt((0,c.f)(N,b),R,r,C));return _}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const o=n._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,o=this.getParsed(t),r=o._custom,l=Ut(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const o=i==="reset",{index:r,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),f=l.isHorizontal(),b=this._getRuler(),{sharedOptions:_,includeOptions:C}=this._getSharedOptions(e,i);for(let E=e;E<e+n;E++){const R=this.getParsed(E),N=o||(0,c.k)(R[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(E),Q=this._calculateBarIndexPixels(E,b),Z=(R._stacks||{})[l.axis],tt={horizontal:f,base:N.base,enableBorderRadius:!Z||Ut(R._custom)||r===Z._top||r===Z._bottom,x:f?N.head:Q.center,y:f?Q.center:N.head,height:f?Q.size:Math.abs(N.size),width:f?Math.abs(N.size):Q.size};C&&(tt.options=_||this.resolveDataElementOptions(E,t[E].active?"active":i));const pt=tt.options||t[E].options;Zt(tt,pt,Z,r),Et(tt,pt,b.ratio),this.updateElement(t[E],E,tt,i)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(b=>b.controller.options.grouped),o=n.options.stacked,r=[],l=this._cachedMeta.controller.getParsed(e),u=l&&l[n.axis],f=b=>{const _=b._parsed.find(E=>E[n.axis]===u),C=_&&_[b.vScale.axis];if((0,c.k)(C)||isNaN(C))return!0};for(const b of i)if(!(e!==void 0&&f(b))&&((o===!1||r.indexOf(b.stack)===-1||o===void 0&&b.stack===void 0)&&r.push(b.stack),b.index===t))break;return r.length||r.push(void 0),r}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const i=this._getStacks(t,n),o=e!==void 0?i.indexOf(e):-1;return o===-1?i.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let o,r;for(o=0,r=e.data.length;o<r;++o)i.push(n.getPixelForValue(this.getParsed(o)[n.axis],o));const l=t.barThickness;return{min:l||q(e),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:l?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:i},options:{base:o,minBarLength:r}}=this,l=o||0,u=this.getParsed(t),f=u._custom,b=Ut(f);let _=u[e.axis],C=0,E=n?this.applyStack(e,u,n):_,R,N;E!==_&&(C=E-_,E=_),b&&(_=f.barStart,E=f.barEnd-f.barStart,_!==0&&(0,c.s)(_)!==(0,c.s)(f.barEnd)&&(C=0),C+=_);const Q=!(0,c.k)(o)&&!b?o:C;let Z=e.getPixelForValue(Q);if(this.chart.getDataVisibility(t)?R=e.getPixelForValue(C+E):R=Z,N=R-Z,Math.abs(N)<r){N=ne(N,e,l)*r,_===l&&(Z-=N/2);const tt=e.getPixelForDecimal(0),pt=e.getPixelForDecimal(1),dt=Math.min(tt,pt),at=Math.max(tt,pt);Z=Math.max(Math.min(Z,at),dt),R=Z+N,n&&!b&&(u._stacks[e.axis]._visualValues[i]=e.getValueForPixel(R)-e.getValueForPixel(Z))}if(Z===e.getPixelForValue(l)){const tt=(0,c.s)(N)*e.getLineWidthForValue(l)/2;Z+=tt,N-=tt}return{size:N,base:Z,head:R,center:R+N/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,o=i.skipNull,r=(0,c.v)(i.maxBarThickness,1/0);let l,u;if(e.grouped){const f=o?this._getStackCount(t):e.stackCount,b=i.barThickness==="flex"?It(t,e,i,f):ut(t,e,i,f),_=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);l=b.start+b.chunk*_+b.chunk/2,u=Math.min(r,b.chunk*b.ratio)}else l=n.getPixelForValue(this.getParsed(t)[n.axis],t),u=Math.min(r,e.min*e.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let o=0;for(;o<i;++o)this.getParsed(o)[e.axis]!==null&&!n[o].hidden&&n[o].draw(this._ctx)}}class $t extends rt{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,i){const o=super.parsePrimitiveData(t,e,n,i);for(let r=0;r<o.length;r++)o[r]._custom=this.resolveDataElementOptions(r+n).radius;return o}parseArrayData(t,e,n,i){const o=super.parseArrayData(t,e,n,i);for(let r=0;r<o.length;r++){const l=e[n+r];o[r]._custom=(0,c.v)(l[2],this.resolveDataElementOptions(r+n).radius)}return o}parseObjectData(t,e,n,i){const o=super.parseObjectData(t,e,n,i);for(let r=0;r<o.length;r++){const l=e[n+r];o[r]._custom=(0,c.v)(l&&l.r&&+l.r,this.resolveDataElementOptions(r+n).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:o}=e,r=this.getParsed(t),l=i.getLabelForValue(r.x),u=o.getLabelForValue(r.y),f=r._custom;return{label:n[t]||"",value:"("+l+", "+u+(f?", "+f:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,i){const o=i==="reset",{iScale:r,vScale:l}=this._cachedMeta,{sharedOptions:u,includeOptions:f}=this._getSharedOptions(e,i),b=r.axis,_=l.axis;for(let C=e;C<e+n;C++){const E=t[C],R=!o&&this.getParsed(C),N={},Q=N[b]=o?r.getPixelForDecimal(.5):r.getPixelForValue(R[b]),Z=N[_]=o?l.getBasePixel():l.getPixelForValue(R[_]);N.skip=isNaN(Q)||isNaN(Z),f&&(N.options=u||this.resolveDataElementOptions(C,E.active?"active":i),o&&(N.options.radius=0)),this.updateElement(E,C,N,i)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return e!=="active"&&(i.radius=0),i.radius+=(0,c.v)(n&&n._custom,o),i}}function ae(s,t,e){let n=1,i=1,o=0,r=0;if(t<c.T){const l=s,u=l+t,f=Math.cos(l),b=Math.sin(l),_=Math.cos(u),C=Math.sin(u),E=(pt,dt,at)=>(0,c.p)(pt,l,u,!0)?1:Math.max(dt,dt*e,at,at*e),R=(pt,dt,at)=>(0,c.p)(pt,l,u,!0)?-1:Math.min(dt,dt*e,at,at*e),N=E(0,f,_),Q=E(c.H,b,C),Z=R(c.P,f,_),tt=R(c.P+c.H,b,C);n=(N-Z)/2,i=(Q-tt)/2,o=-(N+Z)/2,r=-(Q+tt)/2}return{ratioX:n,ratioY:i,offsetX:o,offsetY:r}}class F extends rt{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map((o,r)=>{const u=t.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let o=u=>+n[u];if((0,c.i)(n[t])){const{key:u="value"}=this._parsing;o=f=>+(0,c.f)(n[f],u)}let r,l;for(r=t,l=t+e;r<l;++r)i._parsed[r]=o(r)}}_getRotation(){return(0,c.t)(this.options.rotation-90)}_getCircumference(){return(0,c.t)(this.options.circumference)}_getRotationExtents(){let t=c.T,e=-c.T;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,o=i._getRotation(),r=i._getCircumference();t=Math.min(t,o),e=Math.max(e,o+r)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,i=this._cachedMeta,o=i.data,r=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(n.width,n.height)-r)/2,0),u=Math.min((0,c.m)(this.options.cutout,l),1),f=this._getRingWeight(this.index),{circumference:b,rotation:_}=this._getRotationExtents(),{ratioX:C,ratioY:E,offsetX:R,offsetY:N}=ae(_,b,u),Q=(n.width-r)/C,Z=(n.height-r)/E,tt=Math.max(Math.min(Q,Z)/2,0),pt=(0,c.n)(this.options.radius,tt),dt=Math.max(pt*u,0),at=(pt-dt)/this._getVisibleDatasetWeightTotal();this.offsetX=R*pt,this.offsetY=N*pt,i.total=this.calculateTotal(),this.outerRadius=pt-at*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-at*f,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const n=this.options,i=this._cachedMeta,o=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*o/c.T)}updateElements(t,e,n,i){const o=i==="reset",r=this.chart,l=r.chartArea,f=r.options.animation,b=(l.left+l.right)/2,_=(l.top+l.bottom)/2,C=o&&f.animateScale,E=C?0:this.innerRadius,R=C?0:this.outerRadius,{sharedOptions:N,includeOptions:Q}=this._getSharedOptions(e,i);let Z=this._getRotation(),tt;for(tt=0;tt<e;++tt)Z+=this._circumference(tt,o);for(tt=e;tt<e+n;++tt){const pt=this._circumference(tt,o),dt=t[tt],at={x:b+this.offsetX,y:_+this.offsetY,startAngle:Z,endAngle:Z+pt,circumference:pt,outerRadius:R,innerRadius:E};Q&&(at.options=N||this.resolveDataElementOptions(tt,dt.active?"active":i)),Z+=pt,this.updateElement(dt,tt,at,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n=0,i;for(i=0;i<e.length;i++){const o=t._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!e[i].hidden&&(n+=Math.abs(o))}return n}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?c.T*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=(0,c.o)(e._parsed[t],n.options.locale);return{label:i[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const n=this.chart;let i,o,r,l,u;if(!t){for(i=0,o=n.data.datasets.length;i<o;++i)if(n.isDatasetVisible(i)){r=n.getDatasetMeta(i),t=r.data,l=r.controller;break}}if(!t)return 0;for(i=0,o=t.length;i<o;++i)u=l.resolveDataElementOptions(i),u.borderAlign!=="inner"&&(e=Math.max(e,u.borderWidth||0,u.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,i=t.length;n<i;++n){const o=this.resolveDataElementOptions(n);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max((0,c.v)(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class I extends rt{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:i=[],_dataset:o}=e,r=this.chart._animationsDisabled;let{start:l,count:u}=(0,c.q)(e,i,r);this._drawStart=l,this._drawCount=u,(0,c.w)(e)&&(l=0,u=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=i;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(n,void 0,{animated:!r,options:f},t),this.updateElements(i,l,u,t)}updateElements(t,e,n,i){const o=i==="reset",{iScale:r,vScale:l,_stacked:u,_dataset:f}=this._cachedMeta,{sharedOptions:b,includeOptions:_}=this._getSharedOptions(e,i),C=r.axis,E=l.axis,{spanGaps:R,segment:N}=this.options,Q=(0,c.x)(R)?R:Number.POSITIVE_INFINITY,Z=this.chart._animationsDisabled||o||i==="none",tt=e+n,pt=t.length;let dt=e>0&&this.getParsed(e-1);for(let at=0;at<pt;++at){const vt=t[at],St=Z?vt:{};if(at<e||at>=tt){St.skip=!0;continue}const Mt=this.getParsed(at),zt=(0,c.k)(Mt[E]),Xt=St[C]=r.getPixelForValue(Mt[C],at),Kt=St[E]=o||zt?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,Mt,u):Mt[E],at);St.skip=isNaN(Xt)||isNaN(Kt)||zt,St.stop=at>0&&Math.abs(Mt[C]-dt[C])>Q,N&&(St.parsed=Mt,St.raw=f.data[at]),_&&(St.options=b||this.resolveDataElementOptions(at,vt.active?"active":i)),Z||this.updateElement(vt,at,St,i),dt=Mt}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const o=i[0].size(this.resolveDataElementOptions(0)),r=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,o,r)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class ht extends rt{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map((o,r)=>{const u=t.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:i,lineWidth:u.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=(0,c.o)(e._parsed[t].r,n.options.locale);return{label:i[t]||"",value:o}}parseObjectData(t,e,n,i){return c.y.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,i)=>{const o=this.getParsed(i).r;!isNaN(o)&&this.chart.getDataVisibility(i)&&(o<e.min&&(e.min=o),o>e.max&&(e.max=o))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(i/2,0),r=Math.max(n.cutoutPercentage?o/100*n.cutoutPercentage:1,0),l=(o-r)/t.getVisibleDatasetCount();this.outerRadius=o-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(t,e,n,i){const o=i==="reset",r=this.chart,u=r.options.animation,f=this._cachedMeta.rScale,b=f.xCenter,_=f.yCenter,C=f.getIndexAngle(0)-.5*c.P;let E=C,R;const N=360/this.countVisibleElements();for(R=0;R<e;++R)E+=this._computeAngle(R,i,N);for(R=e;R<e+n;R++){const Q=t[R];let Z=E,tt=E+this._computeAngle(R,i,N),pt=r.getDataVisibility(R)?f.getDistanceFromCenterForValue(this.getParsed(R).r):0;E=tt,o&&(u.animateScale&&(pt=0),u.animateRotate&&(Z=tt=C));const dt={x:b,y:_,innerRadius:0,outerRadius:pt,startAngle:Z,endAngle:tt,options:this.resolveDataElementOptions(R,Q.active?"active":i)};this.updateElement(Q,R,dt,i)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++}),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?(0,c.t)(this.resolveDataElementOptions(t,e).angle||n):0}}class U extends F{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class et extends rt{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,i){return c.y.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta,n=e.dataset,i=e.data||[],o=e.iScale.getLabels();if(n.points=i,t!=="resize"){const r=this.resolveDatasetElementOptions(t);this.options.showLine||(r.borderWidth=0);const l={_loop:!0,_fullLoop:o.length===i.length,options:r};this.updateElement(n,void 0,l,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,n,i){const o=this._cachedMeta.rScale,r=i==="reset";for(let l=e;l<e+n;l++){const u=t[l],f=this.resolveDataElementOptions(l,u.active?"active":i),b=o.getPointPositionForValue(l,this.getParsed(l).r),_=r?o.xCenter:b.x,C=r?o.yCenter:b.y,E={x:_,y:C,angle:b.angle,skip:isNaN(_)||isNaN(C),options:f};this.updateElement(u,l,E,i)}}}class xt extends rt{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:o}=e,r=this.getParsed(t),l=i.getLabelForValue(r.x),u=o.getLabelForValue(r.y);return{label:n[t]||"",value:"("+l+", "+u+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,i=this.chart._animationsDisabled;let{start:o,count:r}=(0,c.q)(e,n,i);if(this._drawStart=o,this._drawCount=r,(0,c.w)(e)&&(o=0,r=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:u}=e;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!u._decimated,l.points=n;const f=this.resolveDatasetElementOptions(t);f.segment=this.options.segment,this.updateElement(l,void 0,{animated:!i,options:f},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,o,r,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,i){const o=i==="reset",{iScale:r,vScale:l,_stacked:u,_dataset:f}=this._cachedMeta,b=this.resolveDataElementOptions(e,i),_=this.getSharedOptions(b),C=this.includeOptions(i,_),E=r.axis,R=l.axis,{spanGaps:N,segment:Q}=this.options,Z=(0,c.x)(N)?N:Number.POSITIVE_INFINITY,tt=this.chart._animationsDisabled||o||i==="none";let pt=e>0&&this.getParsed(e-1);for(let dt=e;dt<e+n;++dt){const at=t[dt],vt=this.getParsed(dt),St=tt?at:{},Mt=(0,c.k)(vt[R]),zt=St[E]=r.getPixelForValue(vt[E],dt),Xt=St[R]=o||Mt?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,vt,u):vt[R],dt);St.skip=isNaN(zt)||isNaN(Xt)||Mt,St.stop=dt>0&&Math.abs(vt[E]-pt[E])>Z,Q&&(St.parsed=vt,St.raw=f.data[dt]),C&&(St.options=_||this.resolveDataElementOptions(dt,at.active?"active":i)),tt||this.updateElement(at,dt,St,i),pt=vt}this.updateSharedOptions(_,i,b)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let l=0;for(let u=e.length-1;u>=0;--u)l=Math.max(l,e[u].size(this.resolveDataElementOptions(u))/2);return l>0&&l}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!e.length)return i;const o=e[0].size(this.resolveDataElementOptions(0)),r=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,o,r)/2}}var Ft=Object.freeze({__proto__:null,BarController:Yt,BubbleController:$t,DoughnutController:F,LineController:I,PieController:U,PolarAreaController:ht,RadarController:et,ScatterController:xt});function Nt(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Qt{static override(t){Object.assign(Qt.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Nt()}parse(){return Nt()}format(){return Nt()}add(){return Nt()}diff(){return Nt()}startOf(){return Nt()}endOf(){return Nt()}}var te={_date:Qt};function ce(s,t,e,n){const{controller:i,data:o,_sorted:r}=s,l=i._cachedMeta.iScale;if(l&&t===l.axis&&t!=="r"&&r&&o.length){const u=l._reversePixels?c.A:c.B;if(n){if(i._sharedOptions){const f=o[0],b=typeof f.getRange=="function"&&f.getRange(t);if(b){const _=u(o,t,e-b),C=u(o,t,e+b);return{lo:_.lo,hi:C.hi}}}}else return u(o,t,e)}return{lo:0,hi:o.length-1}}function he(s,t,e,n,i){const o=s.getSortedVisibleDatasetMetas(),r=e[t];for(let l=0,u=o.length;l<u;++l){const{index:f,data:b}=o[l],{lo:_,hi:C}=ce(o[l],t,r,i);for(let E=_;E<=C;++E){const R=b[E];R.skip||n(R,f,E)}}}function Oe(s){const t=s.indexOf("x")!==-1,e=s.indexOf("y")!==-1;return function(n,i){const o=t?Math.abs(n.x-i.x):0,r=e?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function Le(s,t,e,n,i){const o=[];return!i&&!s.isPointInArea(t)||he(s,e,t,function(l,u,f){!i&&!(0,c.C)(l,s.chartArea,0)||l.inRange(t.x,t.y,n)&&o.push({element:l,datasetIndex:u,index:f})},!0),o}function Ee(s,t,e,n){let i=[];function o(r,l,u){const{startAngle:f,endAngle:b}=r.getProps(["startAngle","endAngle"],n),{angle:_}=(0,c.D)(r,{x:t.x,y:t.y});(0,c.p)(_,f,b)&&i.push({element:r,datasetIndex:l,index:u})}return he(s,e,t,o),i}function Ie(s,t,e,n,i,o){let r=[];const l=Oe(e);let u=Number.POSITIVE_INFINITY;function f(b,_,C){const E=b.inRange(t.x,t.y,i);if(n&&!E)return;const R=b.getCenterPoint(i);if(!(!!o||s.isPointInArea(R))&&!E)return;const Q=l(t,R);Q<u?(r=[{element:b,datasetIndex:_,index:C}],u=Q):Q===u&&r.push({element:b,datasetIndex:_,index:C})}return he(s,e,t,f),r}function Ze(s,t,e,n,i,o){return!o&&!s.isPointInArea(t)?[]:e==="r"&&!n?Ee(s,t,e,i):Ie(s,t,e,n,i,o)}function De(s,t,e,n,i){const o=[],r=e==="x"?"inXRange":"inYRange";let l=!1;return he(s,e,t,(u,f,b)=>{u[r]&&u[r](t[e],i)&&(o.push({element:u,datasetIndex:f,index:b}),l=l||u.inRange(t.x,t.y,i))}),n&&!l?[]:o}var Fe={evaluateInteractionItems:he,modes:{index(s,t,e,n){const i=(0,c.z)(t,s),o=e.axis||"x",r=e.includeInvisible||!1,l=e.intersect?Le(s,i,o,n,r):Ze(s,i,o,!1,n,r),u=[];return l.length?(s.getSortedVisibleDatasetMetas().forEach(f=>{const b=l[0].index,_=f.data[b];_&&!_.skip&&u.push({element:_,datasetIndex:f.index,index:b})}),u):[]},dataset(s,t,e,n){const i=(0,c.z)(t,s),o=e.axis||"xy",r=e.includeInvisible||!1;let l=e.intersect?Le(s,i,o,n,r):Ze(s,i,o,!1,n,r);if(l.length>0){const u=l[0].datasetIndex,f=s.getDatasetMeta(u).data;l=[];for(let b=0;b<f.length;++b)l.push({element:f[b],datasetIndex:u,index:b})}return l},point(s,t,e,n){const i=(0,c.z)(t,s),o=e.axis||"xy",r=e.includeInvisible||!1;return Le(s,i,o,n,r)},nearest(s,t,e,n){const i=(0,c.z)(t,s),o=e.axis||"xy",r=e.includeInvisible||!1;return Ze(s,i,o,e.intersect,n,r)},x(s,t,e,n){const i=(0,c.z)(t,s);return De(s,i,"x",e.intersect,n)},y(s,t,e,n){const i=(0,c.z)(t,s);return De(s,i,"y",e.intersect,n)}}};const Qe=["left","top","right","bottom"];function Be(s,t){return s.filter(e=>e.pos===t)}function Je(s,t){return s.filter(e=>Qe.indexOf(e.pos)===-1&&e.box.axis===t)}function qe(s,t){return s.sort((e,n)=>{const i=t?n:e,o=t?e:n;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function Di(s){const t=[];let e,n,i,o,r,l;for(e=0,n=(s||[]).length;e<n;++e)i=s[e],{position:o,options:{stack:r,stackWeight:l=1}}=i,t.push({index:e,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:r&&o+r,stackWeight:l});return t}function li(s){const t={};for(const e of s){const{stack:n,pos:i,stackWeight:o}=e;if(!n||!Qe.includes(i))continue;const r=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return t}function Ri(s,t){const e=li(s),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let o,r,l;for(o=0,r=s.length;o<r;++o){l=s[o];const{fullSize:u}=l.box,f=e[l.stack],b=f&&l.stackWeight/f.weight;l.horizontal?(l.width=b?b*n:u&&t.availableWidth,l.height=i):(l.width=n,l.height=b?b*i:u&&t.availableHeight)}return e}function ci(s){const t=Di(s),e=qe(t.filter(f=>f.box.fullSize),!0),n=qe(Be(t,"left"),!0),i=qe(Be(t,"right")),o=qe(Be(t,"top"),!0),r=qe(Be(t,"bottom")),l=Je(t,"x"),u=Je(t,"y");return{fullSize:e,leftAndTop:n.concat(o),rightAndBottom:i.concat(u).concat(r).concat(l),chartArea:Be(t,"chartArea"),vertical:n.concat(i).concat(u),horizontal:o.concat(r).concat(l)}}function ln(s,t,e,n){return Math.max(s[e],t[e])+Math.max(s[n],t[n])}function Vn(s,t){s.top=Math.max(s.top,t.top),s.left=Math.max(s.left,t.left),s.bottom=Math.max(s.bottom,t.bottom),s.right=Math.max(s.right,t.right)}function ui(s,t,e,n){const{pos:i,box:o}=e,r=s.maxPadding;if(!(0,c.i)(i)){e.size&&(s[i]-=e.size);const _=n[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,s[i]+=e.size}o.getPadding&&Vn(r,o.getPadding());const l=Math.max(0,t.outerWidth-ln(r,s,"left","right")),u=Math.max(0,t.outerHeight-ln(r,s,"top","bottom")),f=l!==s.w,b=u!==s.h;return s.w=l,s.h=u,e.horizontal?{same:f,other:b}:{same:b,other:f}}function yn(s){const t=s.maxPadding;function e(n){const i=Math.max(t[n]-s[n],0);return s[n]+=i,i}s.y+=e("top"),s.x+=e("left"),e("right"),e("bottom")}function _n(s,t){const e=t.maxPadding;function n(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(r=>{o[r]=Math.max(t[r],e[r])}),o}return n(s?["left","right"]:["top","bottom"])}function cn(s,t,e,n){const i=[];let o,r,l,u,f,b;for(o=0,r=s.length,f=0;o<r;++o){l=s[o],u=l.box,u.update(l.width||t.w,l.height||t.h,_n(l.horizontal,t));const{same:_,other:C}=ui(t,e,l,n);f|=_&&i.length,b=b||C,u.fullSize||i.push(l)}return f&&cn(i,t,e,n)||b}function Ne(s,t,e,n,i){s.top=e,s.left=t,s.right=t+n,s.bottom=e+i,s.width=n,s.height=i}function vn(s,t,e,n){const i=e.padding;let{x:o,y:r}=t;for(const l of s){const u=l.box,f=n[l.stack]||{count:1,placed:0,weight:1},b=l.stackWeight/f.weight||1;if(l.horizontal){const _=t.w*b,C=f.size||u.height;(0,c.h)(f.start)&&(r=f.start),u.fullSize?Ne(u,i.left,r,e.outerWidth-i.right-i.left,C):Ne(u,t.left+f.placed,r,_,C),f.start=r,f.placed+=_,r=u.bottom}else{const _=t.h*b,C=f.size||u.width;(0,c.h)(f.start)&&(o=f.start),u.fullSize?Ne(u,o,i.top,C,e.outerHeight-i.bottom-i.top):Ne(u,o,t.top+f.placed,C,_),f.start=o,f.placed+=_,o=u.right}}t.x=o,t.y=r}var xe={addBox(s,t){s.boxes||(s.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},s.boxes.push(t)},removeBox(s,t){const e=s.boxes?s.boxes.indexOf(t):-1;e!==-1&&s.boxes.splice(e,1)},configure(s,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(s,t,e,n){if(!s)return;const i=(0,c.E)(s.options.layout.padding),o=Math.max(t-i.width,0),r=Math.max(e-i.height,0),l=ci(s.boxes),u=l.vertical,f=l.horizontal;(0,c.F)(s.boxes,N=>{typeof N.beforeLayout=="function"&&N.beforeLayout()});const b=u.reduce((N,Q)=>Q.box.options&&Q.box.options.display===!1?N:N+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:i,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/b,hBoxMaxHeight:r/2}),C=Object.assign({},i);Vn(C,(0,c.E)(n));const E=Object.assign({maxPadding:C,w:o,h:r,x:i.left,y:i.top},i),R=Ri(u.concat(f),_);cn(l.fullSize,E,_,R),cn(u,E,_,R),cn(f,E,_,R)&&cn(u,E,_,R),yn(E),vn(l.leftAndTop,E,_,R),E.x+=E.w,E.y+=E.h,vn(l.rightAndBottom,E,_,R),s.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},(0,c.F)(l.chartArea,N=>{const Q=N.box;Object.assign(Q,s.chartArea),Q.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class hi{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class Ai extends hi{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const tn="$chartjs",Li={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},wn=s=>s===null||s==="";function un(s,t){const e=s.style,n=s.getAttribute("height"),i=s.getAttribute("width");if(s[tn]={initial:{height:n,width:i,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",wn(i)){const o=(0,c.J)(s,"width");o!==void 0&&(s.width=o)}if(wn(n))if(s.style.height==="")s.height=s.width/(t||2);else{const o=(0,c.J)(s,"height");o!==void 0&&(s.height=o)}return s}const di=c.K?{passive:!0}:!1;function Hn(s,t,e){s&&s.addEventListener(t,e,di)}function Ii(s,t,e){s&&s.canvas&&s.canvas.removeEventListener(t,e,di)}function fi(s,t){const e=Li[s.type]||s.type,{x:n,y:i}=(0,c.z)(s,t);return{type:e,chart:t,native:s,x:n!==void 0?n:null,y:i!==void 0?i:null}}function en(s,t){for(const e of s)if(e===t||e.contains(t))return!0}function hn(s,t,e){const n=s.canvas,i=new MutationObserver(o=>{let r=!1;for(const l of o)r=r||en(l.addedNodes,n),r=r&&!en(l.removedNodes,n);r&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}function jn(s,t,e){const n=s.canvas,i=new MutationObserver(o=>{let r=!1;for(const l of o)r=r||en(l.removedNodes,n),r=r&&!en(l.addedNodes,n);r&&e()});return i.observe(document,{childList:!0,subtree:!0}),i}const dn=new Map;let Un=0;function Yn(){const s=window.devicePixelRatio;s!==Un&&(Un=s,dn.forEach((t,e)=>{e.currentDevicePixelRatio!==s&&t()}))}function We(s,t){dn.size||window.addEventListener("resize",Yn),dn.set(s,t)}function Cn(s){dn.delete(s),dn.size||window.removeEventListener("resize",Yn)}function Fi(s,t,e){const n=s.canvas,i=n&&(0,c.I)(n);if(!i)return;const o=(0,c.L)((l,u)=>{const f=i.clientWidth;e(l,u),f<i.clientWidth&&e()},window),r=new ResizeObserver(l=>{const u=l[0],f=u.contentRect.width,b=u.contentRect.height;f===0&&b===0||o(f,b)});return r.observe(i),We(s,o),r}function $n(s,t,e){e&&e.disconnect(),t==="resize"&&Cn(s)}function Bi(s,t,e){const n=s.canvas,i=(0,c.L)(o=>{s.ctx!==null&&e(fi(o,s))},s);return Hn(n,t,i),i}class gi extends hi{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(un(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[tn])return!1;const n=e[tn].initial;["height","width"].forEach(o=>{const r=n[o];(0,c.k)(r)?e.removeAttribute(o):e.setAttribute(o,r)});const i=n.style||{};return Object.keys(i).forEach(o=>{e.style[o]=i[o]}),e.width=e.width,delete e[tn],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),r={attach:hn,detach:jn,resize:Fi}[e]||Bi;i[e]=r(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;({attach:$n,detach:$n,resize:$n}[e]||Ii)(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return(0,c.G)(t,e,n,i)}isAttached(t){const e=t&&(0,c.I)(t);return!!(e&&e.isConnected)}}function Xn(s){return!(0,c.M)()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?Ai:gi}class Me{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return(0,c.x)(this.x)&&(0,c.x)(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach(o=>{i[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),i}}function fn(s,t){const e=s.options.ticks,n=Ni(s),i=Math.min(e.maxTicksLimit||n,n),o=e.major.enabled?Gn(t):[],r=o.length,l=o[0],u=o[r-1],f=[];if(r>i)return pi(t,f,o,r/i),f;const b=Kn(o,t,i);if(r>0){let _,C;const E=r>1?Math.round((u-l)/(r-1)):null;for(ze(t,f,b,(0,c.k)(E)?0:l-E,l),_=0,C=r-1;_<C;_++)ze(t,f,b,o[_],o[_+1]);return ze(t,f,b,u,(0,c.k)(E)?t.length:u+E),f}return ze(t,f,b),f}function Ni(s){const t=s.options.offset,e=s._tickSize(),n=s._length/e+(t?0:1),i=s._maxLength/e;return Math.floor(Math.min(n,i))}function Kn(s,t,e){const n=Wi(s),i=t.length/e;if(!n)return Math.max(i,1);const o=(0,c.N)(n);for(let r=0,l=o.length-1;r<l;r++){const u=o[r];if(u>i)return u}return Math.max(i,1)}function Gn(s){const t=[];let e,n;for(e=0,n=s.length;e<n;e++)s[e].major&&t.push(e);return t}function pi(s,t,e,n){let i=0,o=e[0],r;for(n=Math.ceil(n),r=0;r<s.length;r++)r===o&&(t.push(s[r]),i++,o=e[i*n])}function ze(s,t,e,n,i){const o=(0,c.v)(n,0),r=Math.min((0,c.v)(i,s.length),s.length);let l=0,u,f,b;for(e=Math.ceil(e),i&&(u=i-n,e=u/Math.floor(u/e)),b=o;b<0;)l++,b=Math.round(o+l*e);for(f=Math.max(o,0);f<r;f++)f===b&&(t.push(s[f]),l++,b=Math.round(o+l*e))}function Wi(s){const t=s.length;let e,n;if(t<2)return!1;for(n=s[0],e=1;e<t;++e)if(s[e]-s[e-1]!==n)return!1;return n}const mi=s=>s==="left"?"right":s==="right"?"left":s,Sn=(s,t,e)=>t==="top"||t==="left"?s[t]+e:s[t]-e,Zn=(s,t)=>Math.min(t||s,s);function Qn(s,t){const e=[],n=s.length/t,i=s.length;let o=0;for(;o<i;o+=n)e.push(s[Math.floor(o)]);return e}function gn(s,t,e){const n=s.ticks.length,i=Math.min(t,n-1),o=s._startPixel,r=s._endPixel,l=1e-6;let u=s.getPixelForTick(i),f;if(!(e&&(n===1?f=Math.max(u-o,r-u):t===0?f=(s.getPixelForTick(1)-u)/2:f=(u-s.getPixelForTick(i-1))/2,u+=i<t?f:-f,u<o-l||u>r+l)))return u}function Pn(s,t){(0,c.F)(s,e=>{const n=e.gc,i=n.length/2;let o;if(i>t){for(o=0;o<i;++o)delete e.data[n[o]];n.splice(0,i)}})}function nn(s){return s.drawTicks?s.tickLength:0}function bi(s,t){if(!s.display)return 0;const e=(0,c.a0)(s.font,t),n=(0,c.E)(s.padding);return((0,c.b)(s.text)?s.text.length:1)*e.lineHeight+n.height}function xi(s,t){return(0,c.j)(s,{scale:t,type:"scale"})}function zi(s,t,e){return(0,c.j)(s,{tick:e,index:t,type:"tick"})}function Vi(s,t,e){let n=(0,c.a1)(s);return(e&&t!=="right"||!e&&t==="right")&&(n=mi(n)),n}function Jn(s,t,e,n){const{top:i,left:o,bottom:r,right:l,chart:u}=s,{chartArea:f,scales:b}=u;let _=0,C,E,R;const N=r-i,Q=l-o;if(s.isHorizontal()){if(E=(0,c.a2)(n,o,l),(0,c.i)(e)){const Z=Object.keys(e)[0],tt=e[Z];R=b[Z].getPixelForValue(tt)+N-t}else e==="center"?R=(f.bottom+f.top)/2+N-t:R=Sn(s,e,t);C=l-o}else{if((0,c.i)(e)){const Z=Object.keys(e)[0],tt=e[Z];E=b[Z].getPixelForValue(tt)-Q+t}else e==="center"?E=(f.left+f.right)/2-Q+t:E=Sn(s,e,t);R=(0,c.a2)(n,r,i),_=e==="left"?-c.H:c.H}return{titleX:E,titleY:R,maxWidth:C,rotation:_}}class Ve extends Me{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=(0,c.O)(t,Number.POSITIVE_INFINITY),e=(0,c.O)(e,Number.NEGATIVE_INFINITY),n=(0,c.O)(n,Number.POSITIVE_INFINITY),i=(0,c.O)(i,Number.NEGATIVE_INFINITY),{min:(0,c.O)(t,n),max:(0,c.O)(e,i),minDefined:(0,c.g)(t),maxDefined:(0,c.g)(e)}}getMinMax(t){let{min:e,max:n,minDefined:i,maxDefined:o}=this.getUserBounds(),r;if(i&&o)return{min:e,max:n};const l=this.getMatchingVisibleMetas();for(let u=0,f=l.length;u<f;++u)r=l[u].controller.getMinMax(this,t),i||(e=Math.min(e,r.min)),o||(n=Math.max(n,r.max));return e=o&&e>n?n:e,n=i&&e>n?e:n,{min:(0,c.O)(e,(0,c.O)(n,e)),max:(0,c.O)(n,(0,c.O)(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){(0,c.Q)(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:o,ticks:r}=this.options,l=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=(0,c.R)(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?Qn(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=fn(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){(0,c.Q)(this.options.afterUpdate,[this])}beforeSetDimensions(){(0,c.Q)(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){(0,c.Q)(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),(0,c.Q)(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){(0,c.Q)(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,o;for(n=0,i=t.length;n<i;n++)o=t[n],o.label=(0,c.Q)(e.callback,[o.value,n,t],this)}afterTickToLabelConversion(){(0,c.Q)(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){(0,c.Q)(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=Zn(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,o=e.maxRotation;let r=i,l,u,f;if(!this._isVisible()||!e.display||i>=o||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const b=this._getLabelSizes(),_=b.widest.width,C=b.highest.height,E=(0,c.S)(this.chart.width-_,0,this.maxWidth);l=t.offset?this.maxWidth/n:E/(n-1),_+6>l&&(l=E/(n-(t.offset?.5:1)),u=this.maxHeight-nn(t.grid)-e.padding-bi(t.title,this.chart.options.font),f=Math.sqrt(_*_+C*C),r=(0,c.U)(Math.min(Math.asin((0,c.S)((b.highest.height+6)/l,-1,1)),Math.asin((0,c.S)(u/f,-1,1))-Math.asin((0,c.S)(C/f,-1,1)))),r=Math.max(i,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){(0,c.Q)(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){(0,c.Q)(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:o}}=this,r=this._isVisible(),l=this.isHorizontal();if(r){const u=bi(i,e.options.font);if(l?(t.width=this.maxWidth,t.height=nn(o)+u):(t.height=this.maxHeight,t.width=nn(o)+u),n.display&&this.ticks.length){const{first:f,last:b,widest:_,highest:C}=this._getLabelSizes(),E=n.padding*2,R=(0,c.t)(this.labelRotation),N=Math.cos(R),Q=Math.sin(R);if(l){const Z=n.mirror?0:Q*_.width+N*C.height;t.height=Math.min(this.maxHeight,t.height+Z+E)}else{const Z=n.mirror?0:N*_.width+Q*C.height;t.width=Math.min(this.maxWidth,t.width+Z+E)}this._calculatePadding(f,b,Q,N)}}this._handleMargins(),l?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:o,padding:r},position:l}=this.options,u=this.labelRotation!==0,f=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const b=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let C=0,E=0;u?f?(C=i*t.width,E=n*e.height):(C=n*t.height,E=i*e.width):o==="start"?E=e.width:o==="end"?C=t.width:o!=="inner"&&(C=t.width/2,E=e.width/2),this.paddingLeft=Math.max((C-b+r)*this.width/(this.width-b),0),this.paddingRight=Math.max((E-_+r)*this.width/(this.width-_),0)}else{let b=e.height/2,_=t.height/2;o==="start"?(b=0,_=t.height):o==="end"&&(b=e.height,_=0),this.paddingTop=b+r,this.paddingBottom=_+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){(0,c.Q)(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)(0,c.k)(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=Qn(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:i,_longestTextCache:o}=this,r=[],l=[],u=Math.floor(e/Zn(e,n));let f=0,b=0,_,C,E,R,N,Q,Z,tt,pt,dt,at;for(_=0;_<e;_+=u){if(R=t[_].label,N=this._resolveTickFontOptions(_),i.font=Q=N.string,Z=o[Q]=o[Q]||{data:{},gc:[]},tt=N.lineHeight,pt=dt=0,!(0,c.k)(R)&&!(0,c.b)(R))pt=(0,c.V)(i,Z.data,Z.gc,pt,R),dt=tt;else if((0,c.b)(R))for(C=0,E=R.length;C<E;++C)at=R[C],!(0,c.k)(at)&&!(0,c.b)(at)&&(pt=(0,c.V)(i,Z.data,Z.gc,pt,at),dt+=tt);r.push(pt),l.push(dt),f=Math.max(pt,f),b=Math.max(dt,b)}Pn(o,e);const vt=r.indexOf(f),St=l.indexOf(b),Mt=zt=>({width:r[zt]||0,height:l[zt]||0});return{first:Mt(0),last:Mt(e-1),widest:Mt(vt),highest:Mt(St),widths:r,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return(0,c.W)(this._alignToPixels?(0,c.X)(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=zi(this.getContext(),t,n))}return this.$context||(this.$context=xi(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=(0,c.t)(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,l=o?o.widest.width+r:0,u=o?o.highest.height+r:0;return this.isHorizontal()?u*n>l*i?l/n:u/i:u*i<l*n?u/n:l/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:o,position:r,border:l}=i,u=o.offset,f=this.isHorizontal(),_=this.ticks.length+(u?1:0),C=nn(o),E=[],R=l.setContext(this.getContext()),N=R.display?R.width:0,Q=N/2,Z=function(fe){return(0,c.X)(n,fe,N)};let tt,pt,dt,at,vt,St,Mt,zt,Xt,Kt,Jt,ve;if(r==="top")tt=Z(this.bottom),St=this.bottom-C,zt=tt-Q,Kt=Z(t.top)+Q,ve=t.bottom;else if(r==="bottom")tt=Z(this.top),Kt=t.top,ve=Z(t.bottom)-Q,St=tt+Q,zt=this.top+C;else if(r==="left")tt=Z(this.right),vt=this.right-C,Mt=tt-Q,Xt=Z(t.left)+Q,Jt=t.right;else if(r==="right")tt=Z(this.left),Xt=t.left,Jt=Z(t.right)-Q,vt=tt+Q,Mt=this.left+C;else if(e==="x"){if(r==="center")tt=Z((t.top+t.bottom)/2+.5);else if((0,c.i)(r)){const fe=Object.keys(r)[0],be=r[fe];tt=Z(this.chart.scales[fe].getPixelForValue(be))}Kt=t.top,ve=t.bottom,St=tt+Q,zt=St+C}else if(e==="y"){if(r==="center")tt=Z((t.left+t.right)/2);else if((0,c.i)(r)){const fe=Object.keys(r)[0],be=r[fe];tt=Z(this.chart.scales[fe].getPixelForValue(be))}vt=tt-Q,Mt=vt-C,Xt=t.left,Jt=t.right}const Ae=(0,c.v)(i.ticks.maxTicksLimit,_),oe=Math.max(1,Math.ceil(_/Ae));for(pt=0;pt<_;pt+=oe){const fe=this.getContext(pt),be=o.setContext(fe),Ge=l.setContext(fe),we=be.lineWidth,ki=be.color,ss=Ge.dash||[],Oi=Ge.dashOffset,Ki=be.tickWidth,ri=be.tickColor,Gi=be.tickBorderDash||[],ai=be.tickBorderDashOffset;dt=gn(this,pt,u),dt!==void 0&&(at=(0,c.X)(n,dt,we),f?vt=Mt=Xt=Jt=at:St=zt=Kt=ve=at,E.push({tx1:vt,ty1:St,tx2:Mt,ty2:zt,x1:Xt,y1:Kt,x2:Jt,y2:ve,width:we,color:ki,borderDash:ss,borderDashOffset:Oi,tickWidth:Ki,tickColor:ri,tickBorderDash:Gi,tickBorderDashOffset:ai}))}return this._ticksLength=_,this._borderValue=tt,E}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:o}=n,r=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:f,padding:b,mirror:_}=o,C=nn(n.grid),E=C+b,R=_?-b:E,N=-(0,c.t)(this.labelRotation),Q=[];let Z,tt,pt,dt,at,vt,St,Mt,zt,Xt,Kt,Jt,ve="middle";if(i==="top")vt=this.bottom-R,St=this._getXAxisLabelAlignment();else if(i==="bottom")vt=this.top+R,St=this._getXAxisLabelAlignment();else if(i==="left"){const oe=this._getYAxisLabelAlignment(C);St=oe.textAlign,at=oe.x}else if(i==="right"){const oe=this._getYAxisLabelAlignment(C);St=oe.textAlign,at=oe.x}else if(e==="x"){if(i==="center")vt=(t.top+t.bottom)/2+E;else if((0,c.i)(i)){const oe=Object.keys(i)[0],fe=i[oe];vt=this.chart.scales[oe].getPixelForValue(fe)+E}St=this._getXAxisLabelAlignment()}else if(e==="y"){if(i==="center")at=(t.left+t.right)/2-E;else if((0,c.i)(i)){const oe=Object.keys(i)[0],fe=i[oe];at=this.chart.scales[oe].getPixelForValue(fe)}St=this._getYAxisLabelAlignment(C).textAlign}e==="y"&&(u==="start"?ve="top":u==="end"&&(ve="bottom"));const Ae=this._getLabelSizes();for(Z=0,tt=l.length;Z<tt;++Z){pt=l[Z],dt=pt.label;const oe=o.setContext(this.getContext(Z));Mt=this.getPixelForTick(Z)+o.labelOffset,zt=this._resolveTickFontOptions(Z),Xt=zt.lineHeight,Kt=(0,c.b)(dt)?dt.length:1;const fe=Kt/2,be=oe.color,Ge=oe.textStrokeColor,we=oe.textStrokeWidth;let ki=St;r?(at=Mt,St==="inner"&&(Z===tt-1?ki=this.options.reverse?"left":"right":Z===0?ki=this.options.reverse?"right":"left":ki="center"),i==="top"?f==="near"||N!==0?Jt=-Kt*Xt+Xt/2:f==="center"?Jt=-Ae.highest.height/2-fe*Xt+Xt:Jt=-Ae.highest.height+Xt/2:f==="near"||N!==0?Jt=Xt/2:f==="center"?Jt=Ae.highest.height/2-fe*Xt:Jt=Ae.highest.height-Kt*Xt,_&&(Jt*=-1),N!==0&&!oe.showLabelBackdrop&&(at+=Xt/2*Math.sin(N))):(vt=Mt,Jt=(1-Kt)*Xt/2);let ss;if(oe.showLabelBackdrop){const Oi=(0,c.E)(oe.backdropPadding),Ki=Ae.heights[Z],ri=Ae.widths[Z];let Gi=Jt-Oi.top,ai=0-Oi.left;switch(ve){case"middle":Gi-=Ki/2;break;case"bottom":Gi-=Ki;break}switch(St){case"center":ai-=ri/2;break;case"right":ai-=ri;break;case"inner":Z===tt-1?ai-=ri:Z>0&&(ai-=ri/2);break}ss={left:ai,top:Gi,width:ri+Oi.width,height:Ki+Oi.height,color:oe.backdropColor}}Q.push({label:dt,font:zt,textOffset:Jt,options:{rotation:N,color:be,strokeColor:Ge,strokeWidth:we,textAlign:ki,textBaseline:ve,translation:[at,vt],backdrop:ss}})}return Q}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-(0,c.t)(this.labelRotation))return t==="top"?"left":"right";let i="center";return e.align==="start"?i="left":e.align==="end"?i="right":e.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:o}}=this.options,r=this._getLabelSizes(),l=t+o,u=r.widest.width;let f,b;return e==="left"?i?(b=this.right+o,n==="near"?f="left":n==="center"?(f="center",b+=u/2):(f="right",b+=u)):(b=this.right-l,n==="near"?f="right":n==="center"?(f="center",b-=u/2):(f="left",b=this.left)):e==="right"?i?(b=this.left+o,n==="near"?f="right":n==="center"?(f="center",b-=u/2):(f="left",b-=u)):(b=this.left+l,n==="near"?f="left":n==="center"?(f="center",b+=u/2):(f="right",b=this.right)):f="right",{textAlign:f,x:b}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:o,height:r}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,o,r),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex(o=>o.value===t);return i>=0?e.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,r;const l=(u,f,b)=>{!b.width||!b.color||(n.save(),n.lineWidth=b.width,n.strokeStyle=b.color,n.setLineDash(b.borderDash||[]),n.lineDashOffset=b.borderDashOffset,n.beginPath(),n.moveTo(u.x,u.y),n.lineTo(f.x,f.y),n.stroke(),n.restore())};if(e.display)for(o=0,r=i.length;o<r;++o){const u=i[o];e.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),e.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:i}}=this,o=n.setContext(this.getContext()),r=n.display?o.width:0;if(!r)return;const l=i.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let f,b,_,C;this.isHorizontal()?(f=(0,c.X)(t,this.left,r)-r/2,b=(0,c.X)(t,this.right,l)+l/2,_=C=u):(_=(0,c.X)(t,this.top,r)-r/2,C=(0,c.X)(t,this.bottom,l)+l/2,f=b=u),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(f,_),e.lineTo(b,C),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&(0,c.Y)(n,i);const o=this.getLabelItems(t);for(const r of o){const l=r.options,u=r.font,f=r.label,b=r.textOffset;(0,c.Z)(n,f,0,b,u,l)}i&&(0,c.$)(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const o=(0,c.a0)(n.font),r=(0,c.E)(n.padding),l=n.align;let u=o.lineHeight/2;e==="bottom"||e==="center"||(0,c.i)(e)?(u+=r.bottom,(0,c.b)(n.text)&&(u+=o.lineHeight*(n.text.length-1))):u+=r.top;const{titleX:f,titleY:b,maxWidth:_,rotation:C}=Jn(this,u,e,l);(0,c.Z)(t,n.text,0,0,o,{color:n.color,maxWidth:_,rotation:C,textAlign:Vi(l,e,i),textBaseline:"middle",translation:[f,b]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=(0,c.v)(t.grid&&t.grid.z,-1),i=(0,c.v)(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ve.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let o,r;for(o=0,r=e.length;o<r;++o){const l=e[o];l[n]===this.id&&(!t||l.type===t)&&i.push(l)}return i}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return(0,c.a0)(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class sn{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;Hi(e)&&(n=this.register(e));const i=this.items,o=t.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in i||(i[o]=t,pn(t,r,n),this.override&&c.d.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in c.d[i]&&(delete c.d[i][n],this.override&&delete c.a3[n])}}function pn(s,t,e){const n=(0,c.a4)(Object.create(null),[e?c.d.get(e):{},c.d.get(t),s.defaults]);c.d.set(t,n),s.defaultRoutes&&yi(t,s.defaultRoutes),s.descriptors&&c.d.describe(t,s.descriptors)}function yi(s,t){Object.keys(t).forEach(e=>{const n=e.split("."),i=n.pop(),o=[s].concat(n).join("."),r=t[e].split("."),l=r.pop(),u=r.join(".");c.d.route(o,i,u,l)})}function Hi(s){return"id"in s&&"defaults"in s}class En{constructor(){this.controllers=new sn(rt,"datasets",!0),this.elements=new sn(Me,"elements"),this.plugins=new sn(Object,"plugins"),this.scales=new sn(Ve,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(i=>{const o=n||this._getRegistryForType(i);n||o.isForType(i)||o===this.plugins&&i.id?this._exec(t,o,i):(0,c.F)(i,r=>{const l=n||this._getRegistryForType(r);this._exec(t,l,r)})})}_exec(t,e,n){const i=(0,c.a5)(t);(0,c.Q)(n["before"+i],[],n),e[t](n),(0,c.Q)(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var Ce=new En;class _i{constructor(){this._init=[]}notify(t,e,n,i){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=i?this._descriptors(t).filter(i):this._descriptors(t),r=this._notify(o,t,e,n);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,e,n,i){i=i||{};for(const o of t){const r=o.plugin,l=r[n],u=[e,i,o.options];if((0,c.Q)(l,u,r)===!1&&i.cancelable)return!1}return!0}invalidate(){(0,c.k)(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=(0,c.v)(n.options&&n.options.plugins,{}),o=vi(n);return i===!1&&!e?[]:Mn(t,o,i,e)}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(o,r)=>o.filter(l=>!r.some(u=>l.plugin.id===u.plugin.id));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function vi(s){const t={},e=[],n=Object.keys(Ce.plugins.items);for(let o=0;o<n.length;o++)e.push(Ce.getPlugin(n[o]));const i=s.plugins||[];for(let o=0;o<i.length;o++){const r=i[o];e.indexOf(r)===-1&&(e.push(r),t[r.id]=!0)}return{plugins:e,localIds:t}}function wi(s,t){return!t&&s===!1?null:s===!0?{}:s}function Mn(s,{plugins:t,localIds:e},n,i){const o=[],r=s.getContext();for(const l of t){const u=l.id,f=wi(n[u],i);f!==null&&o.push({plugin:l,options:ji(s.config,{plugin:l,local:e[u]},f,r)})}return o}function ji(s,{plugin:t,local:e},n,i){const o=s.pluginScopeKeys(t),r=s.getOptionScopes(n,o);return e&&t.defaults&&r.push(t.defaults),s.createResolver(r,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Tn(s,t){const e=c.d.datasets[s]||{};return((t.datasets||{})[s]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function qn(s,t){let e=s;return s==="_index_"?e=t:s==="_value_"&&(e=t==="x"?"y":"x"),e}function on(s,t){return s===t?"_index_":"_value_"}function Ci(s){if(s==="x"||s==="y"||s==="r")return s}function kn(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function Xe(s,...t){if(Ci(s))return s;for(const e of t){const n=e.axis||kn(e.position)||s.length>1&&Ci(s[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function ti(s,t,e){if(e[t+"AxisID"]===s)return{axis:t}}function Ui(s,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(n=>n.xAxisID===s||n.yAxisID===s);if(e.length)return ti(s,"x",e[0])||ti(s,"y",e[0])}return{}}function He(s,t){const e=c.a3[s.type]||{scales:{}},n=t.scales||{},i=Tn(s.type,t),o=Object.create(null);return Object.keys(n).forEach(r=>{const l=n[r];if(!(0,c.i)(l))return console.error(`Invalid scale configuration for scale: ${r}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const u=Xe(r,l,Ui(r,s),c.d.scales[l.type]),f=on(u,i),b=e.scales||{};o[r]=(0,c.ab)(Object.create(null),[{axis:u},l,b[u],b[f]])}),s.data.datasets.forEach(r=>{const l=r.type||s.type,u=r.indexAxis||Tn(l,t),b=(c.a3[l]||{}).scales||{};Object.keys(b).forEach(_=>{const C=qn(_,u),E=r[C+"AxisID"]||C;o[E]=o[E]||Object.create(null),(0,c.ab)(o[E],[{axis:C},n[E],b[_]])})}),Object.keys(o).forEach(r=>{const l=o[r];(0,c.ab)(l,[c.d.scales[l.type],c.d.scale])}),o}function Si(s){const t=s.options||(s.options={});t.plugins=(0,c.v)(t.plugins,{}),t.scales=He(s,t)}function Ke(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function ei(s){return s=s||{},s.data=Ke(s.data),Si(s),s}const On=new Map,Dn=new Set;function Rn(s,t){let e=On.get(s);return e||(e=t(),On.set(s,e),Dn.add(e)),e}const mn=(s,t,e)=>{const n=(0,c.f)(t,e);n!==void 0&&s.add(n)};class An{constructor(t){this._config=ei(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Ke(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Si(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Rn(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Rn(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Rn(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,n=this.type;return Rn(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return(!i||e)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:o}=this,r=this._cachedScopes(t,n),l=r.get(e);if(l)return l;const u=new Set;e.forEach(b=>{t&&(u.add(t),b.forEach(_=>mn(u,t,_))),b.forEach(_=>mn(u,i,_)),b.forEach(_=>mn(u,c.a3[o]||{},_)),b.forEach(_=>mn(u,c.d,_)),b.forEach(_=>mn(u,c.a6,_))});const f=Array.from(u);return f.length===0&&f.push(Object.create(null)),Dn.has(e)&&r.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,c.a3[e]||{},c.d.datasets[e]||{},{type:e},c.d,c.a6]}resolveNamedOptions(t,e,n,i=[""]){const o={$shared:!0},{resolver:r,subPrefixes:l}=Pi(this._resolverCache,t,i);let u=r;if(ni(r,e)){o.$shared=!1,n=(0,c.a7)(n)?n():n;const f=this.createResolver(t,n,l);u=(0,c.a8)(r,n,f)}for(const f of e)o[f]=u[f];return o}createResolver(t,e,n=[""],i){const{resolver:o}=Pi(this._resolverCache,t,n);return(0,c.i)(e)?(0,c.a8)(o,e,void 0,i):o}}function Pi(s,t,e){let n=s.get(t);n||(n=new Map,s.set(t,n));const i=e.join();let o=n.get(i);return o||(o={resolver:(0,c.a9)(t,e),subPrefixes:e.filter(l=>!l.toLowerCase().includes("hover"))},n.set(i,o)),o}const Ei=s=>(0,c.i)(s)&&Object.getOwnPropertyNames(s).some(t=>(0,c.a7)(s[t]));function ni(s,t){const{isScriptable:e,isIndexable:n}=(0,c.aa)(s);for(const i of t){const o=e(i),r=n(i),l=(r||o)&&s[i];if(o&&((0,c.a7)(l)||Ei(l))||r&&(0,c.b)(l))return!0}return!1}var Ln="4.4.6";const In=["top","bottom","left","right","chartArea"];function bn(s,t){return s==="top"||s==="bottom"||In.indexOf(s)===-1&&t==="x"}function Mi(s,t){return function(e,n){return e[s]===n[s]?e[t]-n[t]:e[s]-n[s]}}function Re(s){const t=s.chart,e=t.options.animation;t.notifyPlugins("afterRender"),(0,c.Q)(e&&e.onComplete,[s],t)}function je(s){const t=s.chart,e=t.options.animation;(0,c.Q)(e&&e.onProgress,[s],t)}function Ti(s){return(0,c.M)()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const Fn={},rn=s=>{const t=Ti(s);return Object.values(Fn).filter(e=>e.canvas===t).pop()};function Yi(s,t,e){const n=Object.keys(s);for(const i of n){const o=+i;if(o>=t){const r=s[i];delete s[i],(e>0||o>t)&&(s[o+e]=r)}}}function Bn(s,t,e,n){return!e||s.type==="mouseout"?null:n?t:s}function d(s,t,e){return s.options.clip?s[e]:t[e]}function h(s,t){const{xScale:e,yScale:n}=s;return e&&n?{left:d(e,t,"left"),right:d(e,t,"right"),top:d(n,t,"top"),bottom:d(n,t,"bottom")}:t}class p{static defaults=c.d;static instances=Fn;static overrides=c.a3;static registry=Ce;static version=Ln;static getChart=rn;static register(...t){Ce.add(...t),x()}static unregister(...t){Ce.remove(...t),x()}constructor(t,e){const n=this.config=new An(e),i=Ti(t),o=rn(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Xn(i)),this.platform.updateConfig(n);const l=this.platform.acquireContext(i,r.aspectRatio),u=l&&l.canvas,f=u&&u.height,b=u&&u.width;if(this.id=(0,c.ac)(),this.ctx=l,this.canvas=u,this.width=b,this.height=f,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new _i,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(0,c.ad)(_=>this.update(_),r.resizeDelay||0),this._dataChanges=[],Fn[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}K.listen(this,"complete",Re),K.listen(this,"progress",je),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:o}=this;return(0,c.k)(t)?e&&o?o:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ce}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():(0,c.ae)(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return(0,c.af)(this.canvas,this.ctx),this}stop(){return K.stop(this),this}resize(t,e){K.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,i=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(i,t,e,o),l=n.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,(0,c.ae)(this,l,!0)&&(this.notifyPlugins("resize",{size:r}),(0,c.Q)(n.onResize,[this,r],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};(0,c.F)(e,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce((r,l)=>(r[l]=!1,r),{});let o=[];e&&(o=o.concat(Object.keys(e).map(r=>{const l=e[r],u=Xe(r,l),f=u==="r",b=u==="x";return{options:l,dposition:f?"chartArea":b?"bottom":"left",dtype:f?"radialLinear":b?"category":"linear"}}))),(0,c.F)(o,r=>{const l=r.options,u=l.id,f=Xe(u,l),b=(0,c.v)(l.type,r.dtype);(l.position===void 0||bn(l.position,f)!==bn(r.dposition))&&(l.position=r.dposition),i[u]=!0;let _=null;if(u in n&&n[u].type===b)_=n[u];else{const C=Ce.getScale(b);_=new C({id:u,type:b,ctx:this.ctx,chart:this}),n[_.id]=_}_.init(l,t)}),(0,c.F)(i,(r,l)=>{r||delete n[l]}),(0,c.F)(n,r=>{xe.configure(this,r,r.options),xe.addBox(this,r)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort((i,o)=>i.index-o.index),n>e){for(let i=e;i<n;++i)this._destroyDatasetMeta(i);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(Mi("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((n,i)=>{e.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const o=e[n];let r=this.getDatasetMeta(n);const l=o.type||this.config.type;if(r.type&&r.type!==l&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=l,r.indexAxis=o.indexAxis||Tn(l,this.options),r.order=o.order||0,r.index=n,r.label=""+o.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const u=Ce.getController(l),{datasetElementType:f,dataElementType:b}=c.d.datasets[l];Object.assign(u,{dataElementType:Ce.getElement(b),datasetElementType:f&&Ce.getElement(f)}),r.controller=new u(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){(0,c.F)(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let f=0,b=this.data.datasets.length;f<b;f++){const{controller:_}=this.getDatasetMeta(f),C=!i&&o.indexOf(_)===-1;_.buildOrUpdateElements(C),r=Math.max(+_.getMaxOverflow(),r)}r=this._minPadding=n.layout.autoPadding?r:0,this._updateLayout(r),i||(0,c.F)(o,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Mi("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){(0,c.F)(this.scales,t=>{xe.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!(0,c.ag)(e,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:o}of e){const r=n==="_removeElements"?-o:o;Yi(t,i,r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=o=>new Set(t.filter(r=>r[0]===o).map((r,l)=>l+","+r.splice(1).join(","))),i=n(0);for(let o=1;o<e;o++)if(!(0,c.ag)(i,n(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xe.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],(0,c.F)(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,n=this.data.datasets.length;e<n;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,(0,c.a7)(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(K.has(this)?this.attached&&!K.running(this)&&K.start(this):(this.draw(),Re({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,o;for(i=0,o=e.length;i<o;++i){const r=e[i];(!t||r.visible)&&n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,i=!n.disabled,o=h(t,this.chartArea),r={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&(0,c.Y)(e,{left:n.left===!1?0:o.left-n.left,right:n.right===!1?this.width:o.right+n.right,top:n.top===!1?0:o.top-n.top,bottom:n.bottom===!1?this.height:o.bottom+n.bottom}),t.controller.draw(),i&&(0,c.$)(e),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return(0,c.C)(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,i){const o=Fe.modes[e];return typeof o=="function"?o(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter(o=>o&&o._dataset===e).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=(0,c.j)(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!e.hidden}setDatasetVisibility(t,e){const n=this.getDatasetMeta(t);n.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",o=this.getDatasetMeta(t),r=o.controller._resolveAnimations(void 0,i);(0,c.h)(e)?(o.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),r.update(o,{visible:n}),this.update(l=>l.datasetIndex===t?i:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),K.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),(0,c.af)(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Fn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(o,r)=>{e.addEventListener(this,o,r),t[o]=r},i=(o,r,l)=>{o.offsetX=r,o.offsetY=l,this._eventHandler(o)};(0,c.F)(this.options.events,o=>n(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(u,f)=>{e.addEventListener(this,u,f),t[u]=f},i=(u,f)=>{t[u]&&(e.removeEventListener(this,u,f),delete t[u])},o=(u,f)=>{this.canvas&&this.resize(u,f)};let r;const l=()=>{i("attach",l),this.attached=!0,this.resize(),n("resize",o),n("detach",r)};r=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),n("attach",l)},e.isAttached(this.canvas)?l():r()}unbindEvents(){(0,c.F)(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},(0,c.F)(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let o,r,l,u;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),l=0,u=t.length;l<u;++l){r=t[l];const f=r&&this.getDatasetMeta(r.datasetIndex).controller;f&&f[i+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map(({datasetIndex:o,index:r})=>{const l=this.getDatasetMeta(o);if(!l)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:l.data[r],index:r}});!(0,c.ah)(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,n){const i=this.options.hover,o=(u,f)=>u.filter(b=>!f.some(_=>b.datasetIndex===_.datasetIndex&&b.index===_.index)),r=o(e,t),l=n?t:o(t,e);r.length&&this.updateHoverStyle(r,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=r=>(r.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const o=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(o||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:o}=this,r=e,l=this._getActiveElements(t,i,n,r),u=(0,c.ai)(t),f=Bn(t,this._lastEvent,n,u);n&&(this._lastEvent=null,(0,c.Q)(o.onHover,[t,l,this],this),u&&(0,c.Q)(o.onClick,[t,l,this],this));const b=!(0,c.ah)(l,i);return(b||e)&&(this._active=l,this._updateHoverStyles(l,i,e)),this._lastEvent=f,b}_getActiveElements(t,e,n,i){if(t.type==="mouseout")return[];if(!n)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,i)}}function x(){return(0,c.F)(p.instances,s=>s._plugins.invalidate())}function w(s,t,e){const{startAngle:n,pixelMargin:i,x:o,y:r,outerRadius:l,innerRadius:u}=t;let f=i/l;s.beginPath(),s.arc(o,r,l,n-f,e+f),u>i?(f=i/u,s.arc(o,r,u,e+f,n-f,!0)):s.arc(o,r,i,e+c.H,n-c.H),s.closePath(),s.clip()}function S(s){return(0,c.ak)(s,["outerStart","outerEnd","innerStart","innerEnd"])}function P(s,t,e,n){const i=S(s.options.borderRadius),o=(e-t)/2,r=Math.min(o,n*t/2),l=u=>{const f=(e-Math.min(o,u))*n/2;return(0,c.S)(u,0,Math.min(o,f))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:(0,c.S)(i.innerStart,0,r),innerEnd:(0,c.S)(i.innerEnd,0,r)}}function D(s,t,e,n){return{x:e+s*Math.cos(t),y:n+s*Math.sin(t)}}function V(s,t,e,n,i,o){const{x:r,y:l,startAngle:u,pixelMargin:f,innerRadius:b}=t,_=Math.max(t.outerRadius+n+e-f,0),C=b>0?b+n+e+f:0;let E=0;const R=i-u;if(n){const oe=b>0?b-n:0,fe=_>0?_-n:0,be=(oe+fe)/2,Ge=be!==0?R*be/(be+n):R;E=(R-Ge)/2}const N=Math.max(.001,R*_-e/c.P)/_,Q=(R-N)/2,Z=u+Q+E,tt=i-Q-E,{outerStart:pt,outerEnd:dt,innerStart:at,innerEnd:vt}=P(t,C,_,tt-Z),St=_-pt,Mt=_-dt,zt=Z+pt/St,Xt=tt-dt/Mt,Kt=C+at,Jt=C+vt,ve=Z+at/Kt,Ae=tt-vt/Jt;if(s.beginPath(),o){const oe=(zt+Xt)/2;if(s.arc(r,l,_,zt,oe),s.arc(r,l,_,oe,Xt),dt>0){const we=D(Mt,Xt,r,l);s.arc(we.x,we.y,dt,Xt,tt+c.H)}const fe=D(Jt,tt,r,l);if(s.lineTo(fe.x,fe.y),vt>0){const we=D(Jt,Ae,r,l);s.arc(we.x,we.y,vt,tt+c.H,Ae+Math.PI)}const be=(tt-vt/C+(Z+at/C))/2;if(s.arc(r,l,C,tt-vt/C,be,!0),s.arc(r,l,C,be,Z+at/C,!0),at>0){const we=D(Kt,ve,r,l);s.arc(we.x,we.y,at,ve+Math.PI,Z-c.H)}const Ge=D(St,Z,r,l);if(s.lineTo(Ge.x,Ge.y),pt>0){const we=D(St,zt,r,l);s.arc(we.x,we.y,pt,Z-c.H,zt)}}else{s.moveTo(r,l);const oe=Math.cos(zt)*_+r,fe=Math.sin(zt)*_+l;s.lineTo(oe,fe);const be=Math.cos(Xt)*_+r,Ge=Math.sin(Xt)*_+l;s.lineTo(be,Ge)}s.closePath()}function J(s,t,e,n,i){const{fullCircles:o,startAngle:r,circumference:l}=t;let u=t.endAngle;if(o){V(s,t,e,n,u,i);for(let f=0;f<o;++f)s.fill();isNaN(l)||(u=r+(l%c.T||c.T))}return V(s,t,e,n,u,i),s.fill(),u}function yt(s,t,e,n,i){const{fullCircles:o,startAngle:r,circumference:l,options:u}=t,{borderWidth:f,borderJoinStyle:b,borderDash:_,borderDashOffset:C}=u,E=u.borderAlign==="inner";if(!f)return;s.setLineDash(_||[]),s.lineDashOffset=C,E?(s.lineWidth=f*2,s.lineJoin=b||"round"):(s.lineWidth=f,s.lineJoin=b||"bevel");let R=t.endAngle;if(o){V(s,t,e,n,R,i);for(let N=0;N<o;++N)s.stroke();isNaN(l)||(R=r+(l%c.T||c.T))}E&&w(s,t,R),o||(V(s,t,e,n,R,i),s.stroke())}class Ot extends Me{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.getProps(["x","y"],n),{angle:o,distance:r}=(0,c.D)(i,{x:t,y:e}),{startAngle:l,endAngle:u,innerRadius:f,outerRadius:b,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),C=(this.options.spacing+this.options.borderWidth)/2,E=(0,c.v)(_,u-l),R=(0,c.p)(o,l,u)&&l!==u,N=E>=c.T||R,Q=(0,c.aj)(r,f+C,b+C);return N&&Q}getCenterPoint(t){const{x:e,y:n,startAngle:i,endAngle:o,innerRadius:r,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:u,spacing:f}=this.options,b=(i+o)/2,_=(r+l+f+u)/2;return{x:e+Math.cos(b)*_,y:n+Math.sin(b)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,i=(e.offset||0)/4,o=(e.spacing||0)/2,r=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=n>c.T?Math.floor(n/c.T):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*i,Math.sin(l)*i);const u=1-Math.sin(Math.min(c.P,n||0)),f=i*u;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,J(t,this,f,o,r),yt(t,this,f,o,r),t.restore()}}function Bt(s,t,e=t){s.lineCap=(0,c.v)(e.borderCapStyle,t.borderCapStyle),s.setLineDash((0,c.v)(e.borderDash,t.borderDash)),s.lineDashOffset=(0,c.v)(e.borderDashOffset,t.borderDashOffset),s.lineJoin=(0,c.v)(e.borderJoinStyle,t.borderJoinStyle),s.lineWidth=(0,c.v)(e.borderWidth,t.borderWidth),s.strokeStyle=(0,c.v)(e.borderColor,t.borderColor)}function se(s,t,e){s.lineTo(e.x,e.y)}function le(s){return s.stepped?c.ar:s.tension||s.cubicInterpolationMode==="monotone"?c.as:se}function Se(s,t,e={}){const n=s.length,{start:i=0,end:o=n-1}=e,{start:r,end:l}=t,u=Math.max(i,r),f=Math.min(o,l),b=i<r&&o<r||i>l&&o>l;return{count:n,start:u,loop:t.loop,ilen:f<u&&!b?n+f-u:f-u}}function Ue(s,t,e,n){const{points:i,options:o}=t,{count:r,start:l,loop:u,ilen:f}=Se(i,e,n),b=le(o);let{move:_=!0,reverse:C}=n||{},E,R,N;for(E=0;E<=f;++E)R=i[(l+(C?f-E:E))%r],!R.skip&&(_?(s.moveTo(R.x,R.y),_=!1):b(s,N,R,C,o.stepped),N=R);return u&&(R=i[(l+(C?f:0))%r],b(s,N,R,C,o.stepped)),!!u}function Pe(s,t,e,n){const i=t.points,{count:o,start:r,ilen:l}=Se(i,e,n),{move:u=!0,reverse:f}=n||{};let b=0,_=0,C,E,R,N,Q,Z;const tt=dt=>(r+(f?l-dt:dt))%o,pt=()=>{N!==Q&&(s.lineTo(b,Q),s.lineTo(b,N),s.lineTo(b,Z))};for(u&&(E=i[tt(0)],s.moveTo(E.x,E.y)),C=0;C<=l;++C){if(E=i[tt(C)],E.skip)continue;const dt=E.x,at=E.y,vt=dt|0;vt===R?(at<N?N=at:at>Q&&(Q=at),b=(_*b+dt)/++_):(pt(),s.lineTo(dt,at),R=vt,_=0,N=Q=at),Z=at}pt()}function ye(s){const t=s.options,e=t.borderDash&&t.borderDash.length;return!s._decimated&&!s._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?Pe:Ue}function Ye(s){return s.stepped?c.ao:s.tension||s.cubicInterpolationMode==="monotone"?c.ap:c.aq}function $e(s,t,e,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,e,n)&&i.closePath()),Bt(s,t.options),s.stroke(i)}function ii(s,t,e,n){const{segments:i,options:o}=t,r=ye(t);for(const l of i)Bt(s,o,l.style),s.beginPath(),r(s,t,l,{start:e,end:e+n-1})&&s.closePath(),s.stroke()}const Zi=typeof Path2D=="function";function os(s,t,e,n){Zi&&!t.options.segment?$e(s,t,e,n):ii(s,t,e,n)}class a extends Me{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;(0,c.al)(this._points,n,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=(0,c.am)(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,i=t[e],o=this.points,r=(0,c.an)(this,{property:e,start:i,end:i});if(!r.length)return;const l=[],u=Ye(n);let f,b;for(f=0,b=r.length;f<b;++f){const{start:_,end:C}=r[f],E=o[_],R=o[C];if(E===R){l.push(E);continue}const N=Math.abs((i-E[e])/(R[e]-E[e])),Q=u(E,R,N,n.stepped);Q[e]=t[e],l.push(Q)}return l.length===1?l[0]:l}pathSegment(t,e,n){return ye(this)(t,this,e,n)}path(t,e,n){const i=this.segments,o=ye(this);let r=this._loop;e=e||0,n=n||this.points.length-e;for(const l of i)r&=o(t,this,l,{start:e,end:e+n-1});return!!r}draw(t,e,n,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),os(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function g(s,t,e,n){const i=s.options,{[e]:o}=s.getProps([e],n);return Math.abs(t-o)<i.radius+i.hitRadius}class m extends Me{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.options,{x:o,y:r}=this.getProps(["x","y"],n);return Math.pow(t-o,2)+Math.pow(e-r,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return g(this,t,"x",e)}inYRange(t,e){return g(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const n=e&&t.borderWidth||0;return(e+n)*2}draw(t,e){const n=this.options;this.skip||n.radius<.1||!(0,c.C)(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,(0,c.at)(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function y(s,t){const{x:e,y:n,base:i,width:o,height:r}=s.getProps(["x","y","base","width","height"],t);let l,u,f,b,_;return s.horizontal?(_=r/2,l=Math.min(e,i),u=Math.max(e,i),f=n-_,b=n+_):(_=o/2,l=e-_,u=e+_,f=Math.min(n,i),b=Math.max(n,i)),{left:l,top:f,right:u,bottom:b}}function v(s,t,e,n){return s?0:(0,c.S)(t,e,n)}function M(s,t,e){const n=s.options.borderWidth,i=s.borderSkipped,o=(0,c.av)(n);return{t:v(i.top,o.top,0,e),r:v(i.right,o.right,0,t),b:v(i.bottom,o.bottom,0,e),l:v(i.left,o.left,0,t)}}function O(s,t,e){const{enableBorderRadius:n}=s.getProps(["enableBorderRadius"]),i=s.options.borderRadius,o=(0,c.aw)(i),r=Math.min(t,e),l=s.borderSkipped,u=n||(0,c.i)(i);return{topLeft:v(!u||l.top||l.left,o.topLeft,0,r),topRight:v(!u||l.top||l.right,o.topRight,0,r),bottomLeft:v(!u||l.bottom||l.left,o.bottomLeft,0,r),bottomRight:v(!u||l.bottom||l.right,o.bottomRight,0,r)}}function A(s){const t=y(s),e=t.right-t.left,n=t.bottom-t.top,i=M(s,e/2,n/2),o=O(s,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:o},inner:{x:t.left+i.l,y:t.top+i.t,w:e-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function H(s,t,e,n){const i=t===null,o=e===null,l=s&&!(i&&o)&&y(s,n);return l&&(i||(0,c.aj)(t,l.left,l.right))&&(o||(0,c.aj)(e,l.top,l.bottom))}function st(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function gt(s,t){s.rect(t.x,t.y,t.w,t.h)}function At(s,t,e={}){const n=s.x!==e.x?-t:0,i=s.y!==e.y?-t:0,o=(s.x+s.w!==e.x+e.w?t:0)-n,r=(s.y+s.h!==e.y+e.h?t:0)-i;return{x:s.x+n,y:s.y+i,w:s.w+o,h:s.h+r,radius:s.radius}}class Wt extends Me{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:o,outer:r}=A(this),l=st(r.radius)?c.au:gt;t.save(),(r.w!==o.w||r.h!==o.h)&&(t.beginPath(),l(t,At(r,e,o)),t.clip(),l(t,At(o,-e,r)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),l(t,At(o,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return H(this,t,e,n)}inXRange(t,e){return H(this,t,null,e)}inYRange(t,e){return H(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+i)/2:e,y:o?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var ie=Object.freeze({__proto__:null,ArcElement:Ot,BarElement:Wt,LineElement:a,PointElement:m});const de=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Vt=de.map(s=>s.replace("rgb(","rgba(").replace(")",", 0.5)"));function Dt(s){return de[s%de.length]}function _e(s){return Vt[s%Vt.length]}function Nn(s,t){return s.borderColor=Dt(t),s.backgroundColor=_e(t),++t}function si(s,t){return s.backgroundColor=s.data.map(()=>Dt(t++)),t}function rs(s,t){return s.backgroundColor=s.data.map(()=>_e(t++)),t}function as(s){let t=0;return(e,n)=>{const i=s.getDatasetMeta(n).controller;i instanceof F?t=si(e,t):i instanceof ht?t=rs(e,t):i&&(t=Nn(e,t))}}function Qi(s){let t;for(t in s)if(s[t].borderColor||s[t].backgroundColor)return!0;return!1}function ls(s){return s&&(s.borderColor||s.backgroundColor)}function Wn(){return c.d.borderColor!=="rgba(0,0,0,0.1)"||c.d.backgroundColor!=="rgba(0,0,0,0.1)"}var Ji={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(s,t,e){if(!e.enabled)return;const{data:{datasets:n},options:i}=s.config,{elements:o}=i,r=Qi(n)||ls(i)||o&&Qi(o)||Wn();if(!e.forceOverride&&r)return;const l=as(s);n.forEach(l)}};function Xs(s,t,e,n,i){const o=i.samples||n;if(o>=e)return s.slice(t,t+e);const r=[],l=(e-2)/(o-2);let u=0;const f=t+e-1;let b=t,_,C,E,R,N;for(r[u++]=s[b],_=0;_<o-2;_++){let Q=0,Z=0,tt;const pt=Math.floor((_+1)*l)+1+t,dt=Math.min(Math.floor((_+2)*l)+1,e)+t,at=dt-pt;for(tt=pt;tt<dt;tt++)Q+=s[tt].x,Z+=s[tt].y;Q/=at,Z/=at;const vt=Math.floor(_*l)+1+t,St=Math.min(Math.floor((_+1)*l)+1,e)+t,{x:Mt,y:zt}=s[b];for(E=R=-1,tt=vt;tt<St;tt++)R=.5*Math.abs((Mt-Q)*(s[tt].y-zt)-(Mt-s[tt].x)*(Z-zt)),R>E&&(E=R,C=s[tt],N=tt);r[u++]=C,b=N}return r[u++]=s[f],r}function Ks(s,t,e,n){let i=0,o=0,r,l,u,f,b,_,C,E,R,N;const Q=[],Z=t+e-1,tt=s[t].x,dt=s[Z].x-tt;for(r=t;r<t+e;++r){l=s[r],u=(l.x-tt)/dt*n,f=l.y;const at=u|0;if(at===b)f<R?(R=f,_=r):f>N&&(N=f,C=r),i=(o*i+l.x)/++o;else{const vt=r-1;if(!(0,c.k)(_)&&!(0,c.k)(C)){const St=Math.min(_,C),Mt=Math.max(_,C);St!==E&&St!==vt&&Q.push({...s[St],x:i}),Mt!==E&&Mt!==vt&&Q.push({...s[Mt],x:i})}r>0&&vt!==E&&Q.push(s[vt]),Q.push(l),b=at,o=0,R=N=f,_=C=E=r}}return Q}function ms(s){if(s._decimated){const t=s._data;delete s._decimated,delete s._data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function bs(s){s.data.datasets.forEach(t=>{ms(t)})}function Gs(s,t){const e=t.length;let n=0,i;const{iScale:o}=s,{min:r,max:l,minDefined:u,maxDefined:f}=o.getUserBounds();return u&&(n=(0,c.S)((0,c.B)(t,o.axis,r).lo,0,e-1)),f?i=(0,c.S)((0,c.B)(t,o.axis,l).hi+1,n,e)-n:i=e-n,{start:n,count:i}}var Zs={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(s,t,e)=>{if(!e.enabled){bs(s);return}const n=s.width;s.data.datasets.forEach((i,o)=>{const{_data:r,indexAxis:l}=i,u=s.getDatasetMeta(o),f=r||i.data;if((0,c.a)([l,s.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const b=s.scales[u.xAxisID];if(b.type!=="linear"&&b.type!=="time"||s.options.parsing)return;let{start:_,count:C}=Gs(u,f);const E=e.threshold||4*n;if(C<=E){ms(i);return}(0,c.k)(r)&&(i._data=f,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(N){this._data=N}}));let R;switch(e.algorithm){case"lttb":R=Xs(f,_,C,n,e);break;case"min-max":R=Ks(f,_,C,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}i._decimated=R})},destroy(s){bs(s)}};function Qs(s,t,e){const n=s.segments,i=s.points,o=t.points,r=[];for(const l of n){let{start:u,end:f}=l;f=us(u,f,i);const b=cs(e,i[u],i[f],l.loop);if(!t.segments){r.push({source:l,target:b,start:i[u],end:i[f]});continue}const _=(0,c.an)(t,b);for(const C of _){const E=cs(e,o[C.start],o[C.end],C.loop),R=(0,c.ax)(l,i,E);for(const N of R)r.push({source:N,target:C,start:{[e]:xs(b,E,"start",Math.max)},end:{[e]:xs(b,E,"end",Math.min)}})}}return r}function cs(s,t,e,n){if(n)return;let i=t[s],o=e[s];return s==="angle"&&(i=(0,c.ay)(i),o=(0,c.ay)(o)),{property:s,start:i,end:o}}function Js(s,t){const{x:e=null,y:n=null}=s||{},i=t.points,o=[];return t.segments.forEach(({start:r,end:l})=>{l=us(r,l,i);const u=i[r],f=i[l];n!==null?(o.push({x:u.x,y:n}),o.push({x:f.x,y:n})):e!==null&&(o.push({x:e,y:u.y}),o.push({x:e,y:f.y}))}),o}function us(s,t,e){for(;t>s;t--){const n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function xs(s,t,e,n){return s&&t?n(s[e],t[e]):s?s[e]:t?t[e]:0}function ys(s,t){let e=[],n=!1;return(0,c.b)(s)?(n=!0,e=s):e=Js(s,t),e.length?new a({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function _s(s){return s&&s.fill!==!1}function qs(s,t,e){let i=s[t].fill;const o=[t];let r;if(!e)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!(0,c.g)(i))return i;if(r=s[i],!r)return!1;if(r.visible)return i;o.push(i),i=r.fill}return!1}function to(s,t,e){const n=so(s);if((0,c.i)(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return(0,c.g)(i)&&Math.floor(i)===i?eo(n[0],t,i,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function eo(s,t,e,n){return(s==="-"||s==="+")&&(e=t+e),e===t||e<0||e>=n?!1:e}function no(s,t){let e=null;return s==="start"?e=t.bottom:s==="end"?e=t.top:(0,c.i)(s)?e=t.getPixelForValue(s.value):t.getBasePixel&&(e=t.getBasePixel()),e}function io(s,t,e){let n;return s==="start"?n=e:s==="end"?n=t.options.reverse?t.min:t.max:(0,c.i)(s)?n=s.value:n=t.getBaseValue(),n}function so(s){const t=s.options,e=t.fill;let n=(0,c.v)(e&&e.target,e);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function oo(s){const{scale:t,index:e,line:n}=s,i=[],o=n.segments,r=n.points,l=ro(t,e);l.push(ys({x:null,y:t.bottom},n));for(let u=0;u<o.length;u++){const f=o[u];for(let b=f.start;b<=f.end;b++)ao(i,r[b],l)}return new a({points:i,options:{}})}function ro(s,t){const e=[],n=s.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const o=n[i];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function ao(s,t,e){const n=[];for(let i=0;i<e.length;i++){const o=e[i],{first:r,last:l,point:u}=lo(o,t,"x");if(!(!u||r&&l)){if(r)n.unshift(u);else if(s.push(u),!l)break}}s.push(...n)}function lo(s,t,e){const n=s.interpolate(t,e);if(!n)return{};const i=n[e],o=s.segments,r=s.points;let l=!1,u=!1;for(let f=0;f<o.length;f++){const b=o[f],_=r[b.start][e],C=r[b.end][e];if((0,c.aj)(i,_,C)){l=i===_,u=i===C;break}}return{first:l,last:u,point:n}}class vs{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:i,y:o,radius:r}=this;return e=e||{start:0,end:c.T},t.arc(i,o,r,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:i}=this,o=t.angle;return{x:e+Math.cos(o)*i,y:n+Math.sin(o)*i,angle:o}}}function co(s){const{chart:t,fill:e,line:n}=s;if((0,c.g)(e))return uo(t,e);if(e==="stack")return oo(s);if(e==="shape")return!0;const i=ho(s);return i instanceof vs?i:ys(i,n)}function uo(s,t){const e=s.getDatasetMeta(t);return e&&s.isDatasetVisible(t)?e.dataset:null}function ho(s){return(s.scale||{}).getPointPositionForValue?go(s):fo(s)}function fo(s){const{scale:t={},fill:e}=s,n=no(e,t);if((0,c.g)(n)){const i=t.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function go(s){const{scale:t,fill:e}=s,n=t.options,i=t.getLabels().length,o=n.reverse?t.max:t.min,r=io(e,t,o),l=[];if(n.grid.circular){const u=t.getPointPositionForValue(0,o);return new vs({x:u.x,y:u.y,radius:t.getDistanceFromCenterForValue(r)})}for(let u=0;u<i;++u)l.push(t.getPointPositionForValue(u,r));return l}function hs(s,t,e){const n=co(t),{line:i,scale:o,axis:r}=t,l=i.options,u=l.fill,f=l.backgroundColor,{above:b=f,below:_=f}=u||{};n&&i.points.length&&((0,c.Y)(s,e),po(s,{line:i,target:n,above:b,below:_,area:e,scale:o,axis:r}),(0,c.$)(s))}function po(s,t){const{line:e,target:n,above:i,below:o,area:r,scale:l}=t,u=e._loop?"angle":t.axis;s.save(),u==="x"&&o!==i&&(ws(s,n,r.top),Cs(s,{line:e,target:n,color:i,scale:l,property:u}),s.restore(),s.save(),ws(s,n,r.bottom)),Cs(s,{line:e,target:n,color:o,scale:l,property:u}),s.restore()}function ws(s,t,e){const{segments:n,points:i}=t;let o=!0,r=!1;s.beginPath();for(const l of n){const{start:u,end:f}=l,b=i[u],_=i[us(u,f,i)];o?(s.moveTo(b.x,b.y),o=!1):(s.lineTo(b.x,e),s.lineTo(b.x,b.y)),r=!!t.pathSegment(s,l,{move:r}),r?s.closePath():s.lineTo(_.x,e)}s.lineTo(t.first().x,e),s.closePath(),s.clip()}function Cs(s,t){const{line:e,target:n,property:i,color:o,scale:r}=t,l=Qs(e,n,i);for(const{source:u,target:f,start:b,end:_}of l){const{style:{backgroundColor:C=o}={}}=u,E=n!==!0;s.save(),s.fillStyle=C,mo(s,r,E&&cs(i,b,_)),s.beginPath();const R=!!e.pathSegment(s,u);let N;if(E){R?s.closePath():Ss(s,n,_,i);const Q=!!n.pathSegment(s,f,{move:R,reverse:!0});N=R&&Q,N||Ss(s,n,b,i)}s.closePath(),s.fill(N?"evenodd":"nonzero"),s.restore()}}function mo(s,t,e){const{top:n,bottom:i}=t.chart.chartArea,{property:o,start:r,end:l}=e||{};o==="x"&&(s.beginPath(),s.rect(r,n,l-r,i-n),s.clip())}function Ss(s,t,e,n){const i=t.interpolate(e,n);i&&s.lineTo(i.x,i.y)}var bo={id:"filler",afterDatasetsUpdate(s,t,e){const n=(s.data.datasets||[]).length,i=[];let o,r,l,u;for(r=0;r<n;++r)o=s.getDatasetMeta(r),l=o.dataset,u=null,l&&l.options&&l instanceof a&&(u={visible:s.isDatasetVisible(r),index:r,fill:to(l,r,n),chart:s,axis:o.controller.options.indexAxis,scale:o.vScale,line:l}),o.$filler=u,i.push(u);for(r=0;r<n;++r)u=i[r],!(!u||u.fill===!1)&&(u.fill=qs(i,r,e.propagate))},beforeDraw(s,t,e){const n=e.drawTime==="beforeDraw",i=s.getSortedVisibleDatasetMetas(),o=s.chartArea;for(let r=i.length-1;r>=0;--r){const l=i[r].$filler;l&&(l.line.updateControlPoints(o,l.axis),n&&l.fill&&hs(s.ctx,l,o))}},beforeDatasetsDraw(s,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const n=s.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const o=n[i].$filler;_s(o)&&hs(s.ctx,o,s.chartArea)}},beforeDatasetDraw(s,t,e){const n=t.meta.$filler;!_s(n)||e.drawTime!=="beforeDatasetDraw"||hs(s.ctx,n,s.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ps=(s,t)=>{let{boxHeight:e=t,boxWidth:n=t}=s;return s.usePointStyle&&(e=Math.min(e,t),n=s.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},xo=(s,t)=>s!==null&&t!==null&&s.datasetIndex===t.datasetIndex&&s.index===t.index;class Es extends Me{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=(0,c.Q)(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=(0,c.a0)(n.font),o=i.size,r=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=Ps(n,o);let f,b;e.font=i.string,this.isHorizontal()?(f=this.maxWidth,b=this._fitRows(r,o,l,u)+10):(b=this.maxHeight,f=this._fitCols(r,i,l,u)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(b,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,i){const{ctx:o,maxWidth:r,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],f=this.lineWidths=[0],b=i+l;let _=t;o.textAlign="left",o.textBaseline="middle";let C=-1,E=-b;return this.legendItems.forEach((R,N)=>{const Q=n+e/2+o.measureText(R.text).width;(N===0||f[f.length-1]+Q+2*l>r)&&(_+=b,f[f.length-(N>0?0:1)]=0,E+=b,C++),u[N]={left:0,top:E,row:C,width:Q,height:i},f[f.length-1]+=Q+l}),_}_fitCols(t,e,n,i){const{ctx:o,maxHeight:r,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],f=this.columnSizes=[],b=r-t;let _=l,C=0,E=0,R=0,N=0;return this.legendItems.forEach((Q,Z)=>{const{itemWidth:tt,itemHeight:pt}=yo(n,e,o,Q,i);Z>0&&E+pt+2*l>b&&(_+=C+l,f.push({width:C,height:E}),R+=C+l,N++,C=E=0),u[Z]={left:R,top:E,col:N,width:tt,height:pt},C=Math.max(C,tt),E+=pt+l}),_+=C,f.push({width:C,height:E}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:i},rtl:o}}=this,r=(0,c.az)(o,this.left,this.width);if(this.isHorizontal()){let l=0,u=(0,c.a2)(n,this.left+i,this.right-this.lineWidths[l]);for(const f of e)l!==f.row&&(l=f.row,u=(0,c.a2)(n,this.left+i,this.right-this.lineWidths[l])),f.top+=this.top+t+i,f.left=r.leftForLtr(r.x(u),f.width),u+=f.width+i}else{let l=0,u=(0,c.a2)(n,this.top+t+i,this.bottom-this.columnSizes[l].height);for(const f of e)f.col!==l&&(l=f.col,u=(0,c.a2)(n,this.top+t+i,this.bottom-this.columnSizes[l].height)),f.top=u,f.left+=this.left+i,f.left=r.leftForLtr(r.x(f.left),f.width),u+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;(0,c.Y)(t,this),this._draw(),(0,c.$)(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:i}=this,{align:o,labels:r}=t,l=c.d.color,u=(0,c.az)(t.rtl,this.left,this.width),f=(0,c.a0)(r.font),{padding:b}=r,_=f.size,C=_/2;let E;this.drawTitle(),i.textAlign=u.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:R,boxHeight:N,itemHeight:Q}=Ps(r,_),Z=function(vt,St,Mt){if(isNaN(R)||R<=0||isNaN(N)||N<0)return;i.save();const zt=(0,c.v)(Mt.lineWidth,1);if(i.fillStyle=(0,c.v)(Mt.fillStyle,l),i.lineCap=(0,c.v)(Mt.lineCap,"butt"),i.lineDashOffset=(0,c.v)(Mt.lineDashOffset,0),i.lineJoin=(0,c.v)(Mt.lineJoin,"miter"),i.lineWidth=zt,i.strokeStyle=(0,c.v)(Mt.strokeStyle,l),i.setLineDash((0,c.v)(Mt.lineDash,[])),r.usePointStyle){const Xt={radius:N*Math.SQRT2/2,pointStyle:Mt.pointStyle,rotation:Mt.rotation,borderWidth:zt},Kt=u.xPlus(vt,R/2),Jt=St+C;(0,c.aD)(i,Xt,Kt,Jt,r.pointStyleWidth&&R)}else{const Xt=St+Math.max((_-N)/2,0),Kt=u.leftForLtr(vt,R),Jt=(0,c.aw)(Mt.borderRadius);i.beginPath(),Object.values(Jt).some(ve=>ve!==0)?(0,c.au)(i,{x:Kt,y:Xt,w:R,h:N,radius:Jt}):i.rect(Kt,Xt,R,N),i.fill(),zt!==0&&i.stroke()}i.restore()},tt=function(vt,St,Mt){(0,c.Z)(i,Mt.text,vt,St+Q/2,f,{strikethrough:Mt.hidden,textAlign:u.textAlign(Mt.textAlign)})},pt=this.isHorizontal(),dt=this._computeTitleHeight();pt?E={x:(0,c.a2)(o,this.left+b,this.right-n[0]),y:this.top+b+dt,line:0}:E={x:this.left+b,y:(0,c.a2)(o,this.top+dt+b,this.bottom-e[0].height),line:0},(0,c.aA)(this.ctx,t.textDirection);const at=Q+b;this.legendItems.forEach((vt,St)=>{i.strokeStyle=vt.fontColor,i.fillStyle=vt.fontColor;const Mt=i.measureText(vt.text).width,zt=u.textAlign(vt.textAlign||(vt.textAlign=r.textAlign)),Xt=R+C+Mt;let Kt=E.x,Jt=E.y;u.setWidth(this.width),pt?St>0&&Kt+Xt+b>this.right&&(Jt=E.y+=at,E.line++,Kt=E.x=(0,c.a2)(o,this.left+b,this.right-n[E.line])):St>0&&Jt+at>this.bottom&&(Kt=E.x=Kt+e[E.line].width+b,E.line++,Jt=E.y=(0,c.a2)(o,this.top+dt+b,this.bottom-e[E.line].height));const ve=u.x(Kt);if(Z(ve,Jt,vt),Kt=(0,c.aB)(zt,Kt+R+C,pt?Kt+Xt:this.right,t.rtl),tt(u.x(Kt),Jt,vt),pt)E.x+=Xt+b;else if(typeof vt.text!="string"){const Ae=f.lineHeight;E.y+=Ms(vt,Ae)+b}else E.y+=at}),(0,c.aC)(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=(0,c.a0)(e.font),i=(0,c.E)(e.padding);if(!e.display)return;const o=(0,c.az)(t.rtl,this.left,this.width),r=this.ctx,l=e.position,u=n.size/2,f=i.top+u;let b,_=this.left,C=this.width;if(this.isHorizontal())C=Math.max(...this.lineWidths),b=this.top+f,_=(0,c.a2)(t.align,_,this.right-C);else{const R=this.columnSizes.reduce((N,Q)=>Math.max(N,Q.height),0);b=f+(0,c.a2)(t.align,this.top,this.bottom-R-t.labels.padding-this._computeTitleHeight())}const E=(0,c.a2)(l,_,_+C);r.textAlign=o.textAlign((0,c.a1)(l)),r.textBaseline="middle",r.strokeStyle=e.color,r.fillStyle=e.color,r.font=n.string,(0,c.Z)(r,e.text,E,b,n)}_computeTitleHeight(){const t=this.options.title,e=(0,c.a0)(t.font),n=(0,c.E)(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,i,o;if((0,c.aj)(t,this.left,this.right)&&(0,c.aj)(e,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(i=o[n],(0,c.aj)(t,i.left,i.left+i.width)&&(0,c.aj)(e,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const e=this.options;if(!wo(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,o=xo(i,n);i&&!o&&(0,c.Q)(e.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!o&&(0,c.Q)(e.onHover,[t,n,this],this)}else n&&(0,c.Q)(e.onClick,[t,n,this],this)}}function yo(s,t,e,n,i){const o=_o(n,s,t,e),r=vo(i,n,t.lineHeight);return{itemWidth:o,itemHeight:r}}function _o(s,t,e,n){let i=s.text;return i&&typeof i!="string"&&(i=i.reduce((o,r)=>o.length>r.length?o:r)),t+e.size/2+n.measureText(i).width}function vo(s,t,e){let n=s;return typeof t.text!="string"&&(n=Ms(t,e)),n}function Ms(s,t){const e=s.text?s.text.length:0;return t*e}function wo(s,t){return!!((s==="mousemove"||s==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(s==="click"||s==="mouseup"))}var Co={id:"legend",_element:Es,start(s,t,e){const n=s.legend=new Es({ctx:s.ctx,options:e,chart:s});xe.configure(s,n,e),xe.addBox(s,n)},stop(s){xe.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,t,e){const n=s.legend;xe.configure(s,n,e),n.options=e},afterUpdate(s){const t=s.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(s,t){t.replay||s.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,t,e){const n=t.datasetIndex,i=e.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const t=s.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:i,color:o,useBorderRadius:r,borderRadius:l}}=s.legend.options;return s._getSortedDatasetMetas().map(u=>{const f=u.controller.getStyle(e?0:void 0),b=(0,c.E)(f.borderWidth);return{text:t[u.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!u.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(b.width+b.height)/4,strokeStyle:f.borderColor,pointStyle:n||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:r&&(l||f.borderRadius),datasetIndex:u.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class ds extends Me{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const i=(0,c.b)(n.text)?n.text.length:1;this._padding=(0,c.E)(n.padding);const o=i*(0,c.a0)(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:n,bottom:i,right:o,options:r}=this,l=r.align;let u=0,f,b,_;return this.isHorizontal()?(b=(0,c.a2)(l,n,o),_=e+t,f=o-n):(r.position==="left"?(b=n+t,_=(0,c.a2)(l,i,e),u=c.P*-.5):(b=o-t,_=(0,c.a2)(l,e,i),u=c.P*.5),f=i-e),{titleX:b,titleY:_,maxWidth:f,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=(0,c.a0)(e.font),o=n.lineHeight/2+this._padding.top,{titleX:r,titleY:l,maxWidth:u,rotation:f}=this._drawArgs(o);(0,c.Z)(t,e.text,0,0,n,{color:e.color,maxWidth:u,rotation:f,textAlign:(0,c.a1)(e.align),textBaseline:"middle",translation:[r,l]})}}function So(s,t){const e=new ds({ctx:s.ctx,options:t,chart:s});xe.configure(s,e,t),xe.addBox(s,e),s.titleBlock=e}var Po={id:"title",_element:ds,start(s,t,e){So(s,e)},stop(s){const t=s.titleBlock;xe.removeBox(s,t),delete s.titleBlock},beforeUpdate(s,t,e){const n=s.titleBlock;xe.configure(s,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qi=new WeakMap;var Eo={id:"subtitle",start(s,t,e){const n=new ds({ctx:s.ctx,options:e,chart:s});xe.configure(s,n,e),xe.addBox(s,n),qi.set(s,n)},stop(s){xe.removeBox(s,qi.get(s)),qi.delete(s)},beforeUpdate(s,t,e){const n=qi.get(s);xe.configure(s,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const $i={average(s){if(!s.length)return!1;let t,e,n=new Set,i=0,o=0;for(t=0,e=s.length;t<e;++t){const l=s[t].element;if(l&&l.hasValue()){const u=l.tooltipPosition();n.add(u.x),i+=u.y,++o}}return o===0||n.size===0?!1:{x:[...n].reduce((l,u)=>l+u)/n.size,y:i/o}},nearest(s,t){if(!s.length)return!1;let e=t.x,n=t.y,i=Number.POSITIVE_INFINITY,o,r,l;for(o=0,r=s.length;o<r;++o){const u=s[o].element;if(u&&u.hasValue()){const f=u.getCenterPoint(),b=(0,c.aE)(t,f);b<i&&(i=b,l=u)}}if(l){const u=l.tooltipPosition();e=u.x,n=u.y}return{x:e,y:n}}};function an(s,t){return t&&((0,c.b)(t)?Array.prototype.push.apply(s,t):s.push(t)),s}function xn(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function Mo(s,t){const{element:e,datasetIndex:n,index:i}=t,o=s.getDatasetMeta(n).controller,{label:r,value:l}=o.getLabelAndValue(i);return{chart:s,label:r,parsed:o.getParsed(i),raw:s.data.datasets[n].data[i],formattedValue:l,dataset:o.getDataset(),dataIndex:i,datasetIndex:n,element:e}}function Ts(s,t){const e=s.chart.ctx,{body:n,footer:i,title:o}=s,{boxWidth:r,boxHeight:l}=t,u=(0,c.a0)(t.bodyFont),f=(0,c.a0)(t.titleFont),b=(0,c.a0)(t.footerFont),_=o.length,C=i.length,E=n.length,R=(0,c.E)(t.padding);let N=R.height,Q=0,Z=n.reduce((dt,at)=>dt+at.before.length+at.lines.length+at.after.length,0);if(Z+=s.beforeBody.length+s.afterBody.length,_&&(N+=_*f.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),Z){const dt=t.displayColors?Math.max(l,u.lineHeight):u.lineHeight;N+=E*dt+(Z-E)*u.lineHeight+(Z-1)*t.bodySpacing}C&&(N+=t.footerMarginTop+C*b.lineHeight+(C-1)*t.footerSpacing);let tt=0;const pt=function(dt){Q=Math.max(Q,e.measureText(dt).width+tt)};return e.save(),e.font=f.string,(0,c.F)(s.title,pt),e.font=u.string,(0,c.F)(s.beforeBody.concat(s.afterBody),pt),tt=t.displayColors?r+2+t.boxPadding:0,(0,c.F)(n,dt=>{(0,c.F)(dt.before,pt),(0,c.F)(dt.lines,pt),(0,c.F)(dt.after,pt)}),tt=0,e.font=b.string,(0,c.F)(s.footer,pt),e.restore(),Q+=R.width,{width:Q,height:N}}function To(s,t){const{y:e,height:n}=t;return e<n/2?"top":e>s.height-n/2?"bottom":"center"}function ko(s,t,e,n){const{x:i,width:o}=n,r=e.caretSize+e.caretPadding;if(s==="left"&&i+o+r>t.width||s==="right"&&i-o-r<0)return!0}function Oo(s,t,e,n){const{x:i,width:o}=e,{width:r,chartArea:{left:l,right:u}}=s;let f="center";return n==="center"?f=i<=(l+u)/2?"left":"right":i<=o/2?f="left":i>=r-o/2&&(f="right"),ko(f,s,t,e)&&(f="center"),f}function ks(s,t,e){const n=e.yAlign||t.yAlign||To(s,e);return{xAlign:e.xAlign||t.xAlign||Oo(s,t,e,n),yAlign:n}}function Do(s,t){let{x:e,width:n}=s;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function Ro(s,t,e){let{y:n,height:i}=s;return t==="top"?n+=e:t==="bottom"?n-=i+e:n-=i/2,n}function Os(s,t,e,n){const{caretSize:i,caretPadding:o,cornerRadius:r}=s,{xAlign:l,yAlign:u}=e,f=i+o,{topLeft:b,topRight:_,bottomLeft:C,bottomRight:E}=(0,c.aw)(r);let R=Do(t,l);const N=Ro(t,u,f);return u==="center"?l==="left"?R+=f:l==="right"&&(R-=f):l==="left"?R-=Math.max(b,C)+i:l==="right"&&(R+=Math.max(_,E)+i),{x:(0,c.S)(R,0,n.width-t.width),y:(0,c.S)(N,0,n.height-t.height)}}function ts(s,t,e){const n=(0,c.E)(e.padding);return t==="center"?s.x+s.width/2:t==="right"?s.x+s.width-n.right:s.x+n.left}function Ds(s){return an([],xn(s))}function Ao(s,t,e){return(0,c.j)(s,{tooltip:t,tooltipItems:e,type:"tooltip"})}function Rs(s,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?s.override(e):s}const As={beforeTitle:c.aF,title(s){if(s.length>0){const t=s[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:c.aF,beforeBody:c.aF,beforeLabel:c.aF,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let t=s.dataset.label||"";t&&(t+=": ");const e=s.formattedValue;return(0,c.k)(e)||(t+=e),t},labelColor(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const e=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:c.aF,afterBody:c.aF,beforeFooter:c.aF,footer:c.aF,afterFooter:c.aF};function Te(s,t,e,n){const i=s[t].call(e,n);return typeof i>"u"?As[t].call(e,n):i}class Ls extends Me{static positioners=$i;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,o=new j(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Ao(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:n}=e,i=Te(n,"beforeTitle",this,t),o=Te(n,"title",this,t),r=Te(n,"afterTitle",this,t);let l=[];return l=an(l,xn(i)),l=an(l,xn(o)),l=an(l,xn(r)),l}getBeforeBody(t,e){return Ds(Te(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,i=[];return(0,c.F)(t,o=>{const r={before:[],lines:[],after:[]},l=Rs(n,o);an(r.before,xn(Te(l,"beforeLabel",this,o))),an(r.lines,Te(l,"label",this,o)),an(r.after,xn(Te(l,"afterLabel",this,o))),i.push(r)}),i}getAfterBody(t,e){return Ds(Te(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,i=Te(n,"beforeFooter",this,t),o=Te(n,"footer",this,t),r=Te(n,"afterFooter",this,t);let l=[];return l=an(l,xn(i)),l=an(l,xn(o)),l=an(l,xn(r)),l}_createItems(t){const e=this._active,n=this.chart.data,i=[],o=[],r=[];let l=[],u,f;for(u=0,f=e.length;u<f;++u)l.push(Mo(this.chart,e[u]));return t.filter&&(l=l.filter((b,_,C)=>t.filter(b,_,C,n))),t.itemSort&&(l=l.sort((b,_)=>t.itemSort(b,_,n))),(0,c.F)(l,b=>{const _=Rs(t.callbacks,b);i.push(Te(_,"labelColor",this,b)),o.push(Te(_,"labelPointStyle",this,b)),r.push(Te(_,"labelTextColor",this,b))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let o,r=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const l=$i[n.position].call(this,i,this._eventPosition);r=this._createItems(n),this.title=this.getTitle(r,n),this.beforeBody=this.getBeforeBody(r,n),this.body=this.getBody(r,n),this.afterBody=this.getAfterBody(r,n),this.footer=this.getFooter(r,n);const u=this._size=Ts(this,n),f=Object.assign({},l,u),b=ks(this.chart,n,f),_=Os(n,f,b,this.chart);this.xAlign=b.xAlign,this.yAlign=b.yAlign,o={opacity:1,x:_.x,y:_.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const o=this.getCaretPosition(t,n,i);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:o}=this,{caretSize:r,cornerRadius:l}=n,{topLeft:u,topRight:f,bottomLeft:b,bottomRight:_}=(0,c.aw)(l),{x:C,y:E}=t,{width:R,height:N}=e;let Q,Z,tt,pt,dt,at;return o==="center"?(dt=E+N/2,i==="left"?(Q=C,Z=Q-r,pt=dt+r,at=dt-r):(Q=C+R,Z=Q+r,pt=dt-r,at=dt+r),tt=Q):(i==="left"?Z=C+Math.max(u,b)+r:i==="right"?Z=C+R-Math.max(f,_)-r:Z=this.caretX,o==="top"?(pt=E,dt=pt-r,Q=Z-r,tt=Z+r):(pt=E+N,dt=pt+r,Q=Z+r,tt=Z-r),at=pt),{x1:Q,x2:Z,x3:tt,y1:pt,y2:dt,y3:at}}drawTitle(t,e,n){const i=this.title,o=i.length;let r,l,u;if(o){const f=(0,c.az)(n.rtl,this.x,this.width);for(t.x=ts(this,n.titleAlign,n),e.textAlign=f.textAlign(n.titleAlign),e.textBaseline="middle",r=(0,c.a0)(n.titleFont),l=n.titleSpacing,e.fillStyle=n.titleColor,e.font=r.string,u=0;u<o;++u)e.fillText(i[u],f.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+l,u+1===o&&(t.y+=n.titleMarginBottom-l)}}_drawColorBox(t,e,n,i,o){const r=this.labelColors[n],l=this.labelPointStyles[n],{boxHeight:u,boxWidth:f}=o,b=(0,c.a0)(o.bodyFont),_=ts(this,"left",o),C=i.x(_),E=u<b.lineHeight?(b.lineHeight-u)/2:0,R=e.y+E;if(o.usePointStyle){const N={radius:Math.min(f,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},Q=i.leftForLtr(C,f)+f/2,Z=R+u/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,(0,c.at)(t,N,Q,Z),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,(0,c.at)(t,N,Q,Z)}else{t.lineWidth=(0,c.i)(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const N=i.leftForLtr(C,f),Q=i.leftForLtr(i.xPlus(C,1),f-2),Z=(0,c.aw)(r.borderRadius);Object.values(Z).some(tt=>tt!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,(0,c.au)(t,{x:N,y:R,w:f,h:u,radius:Z}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),(0,c.au)(t,{x:Q,y:R+1,w:f-2,h:u-2,radius:Z}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(N,R,f,u),t.strokeRect(N,R,f,u),t.fillStyle=r.backgroundColor,t.fillRect(Q,R+1,f-2,u-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:o,bodyAlign:r,displayColors:l,boxHeight:u,boxWidth:f,boxPadding:b}=n,_=(0,c.a0)(n.bodyFont);let C=_.lineHeight,E=0;const R=(0,c.az)(n.rtl,this.x,this.width),N=function(Mt){e.fillText(Mt,R.x(t.x+E),t.y+C/2),t.y+=C+o},Q=R.textAlign(r);let Z,tt,pt,dt,at,vt,St;for(e.textAlign=r,e.textBaseline="middle",e.font=_.string,t.x=ts(this,Q,n),e.fillStyle=n.bodyColor,(0,c.F)(this.beforeBody,N),E=l&&Q!=="right"?r==="center"?f/2+b:f+2+b:0,dt=0,vt=i.length;dt<vt;++dt){for(Z=i[dt],tt=this.labelTextColors[dt],e.fillStyle=tt,(0,c.F)(Z.before,N),pt=Z.lines,l&&pt.length&&(this._drawColorBox(e,t,dt,R,n),C=Math.max(_.lineHeight,u)),at=0,St=pt.length;at<St;++at)N(pt[at]),C=_.lineHeight;(0,c.F)(Z.after,N)}E=0,C=_.lineHeight,(0,c.F)(this.afterBody,N),t.y-=o}drawFooter(t,e,n){const i=this.footer,o=i.length;let r,l;if(o){const u=(0,c.az)(n.rtl,this.x,this.width);for(t.x=ts(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=u.textAlign(n.footerAlign),e.textBaseline="middle",r=(0,c.a0)(n.footerFont),e.fillStyle=n.footerColor,e.font=r.string,l=0;l<o;++l)e.fillText(i[l],u.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:o,yAlign:r}=this,{x:l,y:u}=t,{width:f,height:b}=n,{topLeft:_,topRight:C,bottomLeft:E,bottomRight:R}=(0,c.aw)(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(l+_,u),r==="top"&&this.drawCaret(t,e,n,i),e.lineTo(l+f-C,u),e.quadraticCurveTo(l+f,u,l+f,u+C),r==="center"&&o==="right"&&this.drawCaret(t,e,n,i),e.lineTo(l+f,u+b-R),e.quadraticCurveTo(l+f,u+b,l+f-R,u+b),r==="bottom"&&this.drawCaret(t,e,n,i),e.lineTo(l+E,u+b),e.quadraticCurveTo(l,u+b,l,u+b-E),r==="center"&&o==="left"&&this.drawCaret(t,e,n,i),e.lineTo(l,u+_),e.quadraticCurveTo(l,u,l+_,u),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,o=n&&n.y;if(i||o){const r=$i[t.position].call(this,this._active,this._eventPosition);if(!r)return;const l=this._size=Ts(this,t),u=Object.assign({},r,this._size),f=ks(e,t,u),b=Os(t,u,f,e);(i._to!==b.x||o._to!==b.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=l.width,this.height=l.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,b))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const r=(0,c.E)(e.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&l&&(t.save(),t.globalAlpha=n,this.drawBackground(o,t,i,e),(0,c.aA)(t,e.textDirection),o.y+=r.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),(0,c.aC)(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map(({datasetIndex:l,index:u})=>{const f=this.chart.getDatasetMeta(l);if(!f)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:f.data[u],index:u}}),o=!(0,c.ah)(n,i),r=this._positionChanged(i,e);(o||r)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],r=this._getActiveElements(t,o,e,n),l=this._positionChanged(r,t),u=e||!(0,c.ah)(r,o)||l;return u&&(this._active=r,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),u}_getActiveElements(t,e,n,i){const o=this.options;if(t.type==="mouseout")return[];if(!i)return e.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const r=this.chart.getElementsAtEventForMode(t,o.mode,o,n);return o.reverse&&r.reverse(),r}_positionChanged(t,e){const{caretX:n,caretY:i,options:o}=this,r=$i[o.position].call(this,t,e);return r!==!1&&(n!==r.x||i!==r.y)}}var Lo={id:"tooltip",_element:Ls,positioners:$i,afterInit(s,t,e){e&&(s.tooltip=new Ls({chart:s,options:e}))},beforeUpdate(s,t,e){s.tooltip&&s.tooltip.initialize(e)},reset(s,t,e){s.tooltip&&s.tooltip.initialize(e)},afterDraw(s){const t=s.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(s.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",e)}},afterEvent(s,t){if(s.tooltip){const e=t.replay;s.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,t)=>t.bodyFont.size,boxWidth:(s,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:As},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Io=Object.freeze({__proto__:null,Colors:Ji,Decimation:Zs,Filler:bo,Legend:Co,SubTitle:Eo,Title:Po,Tooltip:Lo});const Fo=(s,t,e,n)=>(typeof t=="string"?(e=s.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Bo(s,t,e,n){const i=s.indexOf(t);if(i===-1)return Fo(s,t,e,n);const o=s.lastIndexOf(t);return i!==o?e:i}const No=(s,t)=>s===null?null:(0,c.S)(Math.round(s),0,t);function Is(s){const t=this.getLabels();return s>=0&&s<t.length?t[s]:s}class Wo extends Ve{static id="category";static defaults={ticks:{callback:Is}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const n=this.getLabels();for(const{index:i,label:o}of e)n[i]===o&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if((0,c.k)(t))return null;const n=this.getLabels();return e=isFinite(e)&&n[e]===t?e:Bo(n,t,(0,c.v)(e,t),this._addedLabels),No(e,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let r=t;r<=e;r++)i.push({value:r});return i}getLabelForValue(t){return Is.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function zo(s,t){const e=[],{bounds:i,step:o,min:r,max:l,precision:u,count:f,maxTicks:b,maxDigits:_,includeBounds:C}=s,E=o||1,R=b-1,{min:N,max:Q}=t,Z=!(0,c.k)(r),tt=!(0,c.k)(l),pt=!(0,c.k)(f),dt=(Q-N)/(_+1);let at=(0,c.aH)((Q-N)/R/E)*E,vt,St,Mt,zt;if(at<1e-14&&!Z&&!tt)return[{value:N},{value:Q}];zt=Math.ceil(Q/at)-Math.floor(N/at),zt>R&&(at=(0,c.aH)(zt*at/R/E)*E),(0,c.k)(u)||(vt=Math.pow(10,u),at=Math.ceil(at*vt)/vt),i==="ticks"?(St=Math.floor(N/at)*at,Mt=Math.ceil(Q/at)*at):(St=N,Mt=Q),Z&&tt&&o&&(0,c.aI)((l-r)/o,at/1e3)?(zt=Math.round(Math.min((l-r)/at,b)),at=(l-r)/zt,St=r,Mt=l):pt?(St=Z?r:St,Mt=tt?l:Mt,zt=f-1,at=(Mt-St)/zt):(zt=(Mt-St)/at,(0,c.aJ)(zt,Math.round(zt),at/1e3)?zt=Math.round(zt):zt=Math.ceil(zt));const Xt=Math.max((0,c.aK)(at),(0,c.aK)(St));vt=Math.pow(10,(0,c.k)(u)?Xt:u),St=Math.round(St*vt)/vt,Mt=Math.round(Mt*vt)/vt;let Kt=0;for(Z&&(C&&St!==r?(e.push({value:r}),St<r&&Kt++,(0,c.aJ)(Math.round((St+Kt*at)*vt)/vt,r,Fs(r,dt,s))&&Kt++):St<r&&Kt++);Kt<zt;++Kt){const Jt=Math.round((St+Kt*at)*vt)/vt;if(tt&&Jt>l)break;e.push({value:Jt})}return tt&&C&&Mt!==l?e.length&&(0,c.aJ)(e[e.length-1].value,l,Fs(l,dt,s))?e[e.length-1].value=l:e.push({value:l}):(!tt||Mt===l)&&e.push({value:Mt}),e}function Fs(s,t,{horizontal:e,minRotation:n}){const i=(0,c.t)(n),o=(e?Math.sin(i):Math.cos(i))||.001,r=.75*t*(""+s).length;return Math.min(t/o,r)}class es extends Ve{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return(0,c.k)(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this;const r=u=>i=e?i:u,l=u=>o=n?o:u;if(t){const u=(0,c.s)(i),f=(0,c.s)(o);u<0&&f<0?l(0):u>0&&f>0&&r(0)}if(i===o){let u=o===0?1:Math.abs(o*.05);l(o+u),t||r(i-u)}this.min=i,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),e=e||11),e&&(i=Math.min(e,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,r=zo(i,o);return t.bounds==="ticks"&&(0,c.aG)(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return(0,c.o)(t,this.chart.options.locale,this.options.ticks.format)}}class Vo extends es{static id="linear";static defaults={ticks:{callback:c.aL.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=(0,c.g)(t)?t:0,this.max=(0,c.g)(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=(0,c.t)(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Xi=s=>Math.floor((0,c.aM)(s)),oi=(s,t)=>Math.pow(10,Xi(s)+t);function Bs(s){return s/Math.pow(10,Xi(s))===1}function Ns(s,t,e){const n=Math.pow(10,e),i=Math.floor(s/n);return Math.ceil(t/n)-i}function Ho(s,t){const e=t-s;let n=Xi(e);for(;Ns(s,t,n)>10;)n++;for(;Ns(s,t,n)<10;)n--;return Math.min(n,Xi(s))}function jo(s,{min:t,max:e}){t=(0,c.O)(s.min,t);const n=[],i=Xi(t);let o=Ho(t,e),r=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),u=i>o?Math.pow(10,i):0,f=Math.round((t-u)*r)/r,b=Math.floor((t-u)/l/10)*l*10;let _=Math.floor((f-b)/Math.pow(10,o)),C=(0,c.O)(s.min,Math.round((u+b+_*Math.pow(10,o))*r)/r);for(;C<e;)n.push({value:C,major:Bs(C),significand:_}),_>=10?_=_<15?15:20:_++,_>=20&&(o++,_=2,r=o>=0?1:r),C=Math.round((u+b+_*Math.pow(10,o))*r)/r;const E=(0,c.O)(s.max,C);return n.push({value:E,major:Bs(E),significand:_}),n}class Uo extends Ve{static id="logarithmic";static defaults={ticks:{callback:c.aL.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=es.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return(0,c.g)(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=(0,c.g)(t)?Math.max(0,t):null,this.max=(0,c.g)(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!(0,c.g)(this._userMin)&&(this.min=t===oi(this.min,0)?oi(this.min,-1):oi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,i=this.max;const o=l=>n=t?n:l,r=l=>i=e?i:l;n===i&&(n<=0?(o(1),r(10)):(o(oi(n,-1)),r(oi(i,1)))),n<=0&&o(oi(i,-1)),i<=0&&r(oi(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},n=jo(e,this);return t.bounds==="ticks"&&(0,c.aG)(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":(0,c.o)(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=(0,c.aM)(t),this._valueRange=(0,c.aM)(this.max)-(0,c.aM)(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:((0,c.aM)(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function fs(s){const t=s.ticks;if(t.display&&s.display){const e=(0,c.E)(t.backdropPadding);return(0,c.v)(t.font&&t.font.size,c.d.font.size)+e.height}return 0}function Yo(s,t,e){return e=(0,c.b)(e)?e:[e],{w:(0,c.aN)(s,t.string,e),h:e.length*t.lineHeight}}function Ws(s,t,e,n,i){return s===n||s===i?{start:t-e/2,end:t+e/2}:s<n||s>i?{start:t-e,end:t}:{start:t,end:t+e}}function $o(s){const t={l:s.left+s._padding.left,r:s.right-s._padding.right,t:s.top+s._padding.top,b:s.bottom-s._padding.bottom},e=Object.assign({},t),n=[],i=[],o=s._pointLabels.length,r=s.options.pointLabels,l=r.centerPointLabels?c.P/o:0;for(let u=0;u<o;u++){const f=r.setContext(s.getPointLabelContext(u));i[u]=f.padding;const b=s.getPointPosition(u,s.drawingArea+i[u],l),_=(0,c.a0)(f.font),C=Yo(s.ctx,_,s._pointLabels[u]);n[u]=C;const E=(0,c.ay)(s.getIndexAngle(u)+l),R=Math.round((0,c.U)(E)),N=Ws(R,b.x,C.w,0,180),Q=Ws(R,b.y,C.h,90,270);Xo(e,t,E,N,Q)}s.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),s._pointLabelItems=Zo(s,n,i)}function Xo(s,t,e,n,i){const o=Math.abs(Math.sin(e)),r=Math.abs(Math.cos(e));let l=0,u=0;n.start<t.l?(l=(t.l-n.start)/o,s.l=Math.min(s.l,t.l-l)):n.end>t.r&&(l=(n.end-t.r)/o,s.r=Math.max(s.r,t.r+l)),i.start<t.t?(u=(t.t-i.start)/r,s.t=Math.min(s.t,t.t-u)):i.end>t.b&&(u=(i.end-t.b)/r,s.b=Math.max(s.b,t.b+u))}function Ko(s,t,e){const n=s.drawingArea,{extra:i,additionalAngle:o,padding:r,size:l}=e,u=s.getPointPosition(t,n+i+r,o),f=Math.round((0,c.U)((0,c.ay)(u.angle+c.H))),b=qo(u.y,l.h,f),_=Qo(f),C=Jo(u.x,l.w,_);return{visible:!0,x:u.x,y:b,textAlign:_,left:C,top:b,right:C+l.w,bottom:b+l.h}}function Go(s,t){if(!t)return!0;const{left:e,top:n,right:i,bottom:o}=s;return!((0,c.C)({x:e,y:n},t)||(0,c.C)({x:e,y:o},t)||(0,c.C)({x:i,y:n},t)||(0,c.C)({x:i,y:o},t))}function Zo(s,t,e){const n=[],i=s._pointLabels.length,o=s.options,{centerPointLabels:r,display:l}=o.pointLabels,u={extra:fs(o)/2,additionalAngle:r?c.P/i:0};let f;for(let b=0;b<i;b++){u.padding=e[b],u.size=t[b];const _=Ko(s,b,u);n.push(_),l==="auto"&&(_.visible=Go(_,f),_.visible&&(f=_))}return n}function Qo(s){return s===0||s===180?"center":s<180?"left":"right"}function Jo(s,t,e){return e==="right"?s-=t:e==="center"&&(s-=t/2),s}function qo(s,t,e){return e===90||e===270?s-=t/2:(e>270||e<90)&&(s-=t),s}function tr(s,t,e){const{left:n,top:i,right:o,bottom:r}=e,{backdropColor:l}=t;if(!(0,c.k)(l)){const u=(0,c.aw)(t.borderRadius),f=(0,c.E)(t.backdropPadding);s.fillStyle=l;const b=n-f.left,_=i-f.top,C=o-n+f.width,E=r-i+f.height;Object.values(u).some(R=>R!==0)?(s.beginPath(),(0,c.au)(s,{x:b,y:_,w:C,h:E,radius:u}),s.fill()):s.fillRect(b,_,C,E)}}function er(s,t){const{ctx:e,options:{pointLabels:n}}=s;for(let i=t-1;i>=0;i--){const o=s._pointLabelItems[i];if(!o.visible)continue;const r=n.setContext(s.getPointLabelContext(i));tr(e,r,o);const l=(0,c.a0)(r.font),{x:u,y:f,textAlign:b}=o;(0,c.Z)(e,s._pointLabels[i],u,f+l.lineHeight/2,l,{color:r.color,textAlign:b,textBaseline:"middle"})}}function zs(s,t,e,n){const{ctx:i}=s;if(e)i.arc(s.xCenter,s.yCenter,t,0,c.T);else{let o=s.getPointPosition(0,t);i.moveTo(o.x,o.y);for(let r=1;r<n;r++)o=s.getPointPosition(r,t),i.lineTo(o.x,o.y)}}function nr(s,t,e,n,i){const o=s.ctx,r=t.circular,{color:l,lineWidth:u}=t;!r&&!n||!l||!u||e<0||(o.save(),o.strokeStyle=l,o.lineWidth=u,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),zs(s,e,r,n),o.closePath(),o.stroke(),o.restore())}function ir(s,t,e){return(0,c.j)(s,{label:e,index:t,type:"pointLabel"})}class sr extends es{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:c.aL.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=(0,c.E)(fs(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=(0,c.g)(t)&&!isNaN(t)?t:0,this.max=(0,c.g)(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/fs(this.options))}generateTickLabels(t){es.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{const i=(0,c.Q)(this.options.pointLabels.callback,[e,n],this);return i||i===0?i:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?$o(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,i))}getIndexAngle(t){const e=c.T/(this._pointLabels.length||1),n=this.options.startAngle||0;return(0,c.ay)(t*e+(0,c.t)(n))}getDistanceFromCenterForValue(t){if((0,c.k)(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if((0,c.k)(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return ir(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const i=this.getIndexAngle(t)-c.H+n;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:i,bottom:o}=this._pointLabelItems[t];return{left:e,top:n,right:i,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),zs(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:i,border:o}=e,r=this._pointLabels.length;let l,u,f;if(e.pointLabels.display&&er(this,r),i.display&&this.ticks.forEach((b,_)=>{if(_!==0||_===0&&this.min<0){u=this.getDistanceFromCenterForValue(b.value);const C=this.getContext(_),E=i.setContext(C),R=o.setContext(C);nr(this,E,u,r,R)}}),n.display){for(t.save(),l=r-1;l>=0;l--){const b=n.setContext(this.getPointLabelContext(l)),{color:_,lineWidth:C}=b;!C||!_||(t.lineWidth=C,t.strokeStyle=_,t.setLineDash(b.borderDash),t.lineDashOffset=b.borderDashOffset,u=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),f=this.getPointPosition(l,u),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(f.x,f.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let o,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((l,u)=>{if(u===0&&this.min>=0&&!e.reverse)return;const f=n.setContext(this.getContext(u)),b=(0,c.a0)(f.font);if(o=this.getDistanceFromCenterForValue(this.ticks[u].value),f.showLabelBackdrop){t.font=b.string,r=t.measureText(l.label).width,t.fillStyle=f.backdropColor;const _=(0,c.E)(f.backdropPadding);t.fillRect(-r/2-_.left,-o-b.size/2-_.top,r+_.width,b.size+_.height)}(0,c.Z)(t,l.label,0,-o,b,{color:f.color,strokeColor:f.textStrokeColor,strokeWidth:f.textStrokeWidth})}),t.restore()}drawTitle(){}}const ns={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ke=Object.keys(ns);function Vs(s,t){return s-t}function Hs(s,t){if((0,c.k)(t))return null;const e=s._adapter,{parser:n,round:i,isoWeekday:o}=s._parseOpts;let r=t;return typeof n=="function"&&(r=n(r)),(0,c.g)(r)||(r=typeof n=="string"?e.parse(r,n):e.parse(r)),r===null?null:(i&&(r=i==="week"&&((0,c.x)(o)||o===!0)?e.startOf(r,"isoWeek",o):e.startOf(r,i)),+r)}function js(s,t,e,n){const i=ke.length;for(let o=ke.indexOf(s);o<i-1;++o){const r=ns[ke[o]],l=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((e-t)/(l*r.size))<=n)return ke[o]}return ke[i-1]}function or(s,t,e,n,i){for(let o=ke.length-1;o>=ke.indexOf(e);o--){const r=ke[o];if(ns[r].common&&s._adapter.diff(i,n,r)>=t-1)return r}return ke[e?ke.indexOf(e):0]}function rr(s){for(let t=ke.indexOf(s)+1,e=ke.length;t<e;++t)if(ns[ke[t]].common)return ke[t]}function Us(s,t,e){if(!e)s[t]=!0;else if(e.length){const{lo:n,hi:i}=(0,c.aP)(e,t),o=e[n]>=t?e[n]:e[i];s[o]=!0}}function ar(s,t,e,n){const i=s._adapter,o=+i.startOf(t[0].value,n),r=t[t.length-1].value;let l,u;for(l=o;l<=r;l=+i.add(l,1,n))u=e[l],u>=0&&(t[u].major=!0);return t}function Ys(s,t,e){const n=[],i={},o=t.length;let r,l;for(r=0;r<o;++r)l=t[r],i[l]=r,n.push({value:l,major:!1});return o===0||!e?n:ar(s,n,i,e)}class gs extends Ve{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const n=t.time||(t.time={}),i=this._adapter=new te._date(t.adapters.date);i.init(e),(0,c.ab)(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Hs(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:i,max:o,minDefined:r,maxDefined:l}=this.getUserBounds();function u(f){!r&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!l&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!r||!l)&&(u(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&u(this.getMinMax(!1))),i=(0,c.g)(i)&&!isNaN(i)?i:+e.startOf(Date.now(),n),o=(0,c.g)(o)&&!isNaN(o)?o:+e.endOf(Date.now(),n)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,r=this.max,l=(0,c.aO)(i,o,r);return this._unit=e.unit||(n.autoSkip?js(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):or(this,l.length,e.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:rr(this._unit),this.initOffsets(i),t.reverse&&l.reverse(),Ys(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,n=0,i,o;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?e=1-i:e=(this.getDecimalForValue(t[1])-i)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?n=o:n=(o-this.getDecimalForValue(t[t.length-2]))/2);const r=t.length<3?.5:.25;e=(0,c.S)(e,0,r),n=(0,c.S)(n,0,r),this._offsets={start:e,end:n,factor:1/(e+1+n)}}_generate(){const t=this._adapter,e=this.min,n=this.max,i=this.options,o=i.time,r=o.unit||js(o.minUnit,e,n,this._getLabelCapacity(e)),l=(0,c.v)(i.ticks.stepSize,1),u=r==="week"?o.isoWeekday:!1,f=(0,c.x)(u)||u===!0,b={};let _=e,C,E;if(f&&(_=+t.startOf(_,"isoWeek",u)),_=+t.startOf(_,f?"day":r),t.diff(n,e,r)>1e5*l)throw new Error(e+" and "+n+" are too far apart with stepSize of "+l+" "+r);const R=i.ticks.source==="data"&&this.getDataTimestamps();for(C=_,E=0;C<n;C=+t.add(C,l,r),E++)Us(b,C,R);return(C===n||i.bounds==="ticks"||E===1)&&Us(b,C,R),Object.keys(b).sort(Vs).map(N=>+N)}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const i=this.options.time.displayFormats,o=this._unit,r=e||i[o];return this._adapter.format(t,r)}_tickFormatFunction(t,e,n,i){const o=this.options,r=o.ticks.callback;if(r)return(0,c.Q)(r,[t,e,n],this);const l=o.time.displayFormats,u=this._unit,f=this._majorUnit,b=u&&l[u],_=f&&l[f],C=n[e],E=f&&_&&C&&C.major;return this._adapter.format(t,i||(E?_:b))}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,i=(0,c.t)(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(i),r=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:n*o+l*r,h:n*r+l*o}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,o=this._tickFormatFunction(t,0,Ys(this,[t],this._majorUnit),i),r=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return l>0?l:1}getDataTimestamps(){let t=this._cache.data||[],e,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,n=i.length;e<n;++e)t=t.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const i=this.getLabels();for(e=0,n=i.length;e<n;++e)t.push(Hs(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return(0,c._)(t.sort(Vs))}}function is(s,t,e){let n=0,i=s.length-1,o,r,l,u;e?(t>=s[n].pos&&t<=s[i].pos&&({lo:n,hi:i}=(0,c.B)(s,"pos",t)),{pos:o,time:l}=s[n],{pos:r,time:u}=s[i]):(t>=s[n].time&&t<=s[i].time&&({lo:n,hi:i}=(0,c.B)(s,"time",t)),{time:o,pos:l}=s[n],{time:r,pos:u}=s[i]);const f=r-o;return f?l+(u-l)*(t-o)/f:l}class lr extends gs{static id="timeseries";static defaults=gs.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=is(e,this.min),this._tableRange=is(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,i=[],o=[];let r,l,u,f,b;for(r=0,l=t.length;r<l;++r)f=t[r],f>=e&&f<=n&&i.push(f);if(i.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(r=0,l=i.length;r<l;++r)b=i[r+1],u=i[r-1],f=i[r],Math.round((b+u)/2)!==f&&o.push({time:f,pos:r/(l-1)});return o}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((i,o)=>i-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(is(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return is(this._table,n*this._tableRange+this._minPos,!0)}}var cr=Object.freeze({__proto__:null,CategoryScale:Wo,LinearScale:Vo,LogarithmicScale:Uo,RadialLinearScale:sr,TimeScale:gs,TimeSeriesScale:lr});const ur=[Ft,ie,Io,cr]},7715:(kt,ot,T)=>{T.d(ot,{$:()=>fn,A:()=>Oe,B:()=>he,C:()=>Xn,D:()=>ht,E:()=>xi,F:()=>B,G:()=>d,H:()=>Ht,I:()=>Ln,J:()=>x,K:()=>p,L:()=>Be,M:()=>ni,N:()=>pe,O:()=>G,P:()=>q,Q:()=>it,R:()=>Jn,S:()=>Nt,T:()=>ut,U:()=>F,V:()=>We,W:()=>Qt,X:()=>Fi,Y:()=>Me,Z:()=>Wi,_:()=>De,a:()=>Vi,a0:()=>zi,a1:()=>qe,a2:()=>Di,a3:()=>fi,a4:()=>Tt,a5:()=>qt,a6:()=>en,a7:()=>bt,a8:()=>pn,a9:()=>sn,aA:()=>yt,aB:()=>li,aC:()=>Ot,aD:()=>gi,aE:()=>U,aF:()=>k,aG:()=>$t,aH:()=>me,aI:()=>Yt,aJ:()=>ge,aK:()=>I,aL:()=>Hn,aM:()=>re,aN:()=>Cn,aO:()=>Le,aP:()=>ce,aa:()=>yi,ab:()=>_t,ac:()=>K,ad:()=>Je,ae:()=>h,af:()=>$n,ag:()=>rt,ah:()=>z,ai:()=>W,aj:()=>te,ak:()=>Pn,al:()=>Ei,am:()=>Ye,an:()=>Ue,ao:()=>S,ap:()=>P,aq:()=>w,ar:()=>Ni,as:()=>Kn,at:()=>Bi,au:()=>mi,av:()=>nn,aw:()=>bi,ax:()=>Se,ay:()=>xt,az:()=>J,b:()=>X,b3:()=>jt,b4:()=>Ut,b5:()=>ne,c:()=>cn,d:()=>Un,e:()=>yn,f:()=>ee,g:()=>j,h:()=>ue,i:()=>L,j:()=>Ve,k:()=>$,l:()=>Ie,m:()=>ft,n:()=>lt,o:()=>wn,p:()=>Ft,q:()=>Ri,r:()=>Qe,s:()=>Zt,t:()=>ae,u:()=>Ze,v:()=>nt,w:()=>ci,x:()=>Et,y:()=>He,z:()=>rn});var c=T(6447);function k(){}const K=(()=>{let a=0;return()=>a++})();function $(a){return a===null||typeof a>"u"}function X(a){if(Array.isArray&&Array.isArray(a))return!0;const g=Object.prototype.toString.call(a);return g.slice(0,7)==="[object"&&g.slice(-6)==="Array]"}function L(a){return a!==null&&Object.prototype.toString.call(a)==="[object Object]"}function j(a){return(typeof a=="number"||a instanceof Number)&&isFinite(+a)}function G(a,g){return j(a)?a:g}function nt(a,g){return typeof a>"u"?g:a}const ft=(a,g)=>typeof a=="string"&&a.endsWith("%")?parseFloat(a)/100:+a/g,lt=(a,g)=>typeof a=="string"&&a.endsWith("%")?parseFloat(a)/100*g:+a;function it(a,g,m){if(a&&typeof a.call=="function")return a.apply(m,g)}function B(a,g,m,y){let v,M,O;if(X(a))if(M=a.length,y)for(v=M-1;v>=0;v--)g.call(m,a[v],v);else for(v=0;v<M;v++)g.call(m,a[v],v);else if(L(a))for(O=Object.keys(a),M=O.length,v=0;v<M;v++)g.call(m,a[O[v]],O[v])}function z(a,g){let m,y,v,M;if(!a||!g||a.length!==g.length)return!1;for(m=0,y=a.length;m<y;++m)if(v=a[m],M=g[m],v.datasetIndex!==M.datasetIndex||v.index!==M.index)return!1;return!0}function Y(a){if(X(a))return a.map(Y);if(L(a)){const g=Object.create(null),m=Object.keys(a),y=m.length;let v=0;for(;v<y;++v)g[m[v]]=Y(a[m[v]]);return g}return a}function ct(a){return["__proto__","prototype","constructor"].indexOf(a)===-1}function wt(a,g,m,y){if(!ct(a))return;const v=g[a],M=m[a];L(v)&&L(M)?Tt(v,M,y):g[a]=Y(M)}function Tt(a,g,m){const y=X(g)?g:[g],v=y.length;if(!L(a))return a;m=m||{};const M=m.merger||wt;let O;for(let A=0;A<v;++A){if(O=y[A],!L(O))continue;const H=Object.keys(O);for(let st=0,gt=H.length;st<gt;++st)M(H[st],a,O,m)}return a}function _t(a,g){return Tt(a,g,{merger:Ct})}function Ct(a,g,m){if(!ct(a))return;const y=g[a],v=m[a];L(y)&&L(v)?_t(y,v):Object.prototype.hasOwnProperty.call(g,a)||(g[a]=Y(v))}function mt(a,g,m,y){g!==void 0&&console.warn(a+': "'+m+'" is deprecated. Please use "'+y+'" instead')}const Rt={"":a=>a,x:a=>a.x,y:a=>a.y};function Lt(a){const g=a.split("."),m=[];let y="";for(const v of g)y+=v,y.endsWith("\\")?y=y.slice(0,-1)+".":(m.push(y),y="");return m}function Gt(a){const g=Lt(a);return m=>{for(const y of g){if(y==="")break;m=m&&m[y]}return m}}function ee(a,g){return(Rt[g]||(Rt[g]=Gt(g)))(a)}function qt(a){return a.charAt(0).toUpperCase()+a.slice(1)}const ue=a=>typeof a<"u",bt=a=>typeof a=="function",rt=(a,g)=>{if(a.size!==g.size)return!1;for(const m of a)if(!g.has(m))return!1;return!0};function W(a){return a.type==="mouseup"||a.type==="click"||a.type==="contextmenu"}const q=Math.PI,ut=2*q,It=ut+q,Pt=Number.POSITIVE_INFINITY,jt=q/180,Ht=q/2,Ut=q/4,ne=q*2/3,re=Math.log10,Zt=Math.sign;function ge(a,g,m){return Math.abs(a-g)<m}function me(a){const g=Math.round(a);a=ge(a,g,a/1e3)?g:a;const m=Math.pow(10,Math.floor(re(a))),y=a/m;return(y<=1?1:y<=2?2:y<=5?5:10)*m}function pe(a){const g=[],m=Math.sqrt(a);let y;for(y=1;y<m;y++)a%y===0&&(g.push(y),g.push(a/y));return m===(m|0)&&g.push(m),g.sort((v,M)=>v-M).pop(),g}function Et(a){return!isNaN(parseFloat(a))&&isFinite(a)}function Yt(a,g){const m=Math.round(a);return m-g<=a&&m+g>=a}function $t(a,g,m){let y,v,M;for(y=0,v=a.length;y<v;y++)M=a[y][m],isNaN(M)||(g.min=Math.min(g.min,M),g.max=Math.max(g.max,M))}function ae(a){return a*(q/180)}function F(a){return a*(180/q)}function I(a){if(!j(a))return;let g=1,m=0;for(;Math.round(a*g)/g!==a;)g*=10,m++;return m}function ht(a,g){const m=g.x-a.x,y=g.y-a.y,v=Math.sqrt(m*m+y*y);let M=Math.atan2(y,m);return M<-.5*q&&(M+=ut),{angle:M,distance:v}}function U(a,g){return Math.sqrt(Math.pow(g.x-a.x,2)+Math.pow(g.y-a.y,2))}function et(a,g){return(a-g+It)%ut-q}function xt(a){return(a%ut+ut)%ut}function Ft(a,g,m,y){const v=xt(a),M=xt(g),O=xt(m),A=xt(M-v),H=xt(O-v),st=xt(v-M),gt=xt(v-O);return v===M||v===O||y&&M===O||A>H&&st<gt}function Nt(a,g,m){return Math.max(g,Math.min(m,a))}function Qt(a){return Nt(a,-32768,32767)}function te(a,g,m,y=1e-6){return a>=Math.min(g,m)-y&&a<=Math.max(g,m)+y}function ce(a,g,m){m=m||(O=>a[O]<g);let y=a.length-1,v=0,M;for(;y-v>1;)M=v+y>>1,m(M)?v=M:y=M;return{lo:v,hi:y}}const he=(a,g,m,y)=>ce(a,m,y?v=>{const M=a[v][g];return M<m||M===m&&a[v+1][g]===m}:v=>a[v][g]<m),Oe=(a,g,m)=>ce(a,m,y=>a[y][g]>=m);function Le(a,g,m){let y=0,v=a.length;for(;y<v&&a[y]<g;)y++;for(;v>y&&a[v-1]>m;)v--;return y>0||v<a.length?a.slice(y,v):a}const Ee=["push","pop","shift","splice","unshift"];function Ie(a,g){if(a._chartjs){a._chartjs.listeners.push(g);return}Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[g]}}),Ee.forEach(m=>{const y="_onData"+qt(m),v=a[m];Object.defineProperty(a,m,{configurable:!0,enumerable:!1,value(...M){const O=v.apply(this,M);return a._chartjs.listeners.forEach(A=>{typeof A[y]=="function"&&A[y](...M)}),O}})})}function Ze(a,g){const m=a._chartjs;if(!m)return;const y=m.listeners,v=y.indexOf(g);v!==-1&&y.splice(v,1),!(y.length>0)&&(Ee.forEach(M=>{delete a[M]}),delete a._chartjs)}function De(a){const g=new Set(a);return g.size===a.length?a:Array.from(g)}function Fe(a,g,m){return g+" "+a+"px "+m}const Qe=function(){return typeof window>"u"?function(a){return a()}:window.requestAnimationFrame}();function Be(a,g){let m=[],y=!1;return function(...v){m=v,y||(y=!0,Qe.call(window,()=>{y=!1,a.apply(g,m)}))}}function Je(a,g){let m;return function(...y){return g?(clearTimeout(m),m=setTimeout(a,g,y)):a.apply(this,y),g}}const qe=a=>a==="start"?"left":a==="end"?"right":"center",Di=(a,g,m)=>a==="start"?g:a==="end"?m:(g+m)/2,li=(a,g,m,y)=>a===(y?"left":"right")?m:a==="center"?(g+m)/2:g;function Ri(a,g,m){const y=g.length;let v=0,M=y;if(a._sorted){const{iScale:O,_parsed:A}=a,H=O.axis,{min:st,max:gt,minDefined:At,maxDefined:Wt}=O.getUserBounds();At&&(v=Nt(Math.min(he(A,H,st).lo,m?y:he(g,H,O.getPixelForValue(st)).lo),0,y-1)),Wt?M=Nt(Math.max(he(A,O.axis,gt,!0).hi+1,m?0:he(g,H,O.getPixelForValue(gt),!0).hi+1),v,y)-v:M=y-v}return{start:v,count:M}}function ci(a){const{xScale:g,yScale:m,_scaleRanges:y}=a,v={xmin:g.min,xmax:g.max,ymin:m.min,ymax:m.max};if(!y)return a._scaleRanges=v,!0;const M=y.xmin!==g.min||y.xmax!==g.max||y.ymin!==m.min||y.ymax!==m.max;return Object.assign(y,v),M}const ln=a=>a===0||a===1,Vn=(a,g,m)=>-(Math.pow(2,10*(a-=1))*Math.sin((a-g)*ut/m)),ui=(a,g,m)=>Math.pow(2,-10*a)*Math.sin((a-g)*ut/m)+1,yn={linear:a=>a,easeInQuad:a=>a*a,easeOutQuad:a=>-a*(a-2),easeInOutQuad:a=>(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1),easeInCubic:a=>a*a*a,easeOutCubic:a=>(a-=1)*a*a+1,easeInOutCubic:a=>(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2),easeInQuart:a=>a*a*a*a,easeOutQuart:a=>-((a-=1)*a*a*a-1),easeInOutQuart:a=>(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2),easeInQuint:a=>a*a*a*a*a,easeOutQuint:a=>(a-=1)*a*a*a*a+1,easeInOutQuint:a=>(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2),easeInSine:a=>-Math.cos(a*Ht)+1,easeOutSine:a=>Math.sin(a*Ht),easeInOutSine:a=>-.5*(Math.cos(q*a)-1),easeInExpo:a=>a===0?0:Math.pow(2,10*(a-1)),easeOutExpo:a=>a===1?1:-Math.pow(2,-10*a)+1,easeInOutExpo:a=>ln(a)?a:a<.5?.5*Math.pow(2,10*(a*2-1)):.5*(-Math.pow(2,-10*(a*2-1))+2),easeInCirc:a=>a>=1?a:-(Math.sqrt(1-a*a)-1),easeOutCirc:a=>Math.sqrt(1-(a-=1)*a),easeInOutCirc:a=>(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1),easeInElastic:a=>ln(a)?a:Vn(a,.075,.3),easeOutElastic:a=>ln(a)?a:ui(a,.075,.3),easeInOutElastic(a){return ln(a)?a:a<.5?.5*Vn(a*2,.1125,.45):.5+.5*ui(a*2-1,.1125,.45)},easeInBack(a){return a*a*((1.70158+1)*a-1.70158)},easeOutBack(a){return(a-=1)*a*((1.70158+1)*a+1.70158)+1},easeInOutBack(a){let g=1.70158;return(a/=.5)<1?.5*(a*a*(((g*=1.525)+1)*a-g)):.5*((a-=2)*a*(((g*=1.525)+1)*a+g)+2)},easeInBounce:a=>1-yn.easeOutBounce(1-a),easeOutBounce(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInOutBounce:a=>a<.5?yn.easeInBounce(a*2)*.5:yn.easeOutBounce(a*2-1)*.5+.5};function _n(a){if(a&&typeof a=="object"){const g=a.toString();return g==="[object CanvasPattern]"||g==="[object CanvasGradient]"}return!1}function cn(a){return _n(a)?a:new c.Q1(a)}function Ne(a){return _n(a)?a:new c.Q1(a).saturate(.5).darken(.1).hexString()}const vn=["x","y","borderWidth","radius","tension"],xe=["color","borderColor","backgroundColor"];function hi(a){a.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),a.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:g=>g!=="onProgress"&&g!=="onComplete"&&g!=="fn"}),a.set("animations",{colors:{type:"color",properties:xe},numbers:{type:"number",properties:vn}}),a.describe("animations",{_fallback:"animation"}),a.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:g=>g|0}}}})}function Ai(a){a.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const tn=new Map;function Li(a,g){g=g||{};const m=a+JSON.stringify(g);let y=tn.get(m);return y||(y=new Intl.NumberFormat(a,g),tn.set(m,y)),y}function wn(a,g,m){return Li(g,m).format(a)}const un={values(a){return X(a)?a:""+a},numeric(a,g,m){if(a===0)return"0";const y=this.chart.options.locale;let v,M=a;if(m.length>1){const st=Math.max(Math.abs(m[0].value),Math.abs(m[m.length-1].value));(st<1e-4||st>1e15)&&(v="scientific"),M=di(a,m)}const O=re(Math.abs(M)),A=isNaN(O)?1:Math.max(Math.min(-1*Math.floor(O),20),0),H={notation:v,minimumFractionDigits:A,maximumFractionDigits:A};return Object.assign(H,this.options.ticks.format),wn(a,y,H)},logarithmic(a,g,m){if(a===0)return"0";const y=m[g].significand||a/Math.pow(10,Math.floor(re(a)));return[1,2,3,5,10,15].includes(y)||g>.8*m.length?un.numeric.call(this,a,g,m):""}};function di(a,g){let m=g.length>3?g[2].value-g[1].value:g[1].value-g[0].value;return Math.abs(m)>=1&&a!==Math.floor(a)&&(m=a-Math.floor(a)),m}var Hn={formatters:un};function Ii(a){a.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(g,m)=>m.lineWidth,tickColor:(g,m)=>m.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Hn.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),a.route("scale.ticks","color","","color"),a.route("scale.grid","color","","borderColor"),a.route("scale.border","color","","borderColor"),a.route("scale.title","color","","color"),a.describe("scale",{_fallback:!1,_scriptable:g=>!g.startsWith("before")&&!g.startsWith("after")&&g!=="callback"&&g!=="parser",_indexable:g=>g!=="borderDash"&&g!=="tickBorderDash"&&g!=="dash"}),a.describe("scales",{_fallback:"scale"}),a.describe("scale.ticks",{_scriptable:g=>g!=="backdropPadding"&&g!=="callback",_indexable:g=>g!=="backdropPadding"})}const fi=Object.create(null),en=Object.create(null);function hn(a,g){if(!g)return a;const m=g.split(".");for(let y=0,v=m.length;y<v;++y){const M=m[y];a=a[M]||(a[M]=Object.create(null))}return a}function jn(a,g,m){return typeof g=="string"?Tt(hn(a,g),m):Tt(hn(a,""),g)}class dn{constructor(g,m){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=y=>y.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(y,v)=>Ne(v.backgroundColor),this.hoverBorderColor=(y,v)=>Ne(v.borderColor),this.hoverColor=(y,v)=>Ne(v.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(g),this.apply(m)}set(g,m){return jn(this,g,m)}get(g){return hn(this,g)}describe(g,m){return jn(en,g,m)}override(g,m){return jn(fi,g,m)}route(g,m,y,v){const M=hn(this,g),O=hn(this,y),A="_"+m;Object.defineProperties(M,{[A]:{value:M[m],writable:!0},[m]:{enumerable:!0,get(){const H=this[A],st=O[v];return L(H)?Object.assign({},st,H):nt(H,st)},set(H){this[A]=H}}})}apply(g){g.forEach(m=>m(this))}}var Un=new dn({_scriptable:a=>!a.startsWith("on"),_indexable:a=>a!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[hi,Ai,Ii]);function Yn(a){return!a||$(a.size)||$(a.family)?null:(a.style?a.style+" ":"")+(a.weight?a.weight+" ":"")+a.size+"px "+a.family}function We(a,g,m,y,v){let M=g[v];return M||(M=g[v]=a.measureText(v).width,m.push(v)),M>y&&(y=M),y}function Cn(a,g,m,y){y=y||{};let v=y.data=y.data||{},M=y.garbageCollect=y.garbageCollect||[];y.font!==g&&(v=y.data={},M=y.garbageCollect=[],y.font=g),a.save(),a.font=g;let O=0;const A=m.length;let H,st,gt,At,Wt;for(H=0;H<A;H++)if(At=m[H],At!=null&&!X(At))O=We(a,v,M,O,At);else if(X(At))for(st=0,gt=At.length;st<gt;st++)Wt=At[st],Wt!=null&&!X(Wt)&&(O=We(a,v,M,O,Wt));a.restore();const ie=M.length/2;if(ie>m.length){for(H=0;H<ie;H++)delete v[M[H]];M.splice(0,ie)}return O}function Fi(a,g,m){const y=a.currentDevicePixelRatio,v=m!==0?Math.max(m/2,.5):0;return Math.round((g-v)*y)/y+v}function $n(a,g){!g&&!a||(g=g||a.getContext("2d"),g.save(),g.resetTransform(),g.clearRect(0,0,a.width,a.height),g.restore())}function Bi(a,g,m,y){gi(a,g,m,y,null)}function gi(a,g,m,y,v){let M,O,A,H,st,gt,At,Wt;const ie=g.pointStyle,de=g.rotation,Vt=g.radius;let Dt=(de||0)*jt;if(ie&&typeof ie=="object"&&(M=ie.toString(),M==="[object HTMLImageElement]"||M==="[object HTMLCanvasElement]")){a.save(),a.translate(m,y),a.rotate(Dt),a.drawImage(ie,-ie.width/2,-ie.height/2,ie.width,ie.height),a.restore();return}if(!(isNaN(Vt)||Vt<=0)){switch(a.beginPath(),ie){default:v?a.ellipse(m,y,v/2,Vt,0,0,ut):a.arc(m,y,Vt,0,ut),a.closePath();break;case"triangle":gt=v?v/2:Vt,a.moveTo(m+Math.sin(Dt)*gt,y-Math.cos(Dt)*Vt),Dt+=ne,a.lineTo(m+Math.sin(Dt)*gt,y-Math.cos(Dt)*Vt),Dt+=ne,a.lineTo(m+Math.sin(Dt)*gt,y-Math.cos(Dt)*Vt),a.closePath();break;case"rectRounded":st=Vt*.516,H=Vt-st,O=Math.cos(Dt+Ut)*H,At=Math.cos(Dt+Ut)*(v?v/2-st:H),A=Math.sin(Dt+Ut)*H,Wt=Math.sin(Dt+Ut)*(v?v/2-st:H),a.arc(m-At,y-A,st,Dt-q,Dt-Ht),a.arc(m+Wt,y-O,st,Dt-Ht,Dt),a.arc(m+At,y+A,st,Dt,Dt+Ht),a.arc(m-Wt,y+O,st,Dt+Ht,Dt+q),a.closePath();break;case"rect":if(!de){H=Math.SQRT1_2*Vt,gt=v?v/2:H,a.rect(m-gt,y-H,2*gt,2*H);break}Dt+=Ut;case"rectRot":At=Math.cos(Dt)*(v?v/2:Vt),O=Math.cos(Dt)*Vt,A=Math.sin(Dt)*Vt,Wt=Math.sin(Dt)*(v?v/2:Vt),a.moveTo(m-At,y-A),a.lineTo(m+Wt,y-O),a.lineTo(m+At,y+A),a.lineTo(m-Wt,y+O),a.closePath();break;case"crossRot":Dt+=Ut;case"cross":At=Math.cos(Dt)*(v?v/2:Vt),O=Math.cos(Dt)*Vt,A=Math.sin(Dt)*Vt,Wt=Math.sin(Dt)*(v?v/2:Vt),a.moveTo(m-At,y-A),a.lineTo(m+At,y+A),a.moveTo(m+Wt,y-O),a.lineTo(m-Wt,y+O);break;case"star":At=Math.cos(Dt)*(v?v/2:Vt),O=Math.cos(Dt)*Vt,A=Math.sin(Dt)*Vt,Wt=Math.sin(Dt)*(v?v/2:Vt),a.moveTo(m-At,y-A),a.lineTo(m+At,y+A),a.moveTo(m+Wt,y-O),a.lineTo(m-Wt,y+O),Dt+=Ut,At=Math.cos(Dt)*(v?v/2:Vt),O=Math.cos(Dt)*Vt,A=Math.sin(Dt)*Vt,Wt=Math.sin(Dt)*(v?v/2:Vt),a.moveTo(m-At,y-A),a.lineTo(m+At,y+A),a.moveTo(m+Wt,y-O),a.lineTo(m-Wt,y+O);break;case"line":O=v?v/2:Math.cos(Dt)*Vt,A=Math.sin(Dt)*Vt,a.moveTo(m-O,y-A),a.lineTo(m+O,y+A);break;case"dash":a.moveTo(m,y),a.lineTo(m+Math.cos(Dt)*(v?v/2:Vt),y+Math.sin(Dt)*Vt);break;case!1:a.closePath();break}a.fill(),g.borderWidth>0&&a.stroke()}}function Xn(a,g,m){return m=m||.5,!g||a&&a.x>g.left-m&&a.x<g.right+m&&a.y>g.top-m&&a.y<g.bottom+m}function Me(a,g){a.save(),a.beginPath(),a.rect(g.left,g.top,g.right-g.left,g.bottom-g.top),a.clip()}function fn(a){a.restore()}function Ni(a,g,m,y,v){if(!g)return a.lineTo(m.x,m.y);if(v==="middle"){const M=(g.x+m.x)/2;a.lineTo(M,g.y),a.lineTo(M,m.y)}else v==="after"!=!!y?a.lineTo(g.x,m.y):a.lineTo(m.x,g.y);a.lineTo(m.x,m.y)}function Kn(a,g,m,y){if(!g)return a.lineTo(m.x,m.y);a.bezierCurveTo(y?g.cp1x:g.cp2x,y?g.cp1y:g.cp2y,y?m.cp2x:m.cp1x,y?m.cp2y:m.cp1y,m.x,m.y)}function Gn(a,g){g.translation&&a.translate(g.translation[0],g.translation[1]),$(g.rotation)||a.rotate(g.rotation),g.color&&(a.fillStyle=g.color),g.textAlign&&(a.textAlign=g.textAlign),g.textBaseline&&(a.textBaseline=g.textBaseline)}function pi(a,g,m,y,v){if(v.strikethrough||v.underline){const M=a.measureText(y),O=g-M.actualBoundingBoxLeft,A=g+M.actualBoundingBoxRight,H=m-M.actualBoundingBoxAscent,st=m+M.actualBoundingBoxDescent,gt=v.strikethrough?(H+st)/2:st;a.strokeStyle=a.fillStyle,a.beginPath(),a.lineWidth=v.decorationWidth||2,a.moveTo(O,gt),a.lineTo(A,gt),a.stroke()}}function ze(a,g){const m=a.fillStyle;a.fillStyle=g.color,a.fillRect(g.left,g.top,g.width,g.height),a.fillStyle=m}function Wi(a,g,m,y,v,M={}){const O=X(g)?g:[g],A=M.strokeWidth>0&&M.strokeColor!=="";let H,st;for(a.save(),a.font=v.string,Gn(a,M),H=0;H<O.length;++H)st=O[H],M.backdrop&&ze(a,M.backdrop),A&&(M.strokeColor&&(a.strokeStyle=M.strokeColor),$(M.strokeWidth)||(a.lineWidth=M.strokeWidth),a.strokeText(st,m,y,M.maxWidth)),a.fillText(st,m,y,M.maxWidth),pi(a,m,y,st,M),y+=Number(v.lineHeight);a.restore()}function mi(a,g){const{x:m,y,w:v,h:M,radius:O}=g;a.arc(m+O.topLeft,y+O.topLeft,O.topLeft,1.5*q,q,!0),a.lineTo(m,y+M-O.bottomLeft),a.arc(m+O.bottomLeft,y+M-O.bottomLeft,O.bottomLeft,q,Ht,!0),a.lineTo(m+v-O.bottomRight,y+M),a.arc(m+v-O.bottomRight,y+M-O.bottomRight,O.bottomRight,Ht,0,!0),a.lineTo(m+v,y+O.topRight),a.arc(m+v-O.topRight,y+O.topRight,O.topRight,0,-Ht,!0),a.lineTo(m+O.topLeft,y)}const Sn=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Zn=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Qn(a,g){const m=(""+a).match(Sn);if(!m||m[1]==="normal")return g*1.2;switch(a=+m[2],m[3]){case"px":return a;case"%":a/=100;break}return g*a}const gn=a=>+a||0;function Pn(a,g){const m={},y=L(g),v=y?Object.keys(g):g,M=L(a)?y?O=>nt(a[O],a[g[O]]):O=>a[O]:()=>a;for(const O of v)m[O]=gn(M(O));return m}function nn(a){return Pn(a,{top:"y",right:"x",bottom:"y",left:"x"})}function bi(a){return Pn(a,["topLeft","topRight","bottomLeft","bottomRight"])}function xi(a){const g=nn(a);return g.width=g.left+g.right,g.height=g.top+g.bottom,g}function zi(a,g){a=a||{},g=g||Un.font;let m=nt(a.size,g.size);typeof m=="string"&&(m=parseInt(m,10));let y=nt(a.style,g.style);y&&!(""+y).match(Zn)&&(console.warn('Invalid font style specified: "'+y+'"'),y=void 0);const v={family:nt(a.family,g.family),lineHeight:Qn(nt(a.lineHeight,g.lineHeight),m),size:m,style:y,weight:nt(a.weight,g.weight),string:""};return v.string=Yn(v),v}function Vi(a,g,m,y){let v=!0,M,O,A;for(M=0,O=a.length;M<O;++M)if(A=a[M],A!==void 0&&(g!==void 0&&typeof A=="function"&&(A=A(g),v=!1),m!==void 0&&X(A)&&(A=A[m%A.length],v=!1),A!==void 0))return y&&!v&&(y.cacheable=!1),A}function Jn(a,g,m){const{min:y,max:v}=a,M=lt(g,(v-y)/2),O=(A,H)=>m&&A===0?0:A+H;return{min:O(y,-Math.abs(M)),max:O(v,M)}}function Ve(a,g){return Object.assign(Object.create(a),g)}function sn(a,g=[""],m,y,v=()=>a[0]){const M=m||a;typeof y>"u"&&(y=Xe("_fallback",a));const O={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:a,_rootScopes:M,_fallback:y,_getTarget:v,override:A=>sn([A,...a],g,M,y)};return new Proxy(O,{deleteProperty(A,H){return delete A[H],delete A._keys,delete a[0][H],!0},get(A,H){return Ce(A,H,()=>kn(H,g,a,A))},getOwnPropertyDescriptor(A,H){return Reflect.getOwnPropertyDescriptor(A._scopes[0],H)},getPrototypeOf(){return Reflect.getPrototypeOf(a[0])},has(A,H){return ti(A).includes(H)},ownKeys(A){return ti(A)},set(A,H,st){const gt=A._storage||(A._storage=v());return A[H]=gt[H]=st,delete A._keys,!0}})}function pn(a,g,m,y){const v={_cacheable:!1,_proxy:a,_context:g,_subProxy:m,_stack:new Set,_descriptors:yi(a,y),setContext:M=>pn(a,M,m,y),override:M=>pn(a.override(M),g,m,y)};return new Proxy(v,{deleteProperty(M,O){return delete M[O],delete a[O],!0},get(M,O,A){return Ce(M,O,()=>_i(M,O,A))},getOwnPropertyDescriptor(M,O){return M._descriptors.allKeys?Reflect.has(a,O)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(a,O)},getPrototypeOf(){return Reflect.getPrototypeOf(a)},has(M,O){return Reflect.has(a,O)},ownKeys(){return Reflect.ownKeys(a)},set(M,O,A){return a[O]=A,delete M[O],!0}})}function yi(a,g={scriptable:!0,indexable:!0}){const{_scriptable:m=g.scriptable,_indexable:y=g.indexable,_allKeys:v=g.allKeys}=a;return{allKeys:v,scriptable:m,indexable:y,isScriptable:bt(m)?m:()=>m,isIndexable:bt(y)?y:()=>y}}const Hi=(a,g)=>a?a+qt(g):g,En=(a,g)=>L(g)&&a!=="adapters"&&(Object.getPrototypeOf(g)===null||g.constructor===Object);function Ce(a,g,m){if(Object.prototype.hasOwnProperty.call(a,g)||g==="constructor")return a[g];const y=m();return a[g]=y,y}function _i(a,g,m){const{_proxy:y,_context:v,_subProxy:M,_descriptors:O}=a;let A=y[g];return bt(A)&&O.isScriptable(g)&&(A=vi(g,A,a,m)),X(A)&&A.length&&(A=wi(g,A,a,O.isIndexable)),En(g,A)&&(A=pn(A,v,M&&M[g],O)),A}function vi(a,g,m,y){const{_proxy:v,_context:M,_subProxy:O,_stack:A}=m;if(A.has(a))throw new Error("Recursion detected: "+Array.from(A).join("->")+"->"+a);A.add(a);let H=g(M,O||y);return A.delete(a),En(a,H)&&(H=qn(v._scopes,v,a,H)),H}function wi(a,g,m,y){const{_proxy:v,_context:M,_subProxy:O,_descriptors:A}=m;if(typeof M.index<"u"&&y(a))return g[M.index%g.length];if(L(g[0])){const H=g,st=v._scopes.filter(gt=>gt!==H);g=[];for(const gt of H){const At=qn(st,v,a,gt);g.push(pn(At,M,O&&O[a],A))}}return g}function Mn(a,g,m){return bt(a)?a(g,m):a}const ji=(a,g)=>a===!0?g:typeof a=="string"?ee(g,a):void 0;function Tn(a,g,m,y,v){for(const M of g){const O=ji(m,M);if(O){a.add(O);const A=Mn(O._fallback,m,v);if(typeof A<"u"&&A!==m&&A!==y)return A}else if(O===!1&&typeof y<"u"&&m!==y)return null}return!1}function qn(a,g,m,y){const v=g._rootScopes,M=Mn(g._fallback,m,y),O=[...a,...v],A=new Set;A.add(y);let H=on(A,O,m,M||m,y);return H===null||typeof M<"u"&&M!==m&&(H=on(A,O,M,H,y),H===null)?!1:sn(Array.from(A),[""],v,M,()=>Ci(g,m,y))}function on(a,g,m,y,v){for(;m;)m=Tn(a,g,m,y,v);return m}function Ci(a,g,m){const y=a._getTarget();g in y||(y[g]={});const v=y[g];return X(v)&&L(m)?m:v||{}}function kn(a,g,m,y){let v;for(const M of g)if(v=Xe(Hi(M,a),m),typeof v<"u")return En(a,v)?qn(m,y,a,v):v}function Xe(a,g){for(const m of g){if(!m)continue;const y=m[a];if(typeof y<"u")return y}}function ti(a){let g=a._keys;return g||(g=a._keys=Ui(a._scopes)),g}function Ui(a){const g=new Set;for(const m of a)for(const y of Object.keys(m).filter(v=>!v.startsWith("_")))g.add(y);return Array.from(g)}function He(a,g,m,y){const{iScale:v}=a,{key:M="r"}=this._parsing,O=new Array(y);let A,H,st,gt;for(A=0,H=y;A<H;++A)st=A+m,gt=g[st],O[A]={r:v.parse(ee(gt,M),st)};return O}const Si=Number.EPSILON||1e-14,Ke=(a,g)=>g<a.length&&!a[g].skip&&a[g],ei=a=>a==="x"?"y":"x";function On(a,g,m,y){const v=a.skip?g:a,M=g,O=m.skip?g:m,A=U(M,v),H=U(O,M);let st=A/(A+H),gt=H/(A+H);st=isNaN(st)?0:st,gt=isNaN(gt)?0:gt;const At=y*st,Wt=y*gt;return{previous:{x:M.x-At*(O.x-v.x),y:M.y-At*(O.y-v.y)},next:{x:M.x+Wt*(O.x-v.x),y:M.y+Wt*(O.y-v.y)}}}function Dn(a,g,m){const y=a.length;let v,M,O,A,H,st=Ke(a,0);for(let gt=0;gt<y-1;++gt)if(H=st,st=Ke(a,gt+1),!(!H||!st)){if(ge(g[gt],0,Si)){m[gt]=m[gt+1]=0;continue}v=m[gt]/g[gt],M=m[gt+1]/g[gt],A=Math.pow(v,2)+Math.pow(M,2),!(A<=9)&&(O=3/Math.sqrt(A),m[gt]=v*O*g[gt],m[gt+1]=M*O*g[gt])}}function Rn(a,g,m="x"){const y=ei(m),v=a.length;let M,O,A,H=Ke(a,0);for(let st=0;st<v;++st){if(O=A,A=H,H=Ke(a,st+1),!A)continue;const gt=A[m],At=A[y];O&&(M=(gt-O[m])/3,A[`cp1${m}`]=gt-M,A[`cp1${y}`]=At-M*g[st]),H&&(M=(H[m]-gt)/3,A[`cp2${m}`]=gt+M,A[`cp2${y}`]=At+M*g[st])}}function mn(a,g="x"){const m=ei(g),y=a.length,v=Array(y).fill(0),M=Array(y);let O,A,H,st=Ke(a,0);for(O=0;O<y;++O)if(A=H,H=st,st=Ke(a,O+1),!!H){if(st){const gt=st[g]-H[g];v[O]=gt!==0?(st[m]-H[m])/gt:0}M[O]=A?st?Zt(v[O-1])!==Zt(v[O])?0:(v[O-1]+v[O])/2:v[O-1]:v[O]}Dn(a,v,M),Rn(a,M,g)}function An(a,g,m){return Math.max(Math.min(a,m),g)}function Pi(a,g){let m,y,v,M,O,A=Xn(a[0],g);for(m=0,y=a.length;m<y;++m)O=M,M=A,A=m<y-1&&Xn(a[m+1],g),M&&(v=a[m],O&&(v.cp1x=An(v.cp1x,g.left,g.right),v.cp1y=An(v.cp1y,g.top,g.bottom)),A&&(v.cp2x=An(v.cp2x,g.left,g.right),v.cp2y=An(v.cp2y,g.top,g.bottom)))}function Ei(a,g,m,y,v){let M,O,A,H;if(g.spanGaps&&(a=a.filter(st=>!st.skip)),g.cubicInterpolationMode==="monotone")mn(a,v);else{let st=y?a[a.length-1]:a[0];for(M=0,O=a.length;M<O;++M)A=a[M],H=On(st,A,a[Math.min(M+1,O-(y?0:1))%O],g.tension),A.cp1x=H.previous.x,A.cp1y=H.previous.y,A.cp2x=H.next.x,A.cp2y=H.next.y,st=A}g.capBezierPoints&&Pi(a,m)}function ni(){return typeof window<"u"&&typeof document<"u"}function Ln(a){let g=a.parentNode;return g&&g.toString()==="[object ShadowRoot]"&&(g=g.host),g}function In(a,g,m){let y;return typeof a=="string"?(y=parseInt(a,10),a.indexOf("%")!==-1&&(y=y/100*g.parentNode[m])):y=a,y}const bn=a=>a.ownerDocument.defaultView.getComputedStyle(a,null);function Mi(a,g){return bn(a).getPropertyValue(g)}const Re=["top","right","bottom","left"];function je(a,g,m){const y={};m=m?"-"+m:"";for(let v=0;v<4;v++){const M=Re[v];y[M]=parseFloat(a[g+"-"+M+m])||0}return y.width=y.left+y.right,y.height=y.top+y.bottom,y}const Ti=(a,g,m)=>(a>0||g>0)&&(!m||!m.shadowRoot);function Fn(a,g){const m=a.touches,y=m&&m.length?m[0]:a,{offsetX:v,offsetY:M}=y;let O=!1,A,H;if(Ti(v,M,a.target))A=v,H=M;else{const st=g.getBoundingClientRect();A=y.clientX-st.left,H=y.clientY-st.top,O=!0}return{x:A,y:H,box:O}}function rn(a,g){if("native"in a)return a;const{canvas:m,currentDevicePixelRatio:y}=g,v=bn(m),M=v.boxSizing==="border-box",O=je(v,"padding"),A=je(v,"border","width"),{x:H,y:st,box:gt}=Fn(a,m),At=O.left+(gt&&A.left),Wt=O.top+(gt&&A.top);let{width:ie,height:de}=g;return M&&(ie-=O.width+A.width,de-=O.height+A.height),{x:Math.round((H-At)/ie*m.width/y),y:Math.round((st-Wt)/de*m.height/y)}}function Yi(a,g,m){let y,v;if(g===void 0||m===void 0){const M=a&&Ln(a);if(!M)g=a.clientWidth,m=a.clientHeight;else{const O=M.getBoundingClientRect(),A=bn(M),H=je(A,"border","width"),st=je(A,"padding");g=O.width-st.width-H.width,m=O.height-st.height-H.height,y=In(A.maxWidth,M,"clientWidth"),v=In(A.maxHeight,M,"clientHeight")}}return{width:g,height:m,maxWidth:y||Pt,maxHeight:v||Pt}}const Bn=a=>Math.round(a*10)/10;function d(a,g,m,y){const v=bn(a),M=je(v,"margin"),O=In(v.maxWidth,a,"clientWidth")||Pt,A=In(v.maxHeight,a,"clientHeight")||Pt,H=Yi(a,g,m);let{width:st,height:gt}=H;if(v.boxSizing==="content-box"){const Wt=je(v,"border","width"),ie=je(v,"padding");st-=ie.width+Wt.width,gt-=ie.height+Wt.height}return st=Math.max(0,st-M.width),gt=Math.max(0,y?st/y:gt-M.height),st=Bn(Math.min(st,O,H.maxWidth)),gt=Bn(Math.min(gt,A,H.maxHeight)),st&&!gt&&(gt=Bn(st/2)),(g!==void 0||m!==void 0)&&y&&H.height&&gt>H.height&&(gt=H.height,st=Bn(Math.floor(gt*y))),{width:st,height:gt}}function h(a,g,m){const y=g||1,v=Math.floor(a.height*y),M=Math.floor(a.width*y);a.height=Math.floor(a.height),a.width=Math.floor(a.width);const O=a.canvas;return O.style&&(m||!O.style.height&&!O.style.width)&&(O.style.height=`${a.height}px`,O.style.width=`${a.width}px`),a.currentDevicePixelRatio!==y||O.height!==v||O.width!==M?(a.currentDevicePixelRatio=y,O.height=v,O.width=M,a.ctx.setTransform(y,0,0,y,0,0),!0):!1}const p=function(){let a=!1;try{const g={get passive(){return a=!0,!1}};ni()&&(window.addEventListener("test",null,g),window.removeEventListener("test",null,g))}catch{}return a}();function x(a,g){const m=Mi(a,g),y=m&&m.match(/^(\d+)(\.\d+)?px$/);return y?+y[1]:void 0}function w(a,g,m,y){return{x:a.x+m*(g.x-a.x),y:a.y+m*(g.y-a.y)}}function S(a,g,m,y){return{x:a.x+m*(g.x-a.x),y:y==="middle"?m<.5?a.y:g.y:y==="after"?m<1?a.y:g.y:m>0?g.y:a.y}}function P(a,g,m,y){const v={x:a.cp2x,y:a.cp2y},M={x:g.cp1x,y:g.cp1y},O=w(a,v,m),A=w(v,M,m),H=w(M,g,m),st=w(O,A,m),gt=w(A,H,m);return w(st,gt,m)}const D=function(a,g){return{x(m){return a+a+g-m},setWidth(m){g=m},textAlign(m){return m==="center"?m:m==="right"?"left":"right"},xPlus(m,y){return m-y},leftForLtr(m,y){return m-y}}},V=function(){return{x(a){return a},setWidth(a){},textAlign(a){return a},xPlus(a,g){return a+g},leftForLtr(a,g){return a}}};function J(a,g,m){return a?D(g,m):V()}function yt(a,g){let m,y;(g==="ltr"||g==="rtl")&&(m=a.canvas.style,y=[m.getPropertyValue("direction"),m.getPropertyPriority("direction")],m.setProperty("direction",g,"important"),a.prevTextDirection=y)}function Ot(a,g){g!==void 0&&(delete a.prevTextDirection,a.canvas.style.setProperty("direction",g[0],g[1]))}function Bt(a){return a==="angle"?{between:Ft,compare:et,normalize:xt}:{between:te,compare:(g,m)=>g-m,normalize:g=>g}}function se({start:a,end:g,count:m,loop:y,style:v}){return{start:a%m,end:g%m,loop:y&&(g-a+1)%m===0,style:v}}function le(a,g,m){const{property:y,start:v,end:M}=m,{between:O,normalize:A}=Bt(y),H=g.length;let{start:st,end:gt,loop:At}=a,Wt,ie;if(At){for(st+=H,gt+=H,Wt=0,ie=H;Wt<ie&&O(A(g[st%H][y]),v,M);++Wt)st--,gt--;st%=H,gt%=H}return gt<st&&(gt+=H),{start:st,end:gt,loop:At,style:a.style}}function Se(a,g,m){if(!m)return[a];const{property:y,start:v,end:M}=m,O=g.length,{compare:A,between:H,normalize:st}=Bt(y),{start:gt,end:At,loop:Wt,style:ie}=le(a,g,m),de=[];let Vt=!1,Dt=null,_e,Nn,si;const rs=()=>H(v,si,_e)&&A(v,si)!==0,as=()=>A(M,_e)===0||H(M,si,_e),Qi=()=>Vt||rs(),ls=()=>!Vt||as();for(let Wn=gt,Ji=gt;Wn<=At;++Wn)Nn=g[Wn%O],!Nn.skip&&(_e=st(Nn[y]),_e!==si&&(Vt=H(_e,v,M),Dt===null&&Qi()&&(Dt=A(_e,v)===0?Wn:Ji),Dt!==null&&ls()&&(de.push(se({start:Dt,end:Wn,loop:Wt,count:O,style:ie})),Dt=null),Ji=Wn,si=_e));return Dt!==null&&de.push(se({start:Dt,end:At,loop:Wt,count:O,style:ie})),de}function Ue(a,g){const m=[],y=a.segments;for(let v=0;v<y.length;v++){const M=Se(y[v],a.points,g);M.length&&m.push(...M)}return m}function Pe(a,g,m,y){let v=0,M=g-1;if(m&&!y)for(;v<g&&!a[v].skip;)v++;for(;v<g&&a[v].skip;)v++;for(v%=g,m&&(M+=v);M>v&&a[M%g].skip;)M--;return M%=g,{start:v,end:M}}function ye(a,g,m,y){const v=a.length,M=[];let O=g,A=a[g],H;for(H=g+1;H<=m;++H){const st=a[H%v];st.skip||st.stop?A.skip||(y=!1,M.push({start:g%v,end:(H-1)%v,loop:y}),g=O=st.stop?H:null):(O=H,A.skip&&(g=H)),A=st}return O!==null&&M.push({start:g%v,end:O%v,loop:y}),M}function Ye(a,g){const m=a.points,y=a.options.spanGaps,v=m.length;if(!v)return[];const M=!!a._loop,{start:O,end:A}=Pe(m,v,M,y);if(y===!0)return $e(a,[{start:O,end:A,loop:M}],m,g);const H=A<O?A+v:A,st=!!a._fullLoop&&O===0&&A===v-1;return $e(a,ye(m,O,H,st),m,g)}function $e(a,g,m,y){return!y||!y.setContext||!m?g:ii(a,g,m,y)}function ii(a,g,m,y){const v=a._chart.getContext(),M=Zi(a.options),{_datasetIndex:O,options:{spanGaps:A}}=a,H=m.length,st=[];let gt=M,At=g[0].start,Wt=At;function ie(de,Vt,Dt,_e){const Nn=A?-1:1;if(de!==Vt){for(de+=H;m[de%H].skip;)de-=Nn;for(;m[Vt%H].skip;)Vt+=Nn;de%H!==Vt%H&&(st.push({start:de%H,end:Vt%H,loop:Dt,style:_e}),gt=_e,At=Vt%H)}}for(const de of g){At=A?At:de.start;let Vt=m[At%H],Dt;for(Wt=At+1;Wt<=de.end;Wt++){const _e=m[Wt%H];Dt=Zi(y.setContext(Ve(v,{type:"segment",p0:Vt,p1:_e,p0DataIndex:(Wt-1)%H,p1DataIndex:Wt%H,datasetIndex:O}))),os(Dt,gt)&&ie(At,Wt-1,de.loop,gt),Vt=_e,gt=Dt}At<Wt-1&&ie(At,Wt-1,de.loop,gt)}return st}function Zi(a){return{backgroundColor:a.backgroundColor,borderCapStyle:a.borderCapStyle,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderJoinStyle:a.borderJoinStyle,borderWidth:a.borderWidth,borderColor:a.borderColor}}function os(a,g){if(!g)return!1;const m=[],y=function(v,M){return _n(M)?(m.includes(M)||m.push(M),m.indexOf(M)):M};return JSON.stringify(a,y)!==JSON.stringify(g,y)}},5638:(kt,ot,T)=>{T.d(ot,{A:()=>Fn});var c=T(6118),k=T(7715);const K={modes:{point(d,h){return j(d,h,{intersect:!0})},nearest(d,h,p){return G(d,h,p)},x(d,h,p){return j(d,h,{intersect:p.intersect,axis:"x"})},y(d,h,p){return j(d,h,{intersect:p.intersect,axis:"y"})}}};function $(d,h,p){return(K.modes[p.mode]||K.modes.nearest)(d,h,p)}function X(d,h,p){return p!=="x"&&p!=="y"?d.inRange(h.x,h.y,"x",!0)||d.inRange(h.x,h.y,"y",!0):d.inRange(h.x,h.y,p,!0)}function L(d,h,p){return p==="x"?{x:d.x,y:h.y}:p==="y"?{x:h.x,y:d.y}:h}function j(d,h,p){return d.filter(x=>p.intersect?x.inRange(h.x,h.y):X(x,h,p.axis))}function G(d,h,p){let x=Number.POSITIVE_INFINITY;return j(d,h,p).reduce((w,S)=>{const P=S.getCenterPoint(),D=L(h,P,p.axis),V=(0,k.aE)(h,D);return V<x?(w=[S],x=V):V===x&&w.push(S),w},[]).sort((w,S)=>w._index-S._index).slice(0,1)}function nt(d,h,p){const x=Math.cos(p),w=Math.sin(p),S=h.x,P=h.y;return{x:S+x*(d.x-S)-w*(d.y-P),y:P+w*(d.x-S)+x*(d.y-P)}}const ft=(d,h)=>h>d||d.length>h.length&&d.slice(0,h.length)===h,lt=.001,it=(d,h,p)=>Math.min(p,Math.max(h,d)),B=(d,h)=>d.value>=d.start-h&&d.value<=d.end+h;function z(d,h,p){for(const x of Object.keys(d))d[x]=it(d[x],h,p);return d}function Y(d,h,p,x){return!d||!h||p<=0?!1:Math.pow(d.x-h.x,2)+Math.pow(d.y-h.y,2)<=Math.pow(p+x,2)}function ct(d,{x:h,y:p,x2:x,y2:w},S,{borderWidth:P,hitTolerance:D}){const V=(P+D)/2,J=d.x>=h-V-lt&&d.x<=x+V+lt,yt=d.y>=p-V-lt&&d.y<=w+V+lt;return S==="x"?J:(S==="y"||J)&&yt}function wt(d,{rect:h,center:p},x,{rotation:w,borderWidth:S,hitTolerance:P}){const D=nt(d,p,(0,k.t)(-w));return ct(D,h,x,{borderWidth:S,hitTolerance:P})}function Tt(d,h){const{centerX:p,centerY:x}=d.getProps(["centerX","centerY"],h);return{x:p,y:x}}function _t(d,h,p,x=!0){const w=p.split(".");let S=0;for(const P of h.split(".")){const D=w[S++];if(parseInt(P,10)<parseInt(D,10))break;if(ft(D,P)){if(x)throw new Error(`${d} v${p} is not supported. v${h} or newer is required.`);return!1}}return!0}const Ct=d=>typeof d=="string"&&d.endsWith("%"),mt=d=>parseFloat(d)/100,Rt=d=>it(mt(d),0,1),Lt=(d,h)=>({x:d,y:h,x2:d,y2:h,width:0,height:0}),Gt={box:d=>Lt(d.centerX,d.centerY),doughnutLabel:d=>Lt(d.centerX,d.centerY),ellipse:d=>({centerX:d.centerX,centerY:d.centerX,radius:0,width:0,height:0}),label:d=>Lt(d.centerX,d.centerY),line:d=>Lt(d.x,d.y),point:d=>({centerX:d.centerX,centerY:d.centerY,radius:0,width:0,height:0}),polygon:d=>Lt(d.centerX,d.centerY)};function ee(d,h){return h==="start"?0:h==="end"?d:Ct(h)?Rt(h)*d:d/2}function qt(d,h,p=!0){return typeof h=="number"?h:Ct(h)?(p?Rt(h):mt(h))*d:d}function ue(d,h){const{x:p,width:x}=d,w=h.textAlign;return w==="center"?p+x/2:w==="end"||w==="right"?p+x:p}function bt(d,h,{borderWidth:p,position:x,xAdjust:w,yAdjust:S},P){const D=(0,k.i)(P),V=h.width+(D?P.width:0)+p,J=h.height+(D?P.height:0)+p,yt=rt(x),Ot=It(d.x,V,w,yt.x),Bt=It(d.y,J,S,yt.y);return{x:Ot,y:Bt,x2:Ot+V,y2:Bt+J,width:V,height:J,centerX:Ot+V/2,centerY:Bt+J/2}}function rt(d,h="center"){return(0,k.i)(d)?{x:(0,k.v)(d.x,h),y:(0,k.v)(d.y,h)}:(d=(0,k.v)(d,h),{x:d,y:d})}const W=(d,h)=>d&&d.autoFit&&h<1;function q(d,h){const p=d.font,x=(0,k.b)(p)?p:[p];return W(d,h)?x.map(function(w){const S=(0,k.a0)(w);return S.size=Math.floor(w.size*h),S.lineHeight=w.lineHeight,(0,k.a0)(S)}):x.map(w=>(0,k.a0)(w))}function ut(d){return d&&((0,k.h)(d.xValue)||(0,k.h)(d.yValue))}function It(d,h,p=0,x){return d-ee(h,x)+p}function Pt(d,h,p){const x=p.init;if(x){if(x===!0)return Ht(h,p)}else return;return Ut(d,h,p)}function jt(d,h,p){let x=!1;return h.forEach(w=>{(0,k.a7)(d[w])?(x=!0,p[w]=d[w]):(0,k.h)(p[w])&&delete p[w]}),x}function Ht(d,h){const p=h.type||"line";return Gt[p](d)}function Ut(d,h,p){const x=(0,k.Q)(p.init,[{chart:d,properties:h,options:p}]);if(x===!0)return Ht(h,p);if((0,k.i)(x))return x}const ne=new Map,re=d=>isNaN(d)||d<=0,Zt=d=>d.reduce(function(h,p){return h+=p.string,h},"");function ge(d){if(d&&typeof d=="object"){const h=d.toString();return h==="[object HTMLImageElement]"||h==="[object HTMLCanvasElement]"}}function me(d,{x:h,y:p},x){x&&(d.translate(h,p),d.rotate((0,k.t)(x)),d.translate(-h,-p))}function pe(d,h){if(h&&h.borderWidth)return d.lineCap=h.borderCapStyle||"butt",d.setLineDash(h.borderDash),d.lineDashOffset=h.borderDashOffset,d.lineJoin=h.borderJoinStyle||"miter",d.lineWidth=h.borderWidth,d.strokeStyle=h.borderColor,!0}function Et(d,h){d.shadowColor=h.backgroundShadowColor,d.shadowBlur=h.shadowBlur,d.shadowOffsetX=h.shadowOffsetX,d.shadowOffsetY=h.shadowOffsetY}function Yt(d,h){const p=h.content;if(ge(p))return{width:qt(p.width,h.width),height:qt(p.height,h.height)};const x=q(h),w=h.textStrokeWidth,S=(0,k.b)(p)?p:[p],P=S.join()+Zt(x)+w+(d._measureText?"-spriting":"");return ne.has(P)||ne.set(P,U(d,S,x,w)),ne.get(P)}function $t(d,h,p){const{x,y:w,width:S,height:P}=h;d.save(),Et(d,p);const D=pe(d,p);d.fillStyle=p.backgroundColor,d.beginPath(),(0,k.au)(d,{x,y:w,w:S,h:P,radius:z((0,k.aw)(p.borderRadius),0,Math.min(S,P)/2)}),d.closePath(),d.fill(),D&&(d.shadowColor=p.borderShadowColor,d.stroke()),d.restore()}function ae(d,h,p,x){const w=p.content;if(ge(w)){d.save(),d.globalAlpha=Ft(p.opacity,w.style.opacity),d.drawImage(w,h.x,h.y,h.width,h.height),d.restore();return}const S=(0,k.b)(w)?w:[w],P=q(p,x),D=p.color,V=(0,k.b)(D)?D:[D],J=ue(h,p),yt=h.y+p.textStrokeWidth/2;d.save(),d.textBaseline="middle",d.textAlign=p.textAlign,F(d,p)&&et(d,{x:J,y:yt},S,P),xt(d,{x:J,y:yt},S,{fonts:P,colors:V}),d.restore()}function F(d,h){if(h.textStrokeWidth>0)return d.lineJoin="round",d.miterLimit=2,d.lineWidth=h.textStrokeWidth,d.strokeStyle=h.textStrokeColor,!0}function I(d,h,p,x){const{radius:w,options:S}=h,P=S.pointStyle,D=S.rotation;let V=(D||0)*k.b3;if(ge(P)){d.save(),d.translate(p,x),d.rotate(V),d.drawImage(P,-P.width/2,-P.height/2,P.width,P.height),d.restore();return}re(w)||ht(d,{x:p,y:x,radius:w,rotation:D,style:P,rad:V})}function ht(d,{x:h,y:p,radius:x,rotation:w,style:S,rad:P}){let D,V,J,yt;switch(d.beginPath(),S){default:d.arc(h,p,x,0,k.T),d.closePath();break;case"triangle":d.moveTo(h+Math.sin(P)*x,p-Math.cos(P)*x),P+=k.b5,d.lineTo(h+Math.sin(P)*x,p-Math.cos(P)*x),P+=k.b5,d.lineTo(h+Math.sin(P)*x,p-Math.cos(P)*x),d.closePath();break;case"rectRounded":yt=x*.516,J=x-yt,D=Math.cos(P+k.b4)*J,V=Math.sin(P+k.b4)*J,d.arc(h-D,p-V,yt,P-k.P,P-k.H),d.arc(h+V,p-D,yt,P-k.H,P),d.arc(h+D,p+V,yt,P,P+k.H),d.arc(h-V,p+D,yt,P+k.H,P+k.P),d.closePath();break;case"rect":if(!w){J=Math.SQRT1_2*x,d.rect(h-J,p-J,2*J,2*J);break}P+=k.b4;case"rectRot":D=Math.cos(P)*x,V=Math.sin(P)*x,d.moveTo(h-D,p-V),d.lineTo(h+V,p-D),d.lineTo(h+D,p+V),d.lineTo(h-V,p+D),d.closePath();break;case"crossRot":P+=k.b4;case"cross":D=Math.cos(P)*x,V=Math.sin(P)*x,d.moveTo(h-D,p-V),d.lineTo(h+D,p+V),d.moveTo(h+V,p-D),d.lineTo(h-V,p+D);break;case"star":D=Math.cos(P)*x,V=Math.sin(P)*x,d.moveTo(h-D,p-V),d.lineTo(h+D,p+V),d.moveTo(h+V,p-D),d.lineTo(h-V,p+D),P+=k.b4,D=Math.cos(P)*x,V=Math.sin(P)*x,d.moveTo(h-D,p-V),d.lineTo(h+D,p+V),d.moveTo(h+V,p-D),d.lineTo(h-V,p+D);break;case"line":D=Math.cos(P)*x,V=Math.sin(P)*x,d.moveTo(h-D,p-V),d.lineTo(h+D,p+V);break;case"dash":d.moveTo(h,p),d.lineTo(h+Math.cos(P)*x,p+Math.sin(P)*x);break}d.fill()}function U(d,h,p,x){d.save();const w=h.length;let S=0,P=x;for(let D=0;D<w;D++){const V=p[Math.min(D,p.length-1)];d.font=V.string;const J=h[D];S=Math.max(S,d.measureText(J).width+x),P+=V.lineHeight}return d.restore(),{width:S,height:P}}function et(d,{x:h,y:p},x,w){d.beginPath();let S=0;x.forEach(function(P,D){const V=w[Math.min(D,w.length-1)],J=V.lineHeight;d.font=V.string,d.strokeText(P,h,p+J/2+S),S+=J}),d.stroke()}function xt(d,{x:h,y:p},x,{fonts:w,colors:S}){let P=0;x.forEach(function(D,V){const J=S[Math.min(V,S.length-1)],yt=w[Math.min(V,w.length-1)],Ot=yt.lineHeight;d.beginPath(),d.font=yt.string,d.fillStyle=J,d.fillText(D,h,p+Ot/2+P),P+=Ot,d.fill()})}function Ft(d,h){const p=(0,k.x)(d)?d:h;return(0,k.x)(p)?it(p,0,1):1}const Nt=["left","bottom","top","right"];function Qt(d,h){const{pointX:p,pointY:x,options:w}=h,S=w.callout,P=S&&S.display&&Le(h,S);if(!P||Ie(h,S,P))return;if(d.save(),d.beginPath(),!pe(d,S))return d.restore();const{separatorStart:V,separatorEnd:J}=te(h,P),{sideStart:yt,sideEnd:Ot}=he(h,P,V);(S.margin>0||w.borderWidth===0)&&(d.moveTo(V.x,V.y),d.lineTo(J.x,J.y)),d.moveTo(yt.x,yt.y),d.lineTo(Ot.x,Ot.y);const Bt=nt({x:p,y:x},h.getCenterPoint(),(0,k.t)(-h.rotation));d.lineTo(Bt.x,Bt.y),d.stroke(),d.restore()}function te(d,h){const{x:p,y:x,x2:w,y2:S}=d,P=ce(d,h);let D,V;return h==="left"||h==="right"?(D={x:p+P,y:x},V={x:D.x,y:S}):(D={x:p,y:x+P},V={x:w,y:D.y}),{separatorStart:D,separatorEnd:V}}function ce(d,h){const{width:p,height:x,options:w}=d,S=w.callout.margin+w.borderWidth/2;return h==="right"?p+S:h==="bottom"?x+S:-S}function he(d,h,p){const{y:x,width:w,height:S,options:P}=d,D=P.callout.start,V=Oe(h,P.callout);let J,yt;return h==="left"||h==="right"?(J={x:p.x,y:x+qt(S,D)},yt={x:J.x+V,y:J.y}):(J={x:p.x+qt(w,D),y:p.y},yt={x:J.x,y:J.y+V}),{sideStart:J,sideEnd:yt}}function Oe(d,h){const p=h.side;return d==="left"||d==="top"?-p:p}function Le(d,h){const p=h.position;return Nt.includes(p)?p:Ee(d,h)}function Ee(d,h){const{x:p,y:x,x2:w,y2:S,width:P,height:D,pointX:V,pointY:J,centerX:yt,centerY:Ot,rotation:Bt}=d,se={x:yt,y:Ot},le=h.start,Se=qt(P,le),Ue=qt(D,le),Pe=[p,p+Se,p+Se,w],ye=[x+Ue,S,x,S],Ye=[];for(let $e=0;$e<4;$e++){const ii=nt({x:Pe[$e],y:ye[$e]},se,(0,k.t)(Bt));Ye.push({position:Nt[$e],distance:(0,k.aE)(ii,{x:V,y:J})})}return Ye.sort(($e,ii)=>$e.distance-ii.distance)[0].position}function Ie(d,h,p){const{pointX:x,pointY:w}=d,S=h.margin;let P=x,D=w;return p==="left"?P+=S:p==="right"?P-=S:p==="top"?D+=S:p==="bottom"&&(D-=S),d.inRange(P,D)}const Ze={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function De(d,h,p){return h=typeof h=="number"?h:d.parse(h),(0,k.g)(h)?d.getPixelForValue(h):p}function Fe(d,h,p){const x=h[p];if(x||p==="scaleID")return x;const w=p.charAt(0),S=Object.values(d).filter(P=>P.axis&&P.axis===w);return S.length?S[0].id:w}function Qe(d,h){if(d){const p=d.options.reverse,x=De(d,h.min,p?h.end:h.start),w=De(d,h.max,p?h.start:h.end);return{start:x,end:w}}}function Be(d,h){const{chartArea:p,scales:x}=d,w=x[Fe(x,h,"xScaleID")],S=x[Fe(x,h,"yScaleID")];let P=p.width/2,D=p.height/2;return w&&(P=De(w,h.xValue,w.left+w.width/2)),S&&(D=De(S,h.yValue,S.top+S.height/2)),{x:P,y:D}}function Je(d,h){const p=d.scales,x=p[Fe(p,h,"xScaleID")],w=p[Fe(p,h,"yScaleID")];if(!x&&!w)return{};let{left:S,right:P}=x||d.chartArea,{top:D,bottom:V}=w||d.chartArea;const J=ci(x,{min:h.xMin,max:h.xMax,start:S,end:P});S=J.start,P=J.end;const yt=ci(w,{min:h.yMin,max:h.yMax,start:V,end:D});return D=yt.start,V=yt.end,{x:S,y:D,x2:P,y2:V,width:P-S,height:V-D,centerX:S+(P-S)/2,centerY:D+(V-D)/2}}function qe(d,h){if(!ut(h)){const p=Je(d,h);let x=h.radius;(!x||isNaN(x))&&(x=Math.min(p.width,p.height)/2,h.radius=x);const w=x*2,S=p.centerX+h.xAdjust,P=p.centerY+h.yAdjust;return{x:S-x,y:P-x,x2:S+x,y2:P+x,centerX:S,centerY:P,width:w,height:w,radius:x}}return Ri(d,h)}function Di(d,h){const{scales:p,chartArea:x}=d,w=p[h.scaleID],S={x:x.left,y:x.top,x2:x.right,y2:x.bottom};return w?ln(w,S,h):Vn(p,S,h),S}function li(d,h){const p=Je(d,h);return p.initProperties=Pt(d,p,h),p.elements=[{type:"label",optionScope:"label",properties:cn(d,p,h),initProperties:p.initProperties}],p}function Ri(d,h){const p=Be(d,h),x=h.radius*2;return{x:p.x-h.radius+h.xAdjust,y:p.y-h.radius+h.yAdjust,x2:p.x+h.radius+h.xAdjust,y2:p.y+h.radius+h.yAdjust,centerX:p.x+h.xAdjust,centerY:p.y+h.yAdjust,radius:h.radius,width:x,height:x}}function ci(d,h){const p=Qe(d,h)||h;return{start:Math.min(p.start,p.end),end:Math.max(p.start,p.end)}}function ln(d,h,p){const x=De(d,p.value,NaN),w=De(d,p.endValue,x);d.isHorizontal()?(h.x=x,h.x2=w):(h.y=x,h.y2=w)}function Vn(d,h,p){for(const x of Object.keys(Ze)){const w=d[Fe(d,p,x)];if(w){const{min:S,max:P,start:D,end:V,startProp:J,endProp:yt}=Ze[x],Ot=Qe(w,{min:p[S],max:p[P],start:w[D],end:w[V]});h[J]=Ot.start,h[yt]=Ot.end}}}function ui({properties:d,options:h},p,x,w){const{x:S,x2:P,width:D}=d;return _n({start:S,end:P,size:D,borderWidth:h.borderWidth},{position:x.x,padding:{start:w.left,end:w.right},adjust:h.label.xAdjust,size:p.width})}function yn({properties:d,options:h},p,x,w){const{y:S,y2:P,height:D}=d;return _n({start:S,end:P,size:D,borderWidth:h.borderWidth},{position:x.y,padding:{start:w.top,end:w.bottom},adjust:h.label.yAdjust,size:p.height})}function _n(d,h){const{start:p,end:x,borderWidth:w}=d,{position:S,padding:{start:P,end:D},adjust:V}=h,J=x-w-p-P-D-h.size;return p+w/2+V+ee(J,S)}function cn(d,h,p){const x=p.label;x.backgroundColor="transparent",x.callout.display=!1;const w=rt(x.position),S=(0,k.E)(x.padding),P=Yt(d.ctx,x),D=ui({properties:h,options:p},P,w,S),V=yn({properties:h,options:p},P,w,S),J=P.width+S.width,yt=P.height+S.height;return{x:D,y:V,x2:D+J,y2:V+yt,width:J,height:yt,centerX:D+J/2,centerY:V+yt/2,rotation:x.rotation}}const Ne=["enter","leave"],vn=Ne.concat("click");function xe(d,h,p){h.listened=jt(p,vn,h.listeners),h.moveListened=!1,Ne.forEach(x=>{(0,k.a7)(p[x])&&(h.moveListened=!0)}),(!h.listened||!h.moveListened)&&h.annotations.forEach(x=>{!h.listened&&(0,k.a7)(x.click)&&(h.listened=!0),h.moveListened||Ne.forEach(w=>{(0,k.a7)(x[w])&&(h.listened=!0,h.moveListened=!0)})})}function hi(d,h,p){if(d.listened)switch(h.type){case"mousemove":case"mouseout":return Ai(d,h,p);case"click":return Li(d,h,p)}}function Ai(d,h,p){if(!d.moveListened)return;let x;h.type==="mousemove"?x=$(d.visibleElements,h,p.interaction):x=[];const w=d.hovered;d.hovered=x;const S={state:d,event:h};let P=tn(S,"leave",w,x);return tn(S,"enter",x,w)||P}function tn({state:d,event:h},p,x,w){let S;for(const P of x)w.indexOf(P)<0&&(S=wn(P.options[p]||d.listeners[p],P,h)||S);return S}function Li(d,h,p){const x=d.listeners,w=$(d.visibleElements,h,p.interaction);let S;for(const P of w)S=wn(P.options.click||x.click,P,h)||S;return S}function wn(d,h,p){return(0,k.Q)(d,[h.$context,p])===!0}const un=["afterDraw","beforeDraw"];function di(d,h,p){const x=h.visibleElements;h.hooked=jt(p,un,h.hooks),h.hooked||x.forEach(w=>{h.hooked||un.forEach(S=>{(0,k.a7)(w.options[S])&&(h.hooked=!0)})})}function Hn(d,h,p){if(d.hooked){const x=h.options[p]||d.hooks[p];return(0,k.Q)(x,[h.$context])}}function Ii(d,h,p){const x=Un(d.scales,h,p);let w=en(h,x,"min","suggestedMin");w=en(h,x,"max","suggestedMax")||w,w&&(0,k.a7)(h.handleTickRangeOptions)&&h.handleTickRangeOptions()}function fi(d,h){for(const p of d)jn(p,h)}function en(d,h,p,x){if((0,k.g)(h[p])&&!hn(d.options,p,x)){const w=d[p]!==h[p];return d[p]=h[p],w}}function hn(d,h,p){return(0,k.h)(d[h])||(0,k.h)(d[p])}function jn(d,h){for(const p of["scaleID","xScaleID","yScaleID"]){const x=Fe(h,d,p);x&&!h[x]&&dn(d,p)&&console.warn(`No scale found with id '${x}' for annotation '${d.id}'`)}}function dn(d,h){if(h==="scaleID")return!0;const p=h.charAt(0);for(const x of["Min","Max","Value"])if((0,k.h)(d[p+x]))return!0;return!1}function Un(d,h,p){const x=h.axis,w=h.id,S=x+"ScaleID",P={min:(0,k.v)(h.min,Number.NEGATIVE_INFINITY),max:(0,k.v)(h.max,Number.POSITIVE_INFINITY)};for(const D of p)D.scaleID===w?Yn(D,h,["value","endValue"],P):Fe(d,D,S)===w&&Yn(D,h,[x+"Min",x+"Max",x+"Value"],P);return P}function Yn(d,h,p,x){for(const w of p){const S=d[w];if((0,k.h)(S)){const P=h.parse(S);x.min=Math.min(x.min,P),x.max=Math.max(x.max,P)}}}class We extends c.Hg{inRange(h,p,x,w){const{x:S,y:P}=nt({x:h,y:p},this.getCenterPoint(w),(0,k.t)(-this.options.rotation));return ct({x:S,y:P},this.getProps(["x","y","x2","y2"],w),x,this.options)}getCenterPoint(h){return Tt(this,h)}draw(h){h.save(),me(h,this.getCenterPoint(),this.options.rotation),$t(h,this,this.options),h.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(h,p){return li(h,p)}}We.id="boxAnnotation",We.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},We.defaultRoutes={borderColor:"color",backgroundColor:"color"},We.descriptors={label:{_fallback:!0}};class Cn extends c.Hg{inRange(h,p,x,w){return wt({x:h,y:p},{rect:this.getProps(["x","y","x2","y2"],w),center:this.getCenterPoint(w)},x,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(h){return Tt(this,h)}draw(h){const p=this.options;!p.display||!p.content||(Me(h,this),h.save(),me(h,this.getCenterPoint(),this.rotation),ae(h,this,p,this._fitRatio),h.restore())}resolveElementProperties(h,p){const x=Fi(h,p);if(!x)return{};const{controllerMeta:w,point:S,radius:P}=Bi(h,p,x);let D=Yt(h.ctx,p);const V=gi(D,P);W(p,V)&&(D={width:D.width*V,height:D.height*V});const{position:J,xAdjust:yt,yAdjust:Ot}=p,Bt=bt(S,D,{borderWidth:0,position:J,xAdjust:yt,yAdjust:Ot});return{initProperties:Pt(h,Bt,p),...Bt,...w,rotation:p.rotation,_fitRatio:V}}}Cn.id="doughnutLabelAnnotation",Cn.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0},Cn.defaultRoutes={};function Fi(d,h){return d.getSortedVisibleDatasetMetas().reduce(function(p,x){const w=x.controller;return w instanceof c.ju&&$n(d,h,x.data)&&(!p||w.innerRadius<p.controller.innerRadius)&&w.options.circumference>=90?x:p},void 0)}function $n(d,h,p){if(!h.autoHide)return!0;for(let x=0;x<p.length;x++)if(!p[x].hidden&&d.getDataVisibility(x))return!0}function Bi({chartArea:d},h,p){const{left:x,top:w,right:S,bottom:P}=d,{innerRadius:D,offsetX:V,offsetY:J}=p.controller,yt=(x+S)/2+V,Ot=(w+P)/2+J,Bt={left:Math.max(yt-D,x),right:Math.min(yt+D,S),top:Math.max(Ot-D,w),bottom:Math.min(Ot+D,P)},se={x:(Bt.left+Bt.right)/2,y:(Bt.top+Bt.bottom)/2},le=h.spacing+h.borderWidth/2,Se=D-le,Ue=se.y>Ot,Pe=Ue?w+le:P-le,ye=Xn(Pe,yt,Ot,Se);return{controllerMeta:{_centerX:yt,_centerY:Ot,_radius:Se,_counterclockwise:Ue,...ye},point:se,radius:Math.min(D,Math.min(Bt.right-Bt.left,Bt.bottom-Bt.top)/2)}}function gi({width:d,height:h},p){const x=Math.sqrt(Math.pow(d,2)+Math.pow(h,2));return p*2/x}function Xn(d,h,p,x){const w=Math.pow(p-d,2),S=Math.pow(x,2),P=h*-2,D=Math.pow(h,2)+w-S,V=Math.pow(P,2)-4*D;if(V<=0)return{_startAngle:0,_endAngle:k.T};const J=(-P-Math.sqrt(V))/2,yt=(-P+Math.sqrt(V))/2;return{_startAngle:(0,k.D)({x:h,y:p},{x:J,y:d}).angle,_endAngle:(0,k.D)({x:h,y:p},{x:yt,y:d}).angle}}function Me(d,h){const{_centerX:p,_centerY:x,_radius:w,_startAngle:S,_endAngle:P,_counterclockwise:D,options:V}=h;d.save();const J=pe(d,V);d.fillStyle=V.backgroundColor,d.beginPath(),d.arc(p,x,w,S,P,D),d.closePath(),d.fill(),J&&d.stroke(),d.restore()}class fn extends c.Hg{inRange(h,p,x,w){return wt({x:h,y:p},{rect:this.getProps(["x","y","x2","y2"],w),center:this.getCenterPoint(w)},x,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(h){return Tt(this,h)}draw(h){const p=this.options,x=!(0,k.h)(this._visible)||this._visible;!p.display||!p.content||!x||(h.save(),me(h,this.getCenterPoint(),this.rotation),Qt(h,this),$t(h,this,p),ae(h,Ni(this),p),h.restore())}resolveElementProperties(h,p){let x;if(ut(p))x=Be(h,p);else{const{centerX:D,centerY:V}=Je(h,p);x={x:D,y:V}}const w=(0,k.E)(p.padding),S=Yt(h.ctx,p),P=bt(x,S,p,w);return{initProperties:Pt(h,P,p),pointX:x.x,pointY:x.y,...P,rotation:p.rotation}}}fn.id="labelAnnotation",fn.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},fn.defaultRoutes={borderColor:"color"};function Ni({x:d,y:h,width:p,height:x,options:w}){const S=w.borderWidth/2,P=(0,k.E)(w.padding);return{x:d+P.left+S,y:h+P.top+S,width:p-P.left-P.right-w.borderWidth,height:x-P.top-P.bottom-w.borderWidth}}const Kn=(d,h,p)=>({x:d.x+p*(h.x-d.x),y:d.y+p*(h.y-d.y)}),Gn=(d,h,p)=>Kn(h,p,Math.abs((d-h.y)/(p.y-h.y))).x,pi=(d,h,p)=>Kn(h,p,Math.abs((d-h.x)/(p.x-h.x))).y,ze=d=>d*d,Wi=(d,h,{x:p,y:x,x2:w,y2:S},P)=>P==="y"?{start:Math.min(x,S),end:Math.max(x,S),value:h}:{start:Math.min(p,w),end:Math.max(p,w),value:d},mi=(d,h,p,x)=>(1-x)*(1-x)*d+2*(1-x)*x*h+x*x*p,Sn=(d,h,p,x)=>({x:mi(d.x,h.x,p.x,x),y:mi(d.y,h.y,p.y,x)}),Zn=(d,h,p,x)=>2*(1-x)*(h-d)+2*x*(p-h),Qn=(d,h,p,x)=>-Math.atan2(Zn(d.x,h.x,p.x,x),Zn(d.y,h.y,p.y,x))+.5*k.P;class gn extends c.Hg{inRange(h,p,x,w){const S=(this.options.borderWidth+this.options.hitTolerance)/2;if(x!=="x"&&x!=="y"){const P={mouseX:h,mouseY:p},{path:D,ctx:V}=this;if(D){pe(V,this.options),V.lineWidth+=this.options.hitTolerance;const{chart:yt}=this.$context,Ot=h*yt.currentDevicePixelRatio,Bt=p*yt.currentDevicePixelRatio,se=V.isPointInStroke(D,Ot,Bt)||Jn(this,P,w);return V.restore(),se}const J=ze(S);return Vi(this,P,J,w)||Jn(this,P,w)}return nn(this,{mouseX:h,mouseY:p},x,{hitSize:S,useFinalPosition:w})}getCenterPoint(h){return Tt(this,h)}draw(h){const{x:p,y:x,x2:w,y2:S,cp:P,options:D}=this;if(h.save(),!pe(h,D))return h.restore();Et(h,D);const V=Math.sqrt(Math.pow(w-p,2)+Math.pow(S-x,2));if(D.curve&&P)return qn(h,this,P,V),h.restore();const{startOpts:J,endOpts:yt,startAdjust:Ot,endAdjust:Bt}=vi(this),se=Math.atan2(S-x,w-p);h.translate(p,x),h.rotate(se),h.beginPath(),h.moveTo(0+Ot,0),h.lineTo(V-Bt,0),h.shadowColor=D.borderShadowColor,h.stroke(),Mn(h,0,Ot,J),Mn(h,V,-Bt,yt),h.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(h,p){const x=Di(h,p),{x:w,y:S,x2:P,y2:D}=x,V=bi(x,h.chartArea),J=V?zi({x:w,y:S},{x:P,y:D},h.chartArea):{x:w,y:S,x2:P,y2:D,width:Math.abs(P-w),height:Math.abs(D-S)};if(J.centerX=(P+w)/2,J.centerY=(D+S)/2,J.initProperties=Pt(h,J,p),p.curve){const Ot={x:J.x,y:J.y},Bt={x:J.x2,y:J.y2};J.cp=ji(J,p,(0,k.aE)(Ot,Bt))}const yt=Ve(h,J,p.label);return yt._visible=V,J.elements=[{type:"label",optionScope:"label",properties:yt,initProperties:J.initProperties}],J}}gn.id="lineAnnotation";const Pn={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};gn.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},Pn),fill:!1,length:12,start:Object.assign({},Pn),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},fn.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},gn.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}},gn.defaultRoutes={borderColor:"color"};function nn(d,{mouseX:h,mouseY:p},x,{hitSize:w,useFinalPosition:S}){const P=Wi(h,p,d.getProps(["x","y","x2","y2"],S),x);return B(P,w)||Jn(d,{mouseX:h,mouseY:p},S,x)}function bi({x:d,y:h,x2:p,y2:x},{top:w,right:S,bottom:P,left:D}){return!(d<D&&p<D||d>S&&p>S||h<w&&x<w||h>P&&x>P)}function xi({x:d,y:h},p,{top:x,right:w,bottom:S,left:P}){return d<P&&(h=pi(P,{x:d,y:h},p),d=P),d>w&&(h=pi(w,{x:d,y:h},p),d=w),h<x&&(d=Gn(x,{x:d,y:h},p),h=x),h>S&&(d=Gn(S,{x:d,y:h},p),h=S),{x:d,y:h}}function zi(d,h,p){const{x,y:w}=xi(d,h,p),{x:S,y:P}=xi(h,d,p);return{x,y:w,x2:S,y2:P,width:Math.abs(S-x),height:Math.abs(P-w)}}function Vi(d,{mouseX:h,mouseY:p},x=lt,w){const{x:S,y:P,x2:D,y2:V}=d.getProps(["x","y","x2","y2"],w),J=D-S,yt=V-P,Ot=ze(J)+ze(yt),Bt=Ot===0?-1:((h-S)*J+(p-P)*yt)/Ot;let se,le;return Bt<0?(se=S,le=P):Bt>1?(se=D,le=V):(se=S+Bt*J,le=P+Bt*yt),ze(h-se)+ze(p-le)<=x}function Jn(d,{mouseX:h,mouseY:p},x,w){const S=d.label;return S.options.display&&S.inRange(h,p,w,x)}function Ve(d,h,p){const x=p.borderWidth,w=(0,k.E)(p.padding),S=Yt(d.ctx,p),P=S.width+w.width+x,D=S.height+w.height+x;return pn(h,p,{width:P,height:D,padding:w},d.chartArea)}function sn(d){const{x:h,y:p,x2:x,y2:w}=d,S=Math.atan2(w-p,x-h);return S>k.P/2?S-k.P:S<k.P/-2?S+k.P:S}function pn(d,h,p,x){const{width:w,height:S,padding:P}=p,{xAdjust:D,yAdjust:V}=h,J={x:d.x,y:d.y},yt={x:d.x2,y:d.y2},Ot=h.rotation==="auto"?sn(d):(0,k.t)(h.rotation),Bt=yi(w,S,Ot),se=Hi(d,h,{labelSize:Bt,padding:P},x),le=d.cp?Sn(J,d.cp,yt,se):Kn(J,yt,se),Se={size:Bt.w,min:x.left,max:x.right,padding:P.left},Ue={size:Bt.h,min:x.top,max:x.bottom,padding:P.top},Pe=_i(le.x,Se)+D,ye=_i(le.y,Ue)+V;return{x:Pe-w/2,y:ye-S/2,x2:Pe+w/2,y2:ye+S/2,centerX:Pe,centerY:ye,pointX:le.x,pointY:le.y,width:w,height:S,rotation:(0,k.U)(Ot)}}function yi(d,h,p){const x=Math.cos(p),w=Math.sin(p);return{w:Math.abs(d*x)+Math.abs(h*w),h:Math.abs(d*w)+Math.abs(h*x)}}function Hi(d,h,p,x){let w;const S=Ce(d,x);return h.position==="start"?w=En({w:d.x2-d.x,h:d.y2-d.y},p,h,S):h.position==="end"?w=1-En({w:d.x-d.x2,h:d.y-d.y2},p,h,S):w=ee(1,h.position),w}function En(d,h,p,x){const{labelSize:w,padding:S}=h,P=d.w*x.dx,D=d.h*x.dy,V=P>0&&(w.w/2+S.left-x.x)/P,J=D>0&&(w.h/2+S.top-x.y)/D;return it(Math.max(V,J),0,.25)}function Ce(d,h){const{x:p,x2:x,y:w,y2:S}=d,P=Math.min(w,S)-h.top,D=Math.min(p,x)-h.left,V=h.bottom-Math.max(w,S),J=h.right-Math.max(p,x);return{x:Math.min(D,J),y:Math.min(P,V),dx:D<=J?1:-1,dy:P<=V?1:-1}}function _i(d,h){const{size:p,min:x,max:w,padding:S}=h,P=p/2;return p>w-x?(w+x)/2:(x>=d-S-P&&(d=x+S+P),w<=d+S+P&&(d=w-S-P),d)}function vi(d){const h=d.options,p=h.arrowHeads&&h.arrowHeads.start,x=h.arrowHeads&&h.arrowHeads.end;return{startOpts:p,endOpts:x,startAdjust:wi(d,p),endAdjust:wi(d,x)}}function wi(d,h){if(!h||!h.display)return 0;const{length:p,width:x}=h,w=d.options.borderWidth/2,S={x:p,y:x+w};return Math.abs(Gn(0,S,{x:0,y:w}))}function Mn(d,h,p,x){if(!x||!x.display)return;const{length:w,width:S,fill:P,backgroundColor:D,borderColor:V}=x,J=Math.abs(h-w)+p;d.beginPath(),Et(d,x),pe(d,x),d.moveTo(J,-S),d.lineTo(h+p,0),d.lineTo(J,S),P===!0?(d.fillStyle=D||V,d.closePath(),d.fill(),d.shadowColor="transparent"):d.shadowColor=x.borderShadowColor,d.stroke()}function ji(d,h,p){const{x,y:w,x2:S,y2:P,centerX:D,centerY:V}=d,J=Math.atan2(P-w,S-x),yt=rt(h.controlPoint,0),Ot={x:D+qt(p,yt.x,!1),y:V+qt(p,yt.y,!1)};return nt(Ot,{x:D,y:V},J)}function Tn(d,{x:h,y:p},{angle:x,adjust:w},S){!S||!S.display||(d.save(),d.translate(h,p),d.rotate(x),Mn(d,0,-w,S),d.restore())}function qn(d,h,p,x){const{x:w,y:S,x2:P,y2:D,options:V}=h,{startOpts:J,endOpts:yt,startAdjust:Ot,endAdjust:Bt}=vi(h),se={x:w,y:S},le={x:P,y:D},Se=Qn(se,p,le,0),Ue=Qn(se,p,le,1)-k.P,Pe=Sn(se,p,le,Ot/x),ye=Sn(se,p,le,1-Bt/x),Ye=new Path2D;d.beginPath(),Ye.moveTo(Pe.x,Pe.y),Ye.quadraticCurveTo(p.x,p.y,ye.x,ye.y),d.shadowColor=V.borderShadowColor,d.stroke(Ye),h.path=Ye,h.ctx=d,Tn(d,Pe,{angle:Se,adjust:Ot},J),Tn(d,ye,{angle:Ue,adjust:Bt},yt)}class on extends c.Hg{inRange(h,p,x,w){const S=this.options.rotation,P=(this.options.borderWidth+this.options.hitTolerance)/2;if(x!=="x"&&x!=="y")return Ci({x:h,y:p},this.getProps(["width","height","centerX","centerY"],w),S,P);const{x:D,y:V,x2:J,y2:yt}=this.getProps(["x","y","x2","y2"],w),Ot=x==="y"?{start:V,end:yt}:{start:D,end:J},Bt=nt({x:h,y:p},this.getCenterPoint(w),(0,k.t)(-S));return Bt[x]>=Ot.start-P-lt&&Bt[x]<=Ot.end+P+lt}getCenterPoint(h){return Tt(this,h)}draw(h){const{width:p,height:x,centerX:w,centerY:S,options:P}=this;h.save(),me(h,this.getCenterPoint(),P.rotation),Et(h,this.options),h.beginPath(),h.fillStyle=P.backgroundColor;const D=pe(h,P);h.ellipse(w,S,x/2,p/2,k.P/2,0,2*k.P),h.fill(),D&&(h.shadowColor=P.borderShadowColor,h.stroke()),h.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(h,p){return li(h,p)}}on.id="ellipseAnnotation",on.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},We.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},on.defaultRoutes={borderColor:"color",backgroundColor:"color"},on.descriptors={label:{_fallback:!0}};function Ci(d,h,p,x){const{width:w,height:S,centerX:P,centerY:D}=h,V=w/2,J=S/2;if(V<=0||J<=0)return!1;const yt=(0,k.t)(p||0),Ot=Math.cos(yt),Bt=Math.sin(yt),se=Math.pow(Ot*(d.x-P)+Bt*(d.y-D),2),le=Math.pow(Bt*(d.x-P)-Ot*(d.y-D),2);return se/Math.pow(V+x,2)+le/Math.pow(J+x,2)<=1.0001}class kn extends c.Hg{inRange(h,p,x,w){const{x:S,y:P,x2:D,y2:V,width:J}=this.getProps(["x","y","x2","y2","width"],w),yt=(this.options.borderWidth+this.options.hitTolerance)/2;return x!=="x"&&x!=="y"?Y({x:h,y:p},this.getCenterPoint(w),J/2,yt):B(x==="y"?{start:P,end:V,value:p}:{start:S,end:D,value:h},yt)}getCenterPoint(h){return Tt(this,h)}draw(h){const p=this.options,x=p.borderWidth;if(p.radius<.1)return;h.save(),h.fillStyle=p.backgroundColor,Et(h,p);const w=pe(h,p);I(h,this,this.centerX,this.centerY),w&&!ge(p.pointStyle)&&(h.shadowColor=p.borderShadowColor,h.stroke()),h.restore(),p.borderWidth=x}resolveElementProperties(h,p){const x=qe(h,p);return x.initProperties=Pt(h,x,p),x}}kn.id="pointAnnotation",kn.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},kn.defaultRoutes={borderColor:"color",backgroundColor:"color"};class Xe extends c.Hg{inRange(h,p,x,w){if(x!=="x"&&x!=="y")return this.options.radius>=.1&&this.elements.length>1&&Ui(this.elements,h,p,w);const S=nt({x:h,y:p},this.getCenterPoint(w),(0,k.t)(-this.options.rotation)),P=this.elements.map(J=>x==="y"?J.bY:J.bX),D=Math.min(...P),V=Math.max(...P);return S[x]>=D&&S[x]<=V}getCenterPoint(h){return Tt(this,h)}draw(h){const{elements:p,options:x}=this;h.save(),h.beginPath(),h.fillStyle=x.backgroundColor,Et(h,x);const w=pe(h,x);let S=!0;for(const P of p)S?(h.moveTo(P.x,P.y),S=!1):h.lineTo(P.x,P.y);h.closePath(),h.fill(),w&&(h.shadowColor=x.borderShadowColor,h.stroke()),h.restore()}resolveElementProperties(h,p){const x=qe(h,p),{sides:w,rotation:S}=p,P=[],D=2*k.P/w;let V=S*k.b3;for(let J=0;J<w;J++,V+=D){const yt=ti(x,p,V);yt.initProperties=Pt(h,x,p),P.push(yt)}return x.elements=P,x}}Xe.id="polygonAnnotation",Xe.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},Xe.defaultRoutes={borderColor:"color",backgroundColor:"color"};function ti({centerX:d,centerY:h},{radius:p,borderWidth:x,hitTolerance:w},S){const P=(x+w)/2,D=Math.sin(S),V=Math.cos(S),J={x:d+D*p,y:h-V*p};return{type:"point",optionScope:"point",properties:{x:J.x,y:J.y,centerX:J.x,centerY:J.y,bX:d+D*(p+P),bY:h-V*(p+P)}}}function Ui(d,h,p,x){let w=!1,S=d[d.length-1].getProps(["bX","bY"],x);for(const P of d){const D=P.getProps(["bX","bY"],x);D.bY>p!=S.bY>p&&h<(S.bX-D.bX)*(p-D.bY)/(S.bY-D.bY)+D.bX&&(w=!w),S=D}return w}const He={box:We,doughnutLabel:Cn,ellipse:on,label:fn,line:gn,point:kn,polygon:Xe};Object.keys(He).forEach(d=>{k.d.describe(`elements.${He[d].id}`,{_fallback:"plugins.annotation.common"})});const Si={update:Object.assign},Ke=vn.concat(un),ei=(d,h)=>(0,k.i)(h)?Ln(d,h):d,On=d=>d==="color"||d==="font";function Dn(d="line"){return He[d]?d:(console.warn(`Unknown annotation type: '${d}', defaulting to 'line'`),"line")}function Rn(d,h,p,x){const w=An(d,p.animations,x),S=h.annotations,P=bn(h.elements,S);for(let D=0;D<S.length;D++){const V=S[D],J=Ei(P,D,V.type),yt=V.setContext(In(d,J,P,V)),Ot=J.resolveElementProperties(d,yt);Ot.skip=mn(Ot),"elements"in Ot&&(Pi(J,Ot.elements,yt,w),delete Ot.elements),(0,k.h)(J.x)||Object.assign(J,Ot),Object.assign(J,Ot.initProperties),Ot.options=ni(yt),w.update(J,Ot)}}function mn(d){return isNaN(d.x)||isNaN(d.y)}function An(d,h,p){return p==="reset"||p==="none"||p==="resize"?Si:new c.Qw(d,h)}function Pi(d,h,p,x){const w=d.elements||(d.elements=[]);w.length=h.length;for(let S=0;S<h.length;S++){const P=h[S],D=P.properties,V=Ei(w,S,P.type,P.initProperties),J=p[P.optionScope].override(P);D.options=ni(J),x.update(V,D)}}function Ei(d,h,p,x){const w=He[Dn(p)];let S=d[h];return(!S||!(S instanceof w))&&(S=d[h]=new w,Object.assign(S,x)),S}function ni(d){const h=He[Dn(d.type)],p={};p.id=d.id,p.type=d.type,p.drawTime=d.drawTime,Object.assign(p,Ln(d,h.defaults),Ln(d,h.defaultRoutes));for(const x of Ke)p[x]=d[x];return p}function Ln(d,h){const p={};for(const x of Object.keys(h)){const w=h[x],S=d[x];On(x)&&(0,k.b)(S)?p[x]=S.map(P=>ei(P,w)):p[x]=ei(S,w)}return p}function In(d,h,p,x){return h.$context||(h.$context=Object.assign(Object.create(d.getContext()),{element:h,get elements(){return p.filter(w=>w&&w.options)},id:x.id,type:"annotation"}))}function bn(d,h){const p=h.length,x=d.length;if(x<p){const w=p-x;d.splice(x,0,...new Array(w))}else x>p&&d.splice(p,x-p);return d}var Mi="3.1.0";const Re=new Map,je=d=>d.type!=="doughnutLabel",Ti=vn.concat(un);var Fn={id:"annotation",version:Mi,beforeRegister(){_t("chart.js","4.0",c.t1.version)},afterRegister(){c.t1.register(He)},afterUnregister(){c.t1.unregister(He)},beforeInit(d){Re.set(d,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(d,h,p){const x=Re.get(d),w=x.annotations=[];let S=p.annotations;(0,k.i)(S)?Object.keys(S).forEach(P=>{const D=S[P];(0,k.i)(D)&&(D.id=P,w.push(D))}):(0,k.b)(S)&&w.push(...S),fi(w.filter(je),d.scales)},afterDataLimits(d,h){const p=Re.get(d);Ii(d,h.scale,p.annotations.filter(je).filter(x=>x.display&&x.adjustScaleRange))},afterUpdate(d,h,p){const x=Re.get(d);xe(d,x,p),Rn(d,x,p,h.mode),x.visibleElements=x.elements.filter(w=>!w.skip&&w.options.display),di(d,x,p)},beforeDatasetsDraw(d,h,p){rn(d,"beforeDatasetsDraw",p.clip)},afterDatasetsDraw(d,h,p){rn(d,"afterDatasetsDraw",p.clip)},beforeDatasetDraw(d,h,p){rn(d,h.index,p.clip)},beforeDraw(d,h,p){rn(d,"beforeDraw",p.clip)},afterDraw(d,h,p){rn(d,"afterDraw",p.clip)},beforeEvent(d,h,p){const x=Re.get(d);hi(x,h.event,p)&&(h.changed=!0)},afterDestroy(d){Re.delete(d)},getAnnotations(d){const h=Re.get(d);return h?h.elements:[]},_getAnnotationElementsAtEventForMode(d,h,p){return $(d,h,p)},defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:d=>!Ti.includes(d)&&d!=="init",annotations:{_allKeys:!1,_fallback:(d,h)=>`elements.${He[Dn(h.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:On,_fallback:!0},_indexable:On}},additionalOptionScopes:[""]};function rn(d,h,p){const{ctx:x,chartArea:w}=d,S=Re.get(d);p&&(0,k.Y)(x,w);const P=Yi(S.visibleElements,h).sort((D,V)=>D.element.options.z-V.element.options.z);for(const D of P)Bn(x,w,S,D);p&&(0,k.$)(x)}function Yi(d,h){const p=[];for(const x of d)if(x.options.drawTime===h&&p.push({element:x,main:!0}),x.elements&&x.elements.length)for(const w of x.elements)w.options.display&&w.options.drawTime===h&&p.push({element:w});return p}function Bn(d,h,p,x){const w=x.element;x.main?(Hn(p,w,"beforeDraw"),w.draw(d,h),Hn(p,w,"afterDraw")):w.draw(d,h)}}},ps={};function zn(kt){var ot=ps[kt];if(ot!==void 0)return ot.exports;var T=ps[kt]={exports:{}};return $s[kt](T,T.exports,zn),T.exports}(()=>{var kt=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",ot=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",T=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",c=K=>{K&&K.d<1&&(K.d=1,K.forEach($=>$.r--),K.forEach($=>$.r--?$.r++:$()))},k=K=>K.map($=>{if($!==null&&typeof $=="object"){if($[kt])return $;if($.then){var X=[];X.d=0,$.then(G=>{L[ot]=G,c(X)},G=>{L[T]=G,c(X)});var L={};return L[kt]=G=>G(X),L}}var j={};return j[kt]=G=>{},j[ot]=$,j});zn.a=(K,$,X)=>{var L;X&&((L=[]).d=-1);var j=new Set,G=K.exports,nt,ft,lt,it=new Promise((B,z)=>{lt=z,ft=B});it[ot]=G,it[kt]=B=>(L&&B(L),j.forEach(B),it.catch(z=>{})),K.exports=it,$(B=>{nt=k(B);var z,Y=()=>nt.map(wt=>{if(wt[T])throw wt[T];return wt[ot]}),ct=new Promise(wt=>{z=()=>wt(Y),z.r=0;var Tt=_t=>_t!==L&&!j.has(_t)&&(j.add(_t),_t&&!_t.d&&(z.r++,_t.push(z)));nt.map(_t=>_t[kt](Tt))});return z.r?ct:Y()},B=>(B?lt(it[T]=B):ft(G),c(L))),L&&L.d<0&&(L.d=0)}})(),zn.d=(kt,ot)=>{for(var T in ot)zn.o(ot,T)&&!zn.o(kt,T)&&Object.defineProperty(kt,T,{enumerable:!0,get:ot[T]})},zn.o=(kt,ot)=>Object.prototype.hasOwnProperty.call(kt,ot);var hr=zn(4350)})();})();
