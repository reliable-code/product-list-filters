// ==UserScript==
// @name         Prodoctorov List Clean
// @description  Remove profile cards by filter
// @match        https://prodoctorov.ru/*
// @namespace    https://github.com/reliable-code/product-list-filters
// @version      0.6.73247566
// @icon         https://www.google.com/s2/favicons?sz=64&domain=prodoctorov.ru
// @author       reliable-code
// ==/UserScript==

(()=>{(()=>{"use strict";var Ze={};function S(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function se(e){if(Array.isArray(e))return S(e)}function ce(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L(e,n){if(e){if(typeof e=="string")return S(e,n);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S(e,n):void 0}}function me(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ge(e){return se(e)||ce(e)||L(e)||me()}function g(e){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},g(e)}function fe(e,n){if(g(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n||"default");if(g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function A(e){var n=fe(e,"string");return g(n)=="symbol"?n:n+""}function O(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A(r.key),r)}}function P(e,n,t){return n&&O(e.prototype,n),t&&O(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function de(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e,n){if(n&&(g(n)=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return de(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},p(e)}function E(e,n){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},E(e,n)}function pe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&E(e,n)}function N(e,n,t){return(n=A(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var he=P(function e(n,t){var r=this;F(this,e),N(this,"onChangeIfDefined",function(){r.onChange&&r.onChange()}),this.value=n,this.onChange=t});function ye(e){var n=e.target,t=n.type;switch(t){case"text":return'"'.concat(n.value,'"');case"number":return n.value;case"checkbox":return n.checked;default:return console.log("Unknown input type: ".concat(t)),null}}function R(e){return e===""?null:JSON.parse(e)}function be(e,n,t){return n=p(n),ve(e,D()?Reflect.construct(n,t||[],p(e).constructor):n.apply(e,t))}function D(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D=function(){return!!e})()}var k=localStorage;function Se(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=k.getItem(e);return t===null?n:R(t)}var f=function(e){function n(t){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return F(this,n),r=be(this,n,[Se(t,a),u]),N(r,"updateValueFromEvent",function(i){var l=ye(i),o=R(l);r.value!==o&&(k.setItem(r.storageKey,l),r.value=o,r.onChangeIfDefined())}),r.storageKey=t,r}return pe(n,e),P(n)}(he);function en(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return new Promise(function(r){var a=e.querySelector(n);if(a){r(a);return}var u=new MutationObserver(l);u.observe(e,{childList:!0,subtree:!0});var i=null;t&&(i=setTimeout(function(){u.disconnect(),console.log("No element found for selector: ".concat(n)),r(null)},t));function l(){e.querySelector(n)&&(i&&clearTimeout(i),u.disconnect(),r(e.querySelector(n)))}})}function M(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,t;return function(){for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];clearTimeout(t),t=setTimeout(function(){return e.apply(void 0,a)},n)}}function Ee(e){if(Array.isArray(e))return e}function _e(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r,a,u,i,l=[],o=!0,c=!1;try{if(u=(t=t.call(e)).next,n===0){if(Object(t)!==t)return;o=!1}else for(;!(o=(r=u.call(t)).done)&&(l.push(r.value),l.length!==n);o=!0);}catch(v){c=!0,a=v}finally{try{if(!o&&t.return!=null&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}function Ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function we(e,n){return Ee(e)||_e(e,n)||L(e,n)||Ce()}function nn(e){return e.replace(/\D/g,"")}function Te(e){return e.replace(/[^\d.,-]/g,"")}function tn(e){return e.replace(/\s/g,"")}function rn(e){return e.charAt(0).toUpperCase()+e.slice(1)}function s(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=n.querySelector(e);return t&&!r&&console.log("No element found for selector: ".concat(e)),r}function _(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=n.querySelectorAll(e);return t&&!r.length&&console.log("No elements found for selector: ".concat(e)),r}function an(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=s(n,e,!0),u=h(a,t,r);return u}function h(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(!e)if(r===null)console.log("No element found");else return r;var a=e.innerText;return j(a,n,t)}function un(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e[n],a=h(r,t);return a}function ln(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=e.textContent;return j(r,n,t)}function j(e,n,t){n&&(e=Te(e)),t&&(e=e.replace(",","."));var r=+e;return r}function xe(e,n){Object.entries(n).forEach(function(t){var r=we(t,2),a=r[0],u=r[1];e.style[a]=u})}function Ie(e,n,t){var r=C("text",e,n);return r.value=t,r}function Le(e,n,t,r,a,u){var i=C("number",e,n);return i.value=t,i.step=r,i.min=a,i.max=u,i}function Ae(e,n,t){var r=C("checkbox",e,n);return r.checked=t,r}function C(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=document.createElement("input");return e&&(r.type=e),n&&(r.addEventListener("keyup",M(n,200)),r.addEventListener("change",M(n,100))),t&&(r.style=t),r}function on(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return y("span",e,n)}function V(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=y("a",e,n);return t&&(r.href=t),r}function sn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=y("button",e,n);return t&&(r.onclick=t),r}function w(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=document.createElement("div");return e&&(t.textContent=e),n&&(t.style=n),t}function d(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return y("div",e,n)}function y(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=document.createElement(e);return Object.keys(n).length>0&&xe(r,n),t&&(r.innerHTML=t),r}function Oe(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"customFiltersContainer",a=s("#".concat(r),e);if(a)if(t)a.remove();else return;a=d(),a.id=r,n(a,e)}function B(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=window.location.pathname;return H(r,e,n,t)}function H(e,n,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=e.split("/"),u=a[n]||t;return r&&console.log("Pathname element: ".concat(u)),u}function cn(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"common",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=B(e,"",t);return U(r,n,t)}function U(e,n,t){if(!e)return n;var r=e.split("-").at(-1);return t&&console.log("Pathname element ending: ".concat(r)),r}function mn(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"common",r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=H(e,n,"",r);return U(a,t,r)}function gn(e){var n=window.location.search;return Pe(n,e)}function Pe(e,n){var t=new URLSearchParams(e);return t.get(n)}function fn(e){return window.location.pathname.includes(e)}function dn(e){var n=window.location.pathname.split("/");return n.some(function(t){return t===e})}function q(e,n){return!Fe(e,n)}function Fe(e,n){if(!n.value)return!0;var t=e.toLowerCase(),r=n.value.toLowerCase().split(",").map(function(l){return l.trim()}),a=r.reduce(function(l,o){if(!o.startsWith("!"))l.include.push(o);else{var c=o.substring(1);c.length&&l.notInclude.push(c)}return l},{include:[],notInclude:[]}),u=a.include,i=a.notInclude;return u.every(function(l){return t.includes(l)})&&i.every(function(l){return!t.includes(l)})}function W(e,n){return n.value&&e<n.value}function vn(e,n){return n.value&&e>n.value}function b(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=w(e,t),u=Ie(n.updateValueFromEvent,r,n.value);return a.append(u),a}function m(e,n,t,r,a){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,i=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=w(e,u),o=Le(n.updateValueFromEvent,i,n.value,t,r,a);return l.append(o),l}function G(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=w(e,t),u=Ae(n.updateValueFromEvent,r,n.value);return a.append(u),a}function pn(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return b("\u0421\u043E\u0434\u0435\u0440\u0436\u0438\u0442: ",e,n,t)}function hn(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return b("\u041F\u0440\u043E\u0434\u0430\u0432\u0435\u0446: ",e,n,t)}function yn(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.1;return m("\u041C\u0438\u043D. \u0440\u0435\u0439\u0442\u0438\u043D\u0433: ",e,r,3,5,n,t)}function Ne(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return z("\u041C\u0438\u043D. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",e,n,t)}function bn(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return z("\u041C\u0430\u043A\u0441. \u043E\u0442\u0437\u044B\u0432\u043E\u0432: ",e,n,t)}function z(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return m(e,n,"1","1","999999",t,r)}function Sn(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return K("\u041C\u0438\u043D. \u0441\u043A\u0438\u0434\u043A\u0430: ",e,n,t)}function En(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return K("\u0421\u043A\u0438\u0434\u043A\u0430: ",e,n,t)}function K(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return m(e,n,"5","0","100",t,r)}function _n(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return m("\u041C\u0438\u043D\u0438\u043C\u0430\u043B\u044C\u043D\u043E \u0433\u043E\u043B\u043E\u0441\u043E\u0432: ",e,"50","0","10000",n,t)}function Cn(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return m("\u041C\u0438\u043D. \u043A\u0435\u0448\u0431\u0435\u043A: ",e,"5","0","100",n,t)}function Q(e,n,t,r,a){return m(e,n,a,"0","1000000",t,r)}function wn(e,n,t){return m("\u041A\u0443\u043F\u043E\u043D: ",e,"500","0","100000",n,t)}function Tn(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"250";return Q("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430: ",e,n,t,r)}function xn(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return Q("\u041C\u0430\u043A\u0441. \u0446\u0435\u043D\u0430 \u0441\u043E \u0441\u043A\u0438\u0434\u043A\u043E\u0439: ",e,n,t,"250")}function In(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return G("\u0411\u0435\u0437 \u0440\u0435\u0439\u0442\u0438\u043D\u0433\u0430: ",e,n,t)}function Re(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return G("\u0412\u043A\u043B: ",e,n,t)}function Ln(e,n){e.parentNode.insertBefore(n,e.nextSibling)}function $(e){Z(e),Y(e,"none")}function J(e,n){n=n||X(e),Y(e,n)}function De(e,n,t){n?$(e):(t=t||X(e),J(e,t))}function Y(e,n){e.style.display=n}function X(e){return Z(e),e.getAttribute("display")}function Z(e){if(!e.hasAttribute("display")){var n=getComputedStyle(e),t=n.display;e.setAttribute("display",t)}}function An(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.2;n?Me(e,t):ke(e)}function ke(e){e.style.opacity=""}function Me(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.2;e.style.opacity=n}function On(e){e.style.order=""}function Pn(e,n){e.style.order=n}function Fn(e,n){e.style.background=n}function Nn(e){var n=document.createElement("style");n.type="text/css",n.textContent=e,document.head.appendChild(n)}var je=".appointments_page",Ve=".b-doctor-card_special-placement",Be=".b-doctor-card",He=".b-doctor-card__name-surname",ee="additionalLinksAppended",Rn=".b-doctor-details__main",Ue=".b-doctor-details__toc",ne=B(2),te=new f("".concat(ne,"-spec-filter"),null),re=new f("".concat(ne,"-clinic-filter"),null),ae=new f("min-reviews-filter",10),ue=new f("min-experience-filter",5),le=new f("filter-enabled",!0),T=s(je);T?setInterval(qe,100):(ze(),Ke(),$e(),oe());function qe(){Oe(T,We),Ge()}function We(e,n){e.style="display: flex;grid-gap: 15px;margin-top: 5px;font-size: 15px;";var t="display: flex;align-items: center;",r="margin: 0px 4px;",a=r+"width: 180px;",u=r+"width: 45px;",i=r+"width: 20px;height: 20px;",l=b("\u0421\u043F\u0435\u0446\u0438\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F:",te,t,a),o=b("\u041A\u043B\u0438\u043D\u0438\u043A\u0430:",re,t,a),c=Ne(ae,t,u),v=m("\u041C\u0438\u043D. \u043E\u043F\u044B\u0442: ",ue,"1","0","100",t,u),I=Re(le,t,i);e.append(l,o,c,v,I),n.prepend(e)}function Dn(){var e=getAllElements(Ve);e.forEach(function(n){return n.remove()})}function Ge(){var e=_(Be,T);e.forEach(function(n){if(!le.value){J(n);return}var t=s(".b-profile-card",n,!0),r=s(":scope > a",t),a=s(".b-doctor-card__experience .mr-2 .ui-text",n,!0);if(!r||!a){$(n);return}var u=s(".b-doctor-card__spec",n,!0),i=u.innerText.trim(),l=s("div.b-doctor-card__lpu-select",n,!0),o=s(".b-select__trigger-main-text",l,!0),c=o.innerText.trim(),v=h(r,!0),I=h(a,!0),Je=q(i,te)||q(c,re)||W(v,ae)||W(I,ue);De(n,Je);var Ye=s(He,n,!0),Xe=Ye.innerText;ie(Xe,t)})}function ie(e,n){n.classList.contains(ee)||(x(e,n,"\u041D\u0430\u041F\u043E\u043F\u0440\u0430\u0432\u043A\u0443"),x(e,n,"DocDoc"),x(e,n,"\u0414\u043E\u043A\u0442\u0443"),n.classList.add(ee))}function x(e,n,t){var r="".concat(e," ").concat(t),a=encodeURIComponent(r),u=document.createElement("br"),i="https://www.google.com/search?q=".concat(a,"&btnI"),l=V({},t,i);n.append(u,l)}function ze(){var e=s('.b-doctor-intro__title-first-line [itemprop="name"]',document,!0);if(e){var n=e.innerText.trim(),t=d();t.style.textAlign="center";var r=s(".b-doctor-intro__left-side");r.append(t),ie(n,t)}}function Ke(){var e=s(".reviews-filter:not(.b-reviews-page__filter)");if(e){var n=s(".b-doctor-intro__title-first-line",document,!0);if(n){var t=s('[itemprop="name"]',n,!0);if(t){var r=d();r.style.position="absolute",r.classList.add("v-application");var a=d();a.style.position="relative",a.style.height="45px",a.append(r);for(var u=_(":scope > span",e,!0),i=u.length-1,l=1;l<=i;l+=1){var o=u[l],c=o.cloneNode(!0);c.addEventListener("click",Qe(o)),r.append(c)}t.append(a)}}}}function Qe(e){return function(){e.parentNode.scrollIntoView({behavior:"smooth"}),e.click()}}function $e(){var e=s("#doctor-contacts");if(e){var n=ge(_(Ue)).pop();if(n){n.style.position="sticky",n.style.top="16px";var t=d({},"\u041C\u0435\u0441\u0442\u043E \u0440\u0430\u0431\u043E\u0442\u044B");t.classList.add("b-doctor-details__toc-title");var r=V({},null,"#doctor-contacts");r.append(t),r.classList.add("b-doctor-details__toc-item"),n.insertBefore(r,n.firstChild)}}}function oe(){var e=s('[data-qa="show_more_list_items"]');e&&!e.classList.contains("d-none")&&e.click(),setTimeout(oe,250)}})();})();
